<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>英语四级单词</title>
      <link href="/79333/2024/04/12/600%E4%B8%AA%E8%8B%B1%E8%AF%AD%E5%9B%9B%E7%BA%A7%E5%8D%95%E8%AF%8D/"/>
      <url>/79333/2024/04/12/600%E4%B8%AA%E8%8B%B1%E8%AF%AD%E5%9B%9B%E7%BA%A7%E5%8D%95%E8%AF%8D/</url>
      
        <content type="html"><![CDATA[<ol><li><p>alter &#x2F;’ɔ:ltə&#x2F; v.改变，改动，变更</p></li><li><p>burst &#x2F; bə:st&#x2F; vi.&amp;n.突然发生，爆裂</p></li><li><p>dispose &#x2F; dis’pəuz&#x2F; vi.除掉，处置，解决，处理 (of)</p></li><li><p>blast &#x2F; blɑ:st&#x2F; n.爆炸，气流；vi.炸，炸掉</p></li><li><p>consume &#x2F;kən’sju:m&#x2F; v.消耗，耗尽</p></li><li><p>split &#x2F;split&#x2F; v.劈开，割裂，分裂；a.裂开的</p></li><li><p>spill &#x2F;spil&#x2F; v.溢出，溅出，倒出</p></li><li><p>slip &#x2F;slip&#x2F; v.滑动，滑落，忽略</p></li><li><p>slide &#x2F;slaid&#x2F; v.滑动，滑落；n.滑动，滑面；幻灯片</p></li><li><p>spit &#x2F;spit&#x2F; v.吐(唾液等)；唾弃</p></li><li><p>bacteria &#x2F;bæk ‘tiəriə&#x2F; n.细菌</p></li><li><p>breed &#x2F;bri:d&#x2F; n.种，品种；v.繁殖，产仔</p></li><li><p>budget &#x2F;bʌ ‘dʒit&#x2F; n.预算；v.编预算，作安排</p></li><li><p>candidate &#x2F; ‘kændidit&#x2F; n.候选人</p></li><li><p>campus &#x2F; ‘kæmpəs&#x2F; n.(大学)校园</p></li><li><p>liberal &#x2F; ‘libərəl&#x2F; n.开明人士；adj.慷慨的，大方的</p></li><li><p>transform &#x2F;træns ‘fɔ:m&#x2F; v.转变，变革；变换</p></li><li><p>transmit &#x2F; ‘trænsimit&#x2F; v.传播，播送；传递</p></li><li><p>transplant &#x2F;træns ‘pla:nt&#x2F; v.移植</p></li><li><p>transport &#x2F;træns ‘pɔ:t&#x2F; vt.运输，运送；n.运输，运输工具</p></li><li><p>shift &#x2F;ʃift&#x2F; v.转移，转动；转变</p></li><li><p>vary &#x2F; ‘væri&#x2F; v.变化，改变；使多样化</p></li><li><p>vanish &#x2F; ‘væniʃ&#x2F; vi.消灭，消失，不见</p></li><li><p>swallow &#x2F; ‘swæləu&#x2F; v.吞下，咽下；n.燕子</p></li><li><p>suspicion &#x2F;səs ‘piʃən&#x2F; n.怀疑，疑心</p></li><li><p>suspicious &#x2F;səs ‘piʃəs&#x2F; adj.怀疑的，可疑的</p></li><li><p>mild &#x2F;maild&#x2F; adj. 温暖的，温和的；温柔的，味淡的</p></li><li><p>tender &#x2F; ‘tendə&#x2F; adj. 温柔的；脆弱的</p></li><li><p>nuisance &#x2F; ‘nju:səns&#x2F; n.损害，妨害，讨厌(的人或事)</p></li><li><p>insignificant &#x2F;,insig ‘nifisənt&#x2F; adj. 无意义的，无足轻重的；</p></li><li><p>accelerate &#x2F;æk ‘selə reit&#x2F; v.加速，促进</p></li><li><p>absolute &#x2F; ‘æbsəlu:t&#x2F; v.adj. 绝对的，无条件的；完全的</p></li><li><p>boundary &#x2F; ‘baundəri&#x2F; n.分界线，边界</p></li><li><p>brake &#x2F;breik&#x2F; n.刹车，制动器v.刹车</p></li><li><p>catalog &#x2F; ‘kætəlɔg&#x2F; n.目录(册) v.编目</p></li><li><p>vague &#x2F;veig&#x2F; adj. 模糊的，不明确的</p></li><li><p>vain &#x2F;vein&#x2F; n.徒劳，白费</p></li><li><p>extinct &#x2F;iks ‘tiŋkt&#x2F; adj. 灭绝的，熄灭的</p></li><li><p>extraordinary &#x2F; iks’trɔ:dinəri&#x2F; adj.特别的，非凡的</p></li><li><p>extreme &#x2F;iks iks’tri:m&#x2F; adj.极度的，极端的 n.极端</p></li><li><p>agent &#x2F; ‘eidʒint&#x2F; n.代理人，代理商；动因，原因</p></li><li><p>alcohol &#x2F; ‘ælkəhɔl&#x2F; n.酒精，含酒精的饮料</p></li><li><p>appeal &#x2F;ə ‘pi:.&#x2F; vi.&amp;n.呼吁，恳求</p></li><li><p>appreciate &#x2F; ə’pri:ʃieit&#x2F; vt.重视，赏识，欣赏</p></li><li><p>approve &#x2F;ə’pru:v&#x2F; v.赞成，同意，批准</p></li><li><p>stimulate &#x2F; ‘stimjuleit&#x2F; vt.刺激，鼓励</p></li><li><p>acquire&#x2F; ə’kwaiə&#x2F; vt.取得，获得；学到</p></li><li><p>accomplish&#x2F; ə’kɔmpliʃ&#x2F; vt.完成，到达；实行</p></li><li><p>network &#x2F; ‘netwə:k&#x2F; n.网状物；广播网，电视网；网络</p></li><li><p>tide &#x2F;taid&#x2F; n.潮汐；潮流</p></li><li><p>tidy &#x2F; ‘taidi&#x2F; adj.整洁的，整齐的</p></li><li><p>trace &#x2F;treis&#x2F; vt.追踪，找到 n.痕迹，踪迹</p></li><li><p>torture &#x2F; ‘tɔ:tʃə&#x2F; n.&amp;vt.拷打，折磨</p></li><li><p>wander&#x2F; ‘wɔndə&#x2F; vi.漫游，闲逛</p></li><li><p>wax &#x2F;wæks&#x2F; n.蜡</p></li><li><p>weave &#x2F;wi:v&#x2F; v.织，编</p></li><li><p>preserve &#x2F;pri ‘zə:v&#x2F; v.保护，保存，保持，维持</p></li><li><p>abuse&#x2F;ə ‘bju:z&#x2F; v.滥用，虐待；谩骂</p></li><li><p>academic &#x2F;æk ‘demik&#x2F; adj.学术的；高等院校的；研究院的</p></li><li><p>academy &#x2F; ə’kædəmi&#x2F; n.(高等)专科院校；学会</p></li><li><p>battery &#x2F;’’bætəri&#x2F; 电池(组)</p></li><li><p>barrier &#x2F;’ bæriə&#x2F; 障碍；棚栏</p></li><li><p>cargo &#x2F;’ ka:gəu&#x2F; (船&#x2F;飞机等装载的)货物</p></li><li><p>career &#x2F;kə’riə&#x2F; 生涯，职业</p></li><li><p>vessel &#x2F;’vesəl&#x2F; n.船舶；容器，器皿；血管</p></li><li><p>vertical &#x2F;’və:tikəl&#x2F; adj.垂直的</p></li><li><p>oblige &#x2F;ɔb’laidʒ&#x2F; v.迫使，责成；使感激</p></li><li><p>obscure &#x2F;ɔbs’kju&#x2F; adj.昏暗的，朦胧的; 晦涩的</p></li><li><p>extent &#x2F;iks’tent&#x2F; n.程度，范围；大小，限度</p></li><li><p>exterior &#x2F;iks’tiəriə&#x2F; n.外部，外表;a.外部的，外表的</p></li><li><p>external &#x2F;eks’tənəl&#x2F; a.外部的，外表的，外面的</p></li><li><p>petrol &#x2F;’petrəl&#x2F; n.汽油</p></li><li><p>petroleum &#x2F;pi’trəuliəm&#x2F; n.石油</p></li><li><p>delay &#x2F;di’lei&#x2F; vt.&#x2F; n.推迟，延误，耽搁.</p></li><li><p>decay &#x2F;di’kei&#x2F; vi.腐烂，腐朽</p></li><li><p>decent &#x2F;’disənt&#x2F; a.像样的，体面的</p></li><li><p>route &#x2F;ru:t&#x2F; n.路；路线；航线</p></li><li><p>ruin &#x2F;ruin&#x2F; v.毁坏，破坏；n.毁灭 [pl.]废墟</p></li><li><p>sake &#x2F;seik&#x2F; n.缘故，理由</p></li><li><p>satellite &#x2F;sætə’lait&#x2F; n.卫星</p></li><li><p>scale &#x2F;skeil&#x2F; n.大小，规模；等级；刻度</p></li><li><p>temple &#x2F;’templ&#x2F; n.庙宇</p></li><li><p>tedious &#x2F;’tidiəs&#x2F; a.乏味的，单调的</p></li><li><p>tend &#x2F;tend&#x2F; vi.易于，趋向</p></li><li><p>tendency &#x2F;’tendənci&#x2F; n.趋向，趋势</p></li><li><p>ultimate &#x2F;’ʌltimeit&#x2F; a.极端的，最大的，最终的；n.极端</p></li><li><p>undergo &#x2F;’ʌndəgəu&#x2F; v.经历，遭受</p></li><li><p>abundant &#x2F;ə’bʌndənt&#x2F; a.丰富的，充裕的，大量的</p></li><li><p>adopt &#x2F;ə’dɔpt&#x2F; v.收养；采用；采纳</p></li><li><p>adapt &#x2F;ə’dæpt&#x2F; v.适应，适合；改编，改写；vt.使适应</p></li><li><p>bachelor &#x2F;’bætʃilə&#x2F; n.学士，学士学位</p></li><li><p>casual &#x2F;’kæʒjuəl&#x2F; a.偶然的，碰巧的</p></li><li><p>trap &#x2F;træp&#x2F; n.陷阱，圈套；v.设陷阱捕捉</p></li><li><p>vacant &#x2F;’vækənt&#x2F; a.空的，未占用的</p></li><li><p>vacuum &#x2F;’vækjuəm&#x2F; n.真空，真空吸尘器</p></li><li><p>oral &#x2F;’ɔrəl&#x2F; a.口头的，口述的，口的</p></li><li><p>optics &#x2F;’ɔptiks&#x2F; n.(单&#x2F;复数同形)光学</p></li><li><p>organ &#x2F;’ɔ:gən&#x2F;n.器官，风琴</p></li><li><p>excess &#x2F;ik’ses&#x2F;n.过分，过量，过剩</p></li><li><p>expel &#x2F;iks’pel&#x2F;v.驱逐，开除，赶出</p></li><li><p>expend &#x2F;iks’pend&#x2F; v.消费</p></li><li><p>expenditure &#x2F;iks’penditʃiə&#x2F; n.支出，消费；经费</p></li><li><p>expense &#x2F;iks’pens&#x2F; n.开销，费用</p></li><li><p>expensive &#x2F;iks’pensiv&#x2F; a.价格高的</p></li><li><p>expand &#x2F;iks’pænd&#x2F; v.扩大，扩张；发展，膨胀</p></li><li><p>expansion &#x2F;iks’pændiʃən&#x2F; n.扩大，扩充；发展，膨胀</p></li><li><p>private&#x2F;’praiveit&#x2F; a.个人的，私人的</p></li><li><p>individual &#x2F;indi’vidjuəl&#x2F; a.个别的，单独的；n.个人，个体</p></li><li><p>personal &#x2F;’pə:snəl&#x2F; a.个人的，私人的；亲自的</p></li><li><p>personnel &#x2F;pə:sə’nel&#x2F; n.[总称]人员，员工；人事部门</p></li><li><p>the Pacific Ocean 太平洋</p></li><li><p>the Atlantic Ocean 大西洋</p></li><li><p>the Arctic Ocean北冰洋</p></li><li><p>the Antarctic Ocean南冰洋</p></li><li><p>grant &#x2F;grænt&#x2F; v.授予，同意，准予</p></li><li><p>grand &#x2F;grænd&#x2F; a.宏伟的，壮丽的，重大的</p></li><li><p>invade &#x2F;in’veid&#x2F; v.侵入，侵略，侵袭</p></li><li><p>acid &#x2F;’eisid&#x2F; n.酸，酸性物质；a.酸的；尖刻的</p></li><li><p>acknowledge &#x2F;ək’nɔlidʒ&#x2F; v.承认；致谢</p></li><li><p>balcony &#x2F;’bælkəni&#x2F; n.阳台</p></li><li><p>calculate &#x2F;kælkjuleit&#x2F; vt.计算</p></li><li><p>calendar &#x2F;’kælində&#x2F; n.日历，月历</p></li><li><p>optimistic &#x2F;,ɔpti’mistik&#x2F; a.乐观的</p></li><li><p>optional &#x2F;’ɔpʃənəl&#x2F; a.可以选择的，非强制的</p></li><li><p>outstanding &#x2F;aut’stændiŋ&#x2F; a.杰出的，突出的，显著的</p></li><li><p>export &#x2F;’ekspɔ:t&#x2F; n.出口；v.出口，输出</p></li><li><p>import &#x2F;’impɔ:t&#x2F; n.进口；v.进口，输入</p></li><li><p>impose &#x2F;im’pəuz&#x2F; vt.把……强加给(on)；采用，利用</p></li><li><p>religion &#x2F;ri’lidʒən&#x2F; n.宗教</p></li><li><p>religious &#x2F;ri’lidʒəs&#x2F; adj.宗教的</p></li><li><p>victim &#x2F;’viktim&#x2F; n.牺牲品，受害者</p></li><li><p>video &#x2F;’vidiəu&#x2F; n.电视，视频；a.电视的，录像的</p></li><li><p>videotape&#x2F;’vidiəuteip&#x2F; n.录像磁带；v.把…录在录像带上</p></li><li><p>offend &#x2F;ə’fend&#x2F; v.冒犯，触犯</p></li><li><p>bother &#x2F;’bɔðə&#x2F; v.打搅，麻烦</p></li><li><p>interfere &#x2F;7intə’fiə&#x2F; v.干涉，干扰，妨碍</p></li><li><p>internal &#x2F;7in’tə:nəl&#x2F; a.内部的，国内的</p></li><li><p>beforehand &#x2F;bi’fɔ:hænd&#x2F; ad.预先，事先</p></li><li><p>racial &#x2F;’reiʃəl&#x2F; a.人种的，种族的</p></li><li><p>radiation &#x2F;7reidi’eiʃən&#x2F; n.放射物，辐射</p></li><li><p>radical &#x2F;’rædikəl&#x2F; a.根本的，激进的</p></li><li><p>range &#x2F;reindʒ&#x2F; n.幅度，范围v.(在某范围内)变动</p></li><li><p>wonder &#x2F;’wʌndə&#x2F; v.想知道，对…感到疑问；n.惊奇，奇迹</p></li><li><p>isolate &#x2F;’aisəleit&#x2F; vt.使隔离，使孤立</p></li><li><p>issue &#x2F;’isju:&#x2F; n.问题，争论点；发行，(报刊)一期</p></li><li><p>hollow &#x2F;’hɔləu&#x2F; a.空的，中空的，空虚的</p></li><li><p>hook &#x2F;huk&#x2F; n.钩；vt.钩住</p></li><li><p>adequate &#x2F;’ædikwit&#x2F; a.适当的；足够的</p></li><li><p>adhere &#x2F;əd’hiə&#x2F; vi.粘附，附着；遵守，坚持</p></li><li><p>ban &#x2F;bæn&#x2F; vt.取缔，禁止</p></li><li><p>capture &#x2F;’cæptʃə&#x2F; vt.俘虏，捕获</p></li><li><p>valid &#x2F;’vælid&#x2F; a.有效的，有根据的；正当的</p></li><li><p>valley &#x2F;’væli&#x2F; n.山谷.峡谷</p></li><li><p>consistent&#x2F;kən’sistənt&#x2F; a.坚固的；一致的，始终如一的</p></li><li><p>continuous &#x2F;kən’tinjuəs&#x2F; a.继续的，连续(不断)的</p></li><li><p>continual &#x2F;kən’tinjuəl&#x2F; a.不断的，频繁的</p></li><li><p>explode &#x2F;iks’pləud&#x2F; v.报摘；爆发；激增</p></li><li><p>exploit &#x2F;iks’plɔit&#x2F; v.剥削；利用，开采</p></li><li><p>explore &#x2F;iks’plɔ:&#x2F; v.勘探</p></li><li><p>explosion &#x2F;iks’pləuʒən&#x2F; n.爆炸；爆发；激增</p></li><li><p>explosive &#x2F;iks’pləusiv&#x2F; a.爆炸的；极易引起争论的</p></li><li><p>remote &#x2F;ri’məut&#x2F; a.遥远的，偏远的</p></li><li><p>removal &#x2F;ri’mu:vəl&#x2F; n.除去，消除</p></li><li><p>render &#x2F;’rendə&#x2F; vt.使得，致使</p></li><li><p>precaution &#x2F;pri’kɔ:ʃən&#x2F; n.预防，防备，警惕</p></li><li><p>idle &#x2F;’aidl&#x2F; a.懒惰的，无所事事的</p></li><li><p>identify &#x2F;ai’dentifai&#x2F; vt.认出，鉴定</p></li><li><p>identity &#x2F;ai’dentiti&#x2F; n.身份；个性，特性</p></li><li><p>poverty &#x2F;’pɔvə:ti&#x2F; n.贫穷</p></li><li><p>resistant &#x2F;ri’zistənt&#x2F; a.(to)抵抗的，抗……的，耐……的</p></li><li><p>resolve &#x2F;ri’zɔlv&#x2F; vt.解决；决定，决意</p></li><li><p>barrel &#x2F;’bærəl&#x2F; n.桶</p></li><li><p>bargain &#x2F; ˈbɑ:rgən&#x2F; n.便宜货；vi.讨价还价</p></li><li><p>coarse &#x2F;kɔ:s&#x2F; a.粗的，粗糙的，粗劣的</p></li><li><p>coach &#x2F;kəutʃ&#x2F; n.教练；长途公共汽车</p></li><li><p>code &#x2F;kəud&#x2F; n.准则，法规，密码</p></li><li><p>coil &#x2F;kɔil&#x2F; n.线圈；v.卷，盘绕</p></li><li><p>adult &#x2F; ‘ædʌlt&#x2F; n.成年人</p></li><li><p>advertise &#x2F;’ædvətaIz&#x2F; v.为……做广告</p></li><li><p>advertisement &#x2F;əd’və:tismənt&#x2F; n.广告</p></li><li><p>agency &#x2F;’eidʒənsi&#x2F; n.代理商，经销商</p></li><li><p>focus &#x2F;’fɔkəs&#x2F; v.(使)聚集；n.焦点，中心，聚焦</p></li><li><p>forbid &#x2F;’fə:bid&#x2F; vt.不许，禁止</p></li><li><p>debate &#x2F;di’beit&#x2F; v.&amp;n.辩论，争论</p></li><li><p>debt &#x2F;det&#x2F; n.欠债</p></li><li><p>decade &#x2F;de’keid&#x2F; n.十年</p></li><li><p>enclose &#x2F;in’kləuz&#x2F; vt.围住；把…..装入信封</p></li><li><p>encounter &#x2F;in’kauntə&#x2F; vt.&amp;n.遭遇，遭到</p></li><li><p>globe &#x2F;gləub&#x2F; n.地球，世界；地球仪</p></li><li><p>global &#x2F;’gləubl&#x2F; adj.全球的；总的</p></li><li><p>scan &#x2F;skæn&#x2F; vt.细看；扫描，浏览</p></li><li><p>scandal &#x2F;’skændəl&#x2F; n.丑事，丑闻</p></li><li><p>significance &#x2F;sig’nifisənt&#x2F; n.意义；重要性</p></li><li><p>subsequent &#x2F;’sʌbsikwənt&#x2F; adj.随后的，后来的</p></li><li><p>virtual &#x2F;’və:tjuəl&#x2F; a.实际上的，事实上的</p></li><li><p>virtue &#x2F;’və:tju:&#x2F; n.美德，优点</p></li><li><p>orient &#x2F;’ɔ:riənt&#x2F; vt.使适应，(to, toward)使朝向；n.东方</p></li><li><p>portion &#x2F;’pɔ:tʃən&#x2F; n.一部分</p></li><li><p>target &#x2F;’ta:git&#x2F; n.目标，耙子；vt.瞄准</p></li><li><p>portable &#x2F;’pɔ:təbl&#x2F; adj.手提式的</p></li></ol><p>Day-2<br>201. decline &#x2F;dik’lain&#x2F; v.拒绝，谢绝；下降</p><ol start="202"><li><p>illusion &#x2F;i’lu:ʒən&#x2F; n.错觉</p></li><li><p>likelihood &#x2F;’laiklihud&#x2F; n.可能，可能性</p></li><li><p>stripe &#x2F;straip&#x2F; n.条纹</p></li><li><p>emphasize &#x2F;emfə’saiz&#x2F; vt.强调，着重</p></li><li><p>emotion &#x2F;i’məuʃən&#x2F; n.情感，感情</p></li><li><p>emotional &#x2F;i’məuʃənəl&#x2F; adj.感情的，情绪(上)的</p></li><li><p>awful &#x2F;’ɔ:ful&#x2F; adj. 极坏的，威严的，可怕的</p></li><li><p>awkward &#x2F;’ɔ:kwəd&#x2F; adj. 笨拙的，棘手的</p></li><li><p>clue &#x2F;klu:&#x2F; n.线索，提示</p></li><li><p>collision&#x2F;kə’liʒən&#x2F; n.碰撞，冲突</p></li><li><p>device &#x2F;di’vais&#x2F; n.装置，设备</p></li><li><p>inevitable &#x2F;in’evitəbl&#x2F; adj.不可避免的</p></li><li><p>naval &#x2F;’neivəl&#x2F; adj.海军的</p></li><li><p>navigation &#x2F;neivi’geitʃən&#x2F; n.航行</p></li><li><p>necessity &#x2F;ni’sesiti&#x2F; n.必需品；必要性</p></li><li><p>previous&#x2F;’priviəs&#x2F; adj.先前的，以前的</p></li><li><p>provision &#x2F;prə’viʒən&#x2F; n.[pl.]给养，口粮；准备，设备，装置</p></li><li><p>pursue &#x2F;pə’sju:&#x2F; vt.追逐；追求；从事，进行</p></li><li><p>stale &#x2F;steil&#x2F; adj.不新鲜 的， 陈腐的</p></li><li><p>substitute &#x2F;’sʌbstitjut&#x2F; n.代用品；vt.代替</p></li><li><p>deserve &#x2F;di’zə:v&#x2F; vt.应受，应得，值得</p></li><li><p>discrimination &#x2F;discrimi’neitʃən&#x2F; n.歧视；辩别力</p></li><li><p>professional &#x2F;prə’fetʃən&#x2F; adj. 专门的，职业的</p></li><li><p>secure &#x2F;si’kjuə&#x2F; adj. 安全的，可靠的；vt.获得，得到</p></li><li><p>scratch &#x2F;skrætʃ&#x2F; n.&#x2F;v.抓，搔，扒</p></li><li><p>talent &#x2F;’tælənt&#x2F; n.才能，天资；人才</p></li><li><p>insurance &#x2F;in’ʃuərəns&#x2F; n.保险，保险费</p></li><li><p>insure &#x2F;in’ʃuə&#x2F; vt.给…..保险，保证，确保</p></li><li><p>nevertheless &#x2F;’nevəðilis&#x2F; adv.仍然，然而，不过</p></li><li><p>neutral &#x2F;’nju:truəl&#x2F; adj. 中立的，中性的</p></li><li><p>spot &#x2F;spɔt&#x2F; n.地点；斑点；vt.认出，发现；玷污</p></li><li><p>spray &#x2F;sprei&#x2F; v.喷，(使)溅散</p></li><li><p>medium &#x2F;’mi:djəm&#x2F; adj.中等的，适中的；n.新闻媒介</p></li><li><p>media &#x2F;’mi:djə&#x2F; n.新闻传媒</p></li><li><p>auxiliary &#x2F; ɔɡˈzɪljəri&#x2F; adj.辅助的，备用的</p></li><li><p>automatic &#x2F;ɔ:təu’mætid&#x2F; adj.自动的</p></li><li><p>compete&#x2F;kɔm’pi:t&#x2F; vi.竞争，比赛</p></li><li><p>competent &#x2F;’kɔmpitənt&#x2F; adj.有能力的，能胜任的</p></li><li><p>competition &#x2F;kɔmpi’titʃən&#x2F; n.竞争， 比赛</p></li></ol><p>241.distribute &#x2F;distri’bju(:)t&#x2F; vt.分发</p><ol start="242"><li><p>disturb &#x2F;dis’tə:b&#x2F; vt.打搅，妨碍</p></li><li><p>infer &#x2F;in’fə:&#x2F; v.推论，推断</p></li><li><p>integrate &#x2F;’intigreit&#x2F; v.(into, with)(使)成为一体，(使)合并</p></li><li><p>moist &#x2F;mɔist&#x2F; adj.潮湿</p></li><li><p>moisture &#x2F;’mɔistʃə&#x2F; n.潮湿</p></li><li><p>promote &#x2F;prə’məut&#x2F; vt.促进；提升</p></li><li><p>region &#x2F;’ridʒiən&#x2F; n.地区；范围；幅度</p></li><li><p>register &#x2F;’redʒistə&#x2F; v.&amp;n.登记，注册</p></li><li><p>stable &#x2F;’steibl&#x2F; adj.稳定的</p></li><li><p>sophisticated &#x2F;səfisti’keit&#x2F; adj.世故的，老练的；很复杂的</p></li><li><p>splendid &#x2F;’splendid&#x2F; adj.极好的，壮丽的，辉煌的</p></li><li><p>cancel &#x2F;’kænsəl&#x2F; vt.取消，废除</p></li><li><p>variable &#x2F;’vɛəriəbl&#x2F; adj.易变的， 可变的</p></li><li><p>prospect&#x2F;’prɔspekt&#x2F; n.前景，前途；景象</p></li><li><p>prosperity &#x2F;prɔs’periti&#x2F; n.兴旺，繁荣</p></li><li><p>aspect &#x2F;’æspekt&#x2F; n.方面；朝向；面貌</p></li><li><p>cope&#x2F;kəup&#x2F; vi.(with) (成功地)应付，处理</p></li><li><p>core &#x2F; kɔ:(r)&#x2F; n.果心，核心</p></li><li><p>maintain&#x2F;mei’tein&#x2F; vt.维持，保持；坚持，主张</p></li><li><p>discipline &#x2F;’disiplin&#x2F; n.纪律；惩罚；学科</p></li><li><p>mainland &#x2F;’meinlænd&#x2F; n.大陆</p></li><li><p>domestic &#x2F;də’mestik&#x2F; adj. 本国的， 国内的；家用的；家庭的</p></li><li><p>constant&#x2F;kən’tein&#x2F; adj.不变的，恒定的；n.常数</p></li><li><p>cliff &#x2F;klif&#x2F; n.悬崖，峭壁</p></li><li><p>authority &#x2F;ɔ:’θɔriti&#x2F; n.权威；当局</p></li><li><p>audio &#x2F;’audiəu&#x2F; adj. 听觉</p></li><li><p>attitude &#x2F;’ætitju:d&#x2F; n.态度</p></li><li><p>community &#x2F;kə’mju:niti&#x2F; n.社区，社会</p></li><li><p>commit &#x2F;kə’mit&#x2F;vt.犯(错误，罪行等)，干(坏事等)</p></li><li><p>comment &#x2F;kə’ment&#x2F; n.&amp;vt.评论</p></li><li><p>distinguish &#x2F;dis’tiŋgwiʃ&#x2F; vt.区分，辨别</p></li><li><p>distress &#x2F;’distres&#x2F; n.痛苦，悲伤；vt.使痛苦</p></li><li><p>facility &#x2F;fə’siliti&#x2F; n.(pl.) 设备，设施；便利，方便</p></li><li><p>faculty &#x2F;’fækəlti&#x2F; n.能力，技能；系，学科，学院；全体教员</p></li><li><p>mixture &#x2F;’mikstʃə&#x2F; n.混合；混合物</p></li><li><p>mood &#x2F;mu:d&#x2F; n.心情，情绪；语气</p></li><li><p>moral &#x2F;’mɔ:rəl&#x2F; adj. 道德上的，有道德的</p></li><li><p>prominent &#x2F;’prɔminənt&#x2F; adj. 突出的</p></li><li><p>substance &#x2F;’sʌbstəns&#x2F; n.物质；实质</p></li><li><p>substantial &#x2F;səb’stænʃəl&#x2F; adj. 可观的；牢固的；实质的</p></li><li><p>prompt &#x2F;prɔmpt&#x2F; vt.促使；adj. 敏捷的，及时的</p></li><li><p>vivid &#x2F;’vivid&#x2F; adj.生动的</p></li><li><p>vocabulary &#x2F;və’kæbjuləri&#x2F; n.词汇(量)；词汇表</p></li><li><p>venture &#x2F;’ventʃə&#x2F; n.风险投资，风险项目；v.冒险；取于</p></li><li><p>version&#x2F;’’və:ʃən&#x2F; n.版本，译本；说法</p></li><li><p>waist &#x2F;weist&#x2F; n.腰，腰部</p></li><li><p>yawn &#x2F;jɔ:n&#x2F; vi.打哈欠</p></li><li><p>yield &#x2F;ji:ld&#x2F; vi.(to) 屈服于；让出，放弃；n.产量</p></li><li><p>zone &#x2F;zəun&#x2F; n.地区，区域</p></li><li><p>strategy &#x2F;’strætidʒi&#x2F; n.战略，策略</p></li><li><p>strategic&#x2F;strə’ti:dʒik&#x2F; adj.战略(上)的，关键的</p></li><li><p>tense &#x2F;tens&#x2F; adj.紧张的；v.拉紧 n.时态</p></li><li><p>tension &#x2F;’tenʃən&#x2F; n.紧张(状态)，张力</p></li><li><p>avenue &#x2F;’ævinju:&#x2F; n.林荫道，大街</p></li><li><p>available &#x2F;ə’veiləbl&#x2F; adj.现成可用的；可以得到的</p></li><li><p>comparable &#x2F;kəm’pɛə&#x2F; adj. (with, to)可比较的，类似的</p></li><li><p>comparative &#x2F;kəm’pærətive&#x2F; adj.比较的，相对的</p></li><li><p>dash &#x2F;dæʃ&#x2F; vi.猛冲，飞奔</p></li><li><p>data &#x2F;’deitə&#x2F; n.数据，资料</p></li><li><p>dive&#x2F;daiv&#x2F; vi.跳水，潜水</p></li><li><p>diverse &#x2F;dai’və:s&#x2F; adj.不痛的，多种多样的</p></li><li><p>entitle &#x2F;in’taitl&#x2F; vt.给…..权利，给….资格</p></li><li><p>regulate &#x2F;’regjuleit&#x2F; vt.管理，调节</p></li><li><p>release &#x2F;ri’li:s&#x2F; vt.&amp;n.释放，排放；解释解脱</p></li><li><p>exaggerate &#x2F;ig’zædʒəreit&#x2F; v.夸大，夸张</p></li><li><p>evil &#x2F;’ivil&#x2F; adj.邪恶的，坏的</p></li><li><p>shrink &#x2F;ʃriŋk&#x2F; vi.起皱，收缩；退缩</p></li><li><p>subtract &#x2F;’sʌbstrækt&#x2F; v.减(去)</p></li><li><p>suburb &#x2F;’sʌbə:b&#x2F; n.市郊</p></li><li><p>subway &#x2F;’sʌbwei&#x2F; n.地铁</p></li><li><p>survey &#x2F;’sə:vei&#x2F; n.&amp;vt.调查，勘测</p></li><li><p>wealthy &#x2F;’welθi&#x2F; adj.富裕的</p></li><li><p>adjust &#x2F;ə’dʒʌst&#x2F; v.调整，调节</p></li><li><p>attach &#x2F;ə’tætʃ&#x2F; vt.系，贴；使附属</p></li><li><p>profit&#x2F;’prɔfit&#x2F; n.利润，益处；v.有益于，有利于</p></li><li><p>profitable &#x2F;’prɔfitəbl&#x2F; adj.有利可图的</p></li><li><p>slope &#x2F;sləup&#x2F; n.斜坡，斜面</p></li><li><p>reinforce &#x2F;’reinfɔ:s&#x2F; vt.加强，增强</p></li><li><p>reject &#x2F;ri’dʒekt&#x2F; vt.拒绝</p></li><li><p>fatal &#x2F;’feitəl&#x2F; adj.致命的；重大的</p></li><li><p>fate &#x2F;feit&#x2F; n.命运</p></li><li><p>humble &#x2F;’hʌmbl&#x2F; adj.谦逊的；谦虚的</p></li><li><p>illegal &#x2F;i’li:gəl&#x2F; adj.不合法的，非法的</p></li><li><p>award &#x2F;ə’wɔ:d&#x2F; vt.授予，判给；n.奖品，奖金</p></li><li><p>aware &#x2F;ə’wɛə&#x2F; adj.知道的，明白的</p></li><li><p>column &#x2F;’kɔləm&#x2F; n.柱，圆柱；栏，专栏</p></li><li><p>comedy &#x2F;’kɔmidi&#x2F; n.喜剧</p></li><li><p>dumb &#x2F;dʌm&#x2F; adj.哑的；沉默的</p></li><li><p>dump &#x2F;dʌmp&#x2F; vt.倾卸，倾倒</p></li><li><p>deaf&#x2F;def&#x2F; adj.聋的；不愿听的</p></li><li><p>decorate &#x2F;’dekəreit&#x2F; vt.装饰，装潢</p></li><li><p>principal &#x2F;’prinsipəl&#x2F; adj.最重要的；n.负责人，校长</p></li><li><p>principle &#x2F;’prinsipl&#x2F; n.原则，原理</p></li><li><p>prior &#x2F;’praiə&#x2F; adj. (to)优先的，在前的</p></li><li><p>priority &#x2F;’praiəti&#x2F; n.优先，重点</p></li><li><p>prohibit &#x2F;prə’hibit&#x2F; vt.禁止，不准</p></li><li><p>remarkable &#x2F;ri’ma:kəbl&#x2F; adj. 值得注意的，异常的，非凡的</p></li><li><p>remedy &#x2F;’remidi&#x2F; n.&amp;vt.补救，医治，治疗</p></li><li><p>repetition &#x2F;repi’tiʃən&#x2F; n.重复，反复</p></li><li><p>vain &#x2F;vein&#x2F; n.徒劳的，无效的</p></li><li><p>undertake &#x2F;’ʌndəteik&#x2F; vt.承担，着手做；同意，答应</p></li><li><p>unique &#x2F;ju:’ni:k&#x2F; adj.惟一的，独特的</p></li><li><p>obstacle &#x2F;’ɔb’stəkl&#x2F; n.障碍(物)，妨碍</p></li><li><p>odd &#x2F;ɔd&#x2F; adj.奇特的，古怪的；奇数的</p></li><li><p>omit &#x2F;əu’mit&#x2F; vt.省略</p></li><li><p>opponent &#x2F;ə’pəunənt&#x2F; n.敌手，对手</p></li><li><p>opportunity &#x2F;ɔpə’tjuniti&#x2F; n.机会，时机</p></li><li><p>orchestra &#x2F;’ɔ:kistrə&#x2F; n.管弦乐队</p></li><li><p>semester&#x2F;si’mestə&#x2F; n.学期；半年</p></li><li><p>semiconductor &#x2F;’semikən’dʌktə&#x2F; n.半导体</p></li><li><p>seminar&#x2F;semi’na:&#x2F; n.研讨会</p></li><li><p>terminal &#x2F;’tə:minəl&#x2F; adj.末端的，极限的；n.终点</p></li><li><p>territory &#x2F;’teritəri&#x2F; n.领土</p></li><li><p>approximate&#x2F;ə’prɔksimeit&#x2F; adj.大概的，大约；v.近似</p></li><li><p>arbitrary&#x2F;’a:bitrəri&#x2F; adj.随意的，未断的</p></li><li><p>architect&#x2F;’a:kiteckt&#x2F; n.建筑师</p></li><li><p>architecture &#x2F;a:ki’tektʃə&#x2F; n.建筑学</p></li><li><p>biology &#x2F;bai’ɔlədʒi&#x2F; n.生物学</p></li><li><p>geography &#x2F;dʒi’ɔgrəfi&#x2F; n.地理(学)</p></li><li><p>geology&#x2F;dʒi’ɔlədʒi&#x2F; 地质学</p></li><li><p>geometry &#x2F;dʒi’ɔmitri&#x2F; n.几何(学)</p></li><li><p>arithmetic &#x2F;ariθ’metik&#x2F; n.算术</p></li><li><p>algebra &#x2F;’ældʒibrə&#x2F; n.代数</p></li><li><p>entertainment &#x2F;entə’teimənt&#x2F; n.娱乐，招待，款待</p></li><li><p>enthusiasm &#x2F;in’θju:ziæzəm&#x2F; n.热情，热心</p></li><li><p>entry &#x2F;’entri&#x2F; n.进入，入口处；参赛的人(或物)</p></li><li><p>environment &#x2F;in’vaiərənmənt&#x2F; n.环境</p></li><li><p>episode &#x2F;’episəud&#x2F; n.插曲，片段 (电视剧中的)集</p></li><li><p>equation&#x2F;i’qweiʃən&#x2F; n.方程(式)</p></li><li><p>restrain &#x2F;’restrein&#x2F; vt.阻止，抑制</p></li><li><p>restraint &#x2F;’restreint&#x2F; n.抑制，限制</p></li><li><p>resume &#x2F;’rezjum&#x2F; v.(中断后)重新开始</p></li><li><p>severe &#x2F;si’viə&#x2F; adj.严重的</p></li><li><p>sexual &#x2F;’seksjuəl&#x2F; adj.性的</p></li><li><p>simplicity &#x2F;’simplisiti&#x2F; n.简单；朴素</p></li><li><p>simplify&#x2F;’simplifai&#x2F; vt.简化</p></li><li><p>sorrow &#x2F;’sɔrəu&#x2F; n.悲哀，悲痛</p></li><li><p>stuff &#x2F;stʌf&#x2F; n.原料，材料；vt.塞进，塞满</p></li><li><p>temporary &#x2F;’tempərəri&#x2F; adj.暂时的，临时的</p></li><li><p>temptation &#x2F;temp’teiʃən&#x2F; n.诱惑，引诱</p></li><li><p>terror &#x2F;’terə&#x2F; n.恐怖</p></li><li><p>thrust &#x2F;θrʌst&#x2F; v.挤，推，插</p></li><li><p>treaty &#x2F;’treti&#x2F; n.条约，协定</p></li><li><p>arise &#x2F;ə’raiz&#x2F; vi.产生，出现，发生；起身</p></li><li><p>arouse &#x2F;ə’rauz&#x2F; vt.引起，激起；唤醒</p></li><li><p>burden &#x2F;’bə:dən&#x2F; n.负担，重担</p></li><li><p>bureau &#x2F;’bjurəu&#x2F; n.局，办事处</p></li><li><p>marvelous &#x2F;’ma:vələs&#x2F; adj.奇迹般的，惊人的</p></li><li><p>massive &#x2F;’mæsiv&#x2F; adj.大的，大量的，大快的</p></li><li><p>mature &#x2F;mə’tjuə&#x2F; adj.成熟的</p></li><li><p>maximum &#x2F;’mæksiməm&#x2F; adj.最高的，最大的</p></li><li><p>minimum &#x2F;’miniməm&#x2F; adj. 最小的，最低的</p></li><li><p>nonsense &#x2F;’nɔnsəns&#x2F; n.胡说</p></li><li><p>nuclear &#x2F;’njukliə&#x2F; adj.核子的，核能的</p></li><li><p>nucleus &#x2F;’njukliəs&#x2F; n.核</p></li><li><p>retail &#x2F;ri’teil&#x2F; v.&#x2F;n.&#x2F;adj. 零售</p></li><li><p>retain &#x2F;ri’tein&#x2F; vt.保留，保持</p></li><li><p>restrict &#x2F;ris’trikt&#x2F; vt.限制，约束</p></li><li><p>sponsor &#x2F;’spɔnsə&#x2F; n.发起者，主办者；vt.发起，主办，资助</p></li></ol><p>Day-3<br>401. spur&#x2F;spə:&#x2F; n.&amp;vt.刺激，激励</p><ol start="402"><li><p>triumph&#x2F;’traiəmf&#x2F; n.胜利，成功</p></li><li><p>tuition &#x2F;tju’iʃən&#x2F; n.学费</p></li><li><p>twist &#x2F;twist&#x2F; vt.使缠绕；转动；扭歪</p></li><li><p>undergraduate &#x2F;7ʌndə’grædjueit&#x2F; n.大学肄业生</p></li><li><p>universal &#x2F;,ju:ni’və:səl&#x2F; adj.普遍的，通用的；宇宙 的</p></li><li><p>universe &#x2F;’ju:nivə:s&#x2F; n.宇宙</p></li><li><p>via &#x2F;’vaiə&#x2F; prep.经由，经过，通过</p></li><li><p>vibrate &#x2F;’vaibreit&#x2F; v.振动，摇摆</p></li><li><p>voluntary &#x2F;’vɔləntəri&#x2F; adj.自愿的</p></li><li><p>volunteer &#x2F;vɔlən’tiə&#x2F; n.志愿者；v.自愿(做)</p></li><li><p>vote &#x2F;vəut&#x2F; v.选举；n.投票</p></li><li><p>wagon &#x2F;’wægən&#x2F; n.四轮马车，铁路货车</p></li><li><p>appoint &#x2F;ə’pɔint&#x2F; vt.任命，委派</p></li><li><p>approach &#x2F;əp’rəutʃ&#x2F; v.靠近，接近；n.途径，方式</p></li><li><p>appropriate &#x2F;ə’prɔprieit&#x2F; adj.适当的</p></li><li><p>bunch &#x2F;bʌntʃ&#x2F; n.群，伙；束，串</p></li><li><p>bundle &#x2F;’bʌndl&#x2F; n.捆，包，束；vt.收集，归拢</p></li><li><p>ceremony &#x2F;’serəməni&#x2F; n.典礼，仪式</p></li><li><p>chaos &#x2F;’keiɔs&#x2F; n.混乱，紊乱</p></li><li><p>discount &#x2F;’diskaunt&#x2F; n.(价格)折扣</p></li><li><p>display &#x2F;dis’plei&#x2F; vt.&amp;n.陈列，展览</p></li><li><p>equivalent &#x2F;i’kwivələnt&#x2F; adj.相等的；n.相等物</p></li><li><p>erect &#x2F;i’rekt&#x2F; adj.竖直的；v.建造，竖立</p></li><li><p>fax &#x2F;fæks&#x2F; n.&amp;vt.传真</p></li><li><p>fertile &#x2F;’fə:tail&#x2F; adj.肥沃的；多产的</p></li><li><p>fertilizer &#x2F;’fə:tilaiz&#x2F; n.肥料</p></li><li><p>grateful &#x2F;’greitful&#x2F; adj.感激的</p></li><li><p>gratitude &#x2F;’grætitjut&#x2F; n.感激</p></li><li><p>horror &#x2F;’hɔ:rə&#x2F; n.恐怖</p></li><li><p>horrible &#x2F;’hɔ:rəbl&#x2F; adj. 恐怖的</p></li><li><p>Internet &#x2F;’intənet&#x2F; n.国际互联网，因特网</p></li><li><p>interpret&#x2F;’intəprit&#x2F; v.翻译，解释</p></li><li><p>interpretation &#x2F;intəpri’teitʃən&#x2F; n.解释，说明</p></li><li><p>jungle &#x2F;’dʒʌngl&#x2F; n.丛林，密林</p></li><li><p>knot &#x2F;nɔt&#x2F; n.结；vt.把….打成结</p></li><li><p>leak &#x2F;li:k&#x2F; v.漏，渗出</p></li><li><p>lean&#x2F;li:n&#x2F; vi.倾斜，倚，靠</p></li><li><p>leap&#x2F;li:p&#x2F; vi.跳跃</p></li><li><p>modify &#x2F;’mɔdifai&#x2F; vt.修改</p></li><li><p>nylon &#x2F;’nailən&#x2F; n.尼龙</p></li><li><p>onion &#x2F;’ʌnjən&#x2F; n.洋葱</p></li><li><p>powder &#x2F;’paudə&#x2F; n.粉末</p></li><li><p>applicable &#x2F;ə’plaikəbl&#x2F; adj.可应用的，适当的</p></li><li><p>applicant &#x2F;’æplikənt&#x2F; n.申请人</p></li><li><p>breadth &#x2F;bredθ&#x2F; n.宽度</p></li><li><p>conservation &#x2F;kɔnsə:’veiʃən&#x2F; n.保存，保护</p></li><li><p>conservative &#x2F;kən’sə:vətiv&#x2F; adj.保守的</p></li><li><p>parallel &#x2F;’pærəlel&#x2F; n.平行线 ；可相比拟的事物</p></li><li><p>passion &#x2F;’pæʃən&#x2F; n.激情，热情</p></li><li><p>passive &#x2F;’pæsiv&#x2F;adj. 被动的，消极的</p></li><li><p>pat &#x2F;pæt&#x2F; v.&amp;n.轻拍，轻打</p></li><li><p>peak &#x2F;pi:k&#x2F; n.山峰，顶点</p></li><li><p>phenomenon&#x2F;fi’nɔminən&#x2F; n.现象</p></li><li><p>reluctant &#x2F;ri’lʌktənt&#x2F; adj.不情愿的，勉强的</p></li><li><p>rely &#x2F;ri’lai&#x2F; vi.(on, upon) 依赖，指望</p></li><li><p>relevant &#x2F;’reləvənt&#x2F; adj.有关的，切题的</p></li><li><p>reliable &#x2F;ri’laiəbl&#x2F; adj.可靠的</p></li><li><p>relief &#x2F;ri’li:f&#x2F; n.轻松，宽慰；减轻</p></li><li><p>reputation &#x2F;repju’teiʃən&#x2F; n.名气，声誉</p></li><li><p>rescue &#x2F;’reskju&#x2F; vt.&amp;n.营救</p></li><li><p>triangle &#x2F;’traiæŋgl&#x2F; n.三角(形)</p></li><li><p>sequence &#x2F;’sikwins&#x2F; n.连续；顺序</p></li><li><p>shallow &#x2F;’ʃæləu&#x2F; adj.浅的</p></li><li><p>shiver &#x2F;’ʃilvə:&#x2F; vi.&amp;n.发抖</p></li><li><p>shrug &#x2F;ʃrʌg&#x2F; v.&amp;n.耸肩</p></li><li><p>signature &#x2F;sig’neitʃə&#x2F; n.签名</p></li><li><p>sincere &#x2F;’sinsiə&#x2F; adj.诚挚的，真诚的</p></li><li><p>utility &#x2F;ju:’tiliti&#x2F; n.功用，效用</p></li><li><p>utilize &#x2F;ju:ti’laiz&#x2F; vt.利用</p></li><li><p>utter &#x2F;’ʌtə&#x2F; vt.说出；adj.完全的，彻底的</p></li><li><p>variation &#x2F;væri’eiʃən&#x2F; n.变化，变动</p></li><li><p>vehicle &#x2F;vi:ikl&#x2F; n.交通工具，车辆</p></li><li><p>applause &#x2F;ə’plɔ:z&#x2F; n.鼓掌，掌声</p></li><li><p>appliance &#x2F;’æplikəns&#x2F; n.器具，器械</p></li><li><p>consent &#x2F;’kɔnsənt&#x2F; n.准许，同意；vi.(to) 准许，同意</p></li><li><p>conquer &#x2F;’kɔŋkə&#x2F; vt.征服</p></li><li><p>defect &#x2F;di’fekt&#x2F; n.缺点，缺陷</p></li><li><p>delicate &#x2F;deli’keit&#x2F; adj.易碎的；娇弱的；精美的</p></li><li><p>evolve &#x2F;i’vɔlv&#x2F; v.演变</p></li><li><p>evolution &#x2F;evə’lu:ʃən&#x2F; n.演变，进化</p></li><li><p>frown &#x2F;frɔ:n&#x2F; v.&amp;n.皱眉</p></li><li><p>frustrate &#x2F;’frʌstreit&#x2F; vt.使沮丧</p></li><li><p>guarantee &#x2F;gærən’ti:&#x2F; vt.&amp;n.保证</p></li><li><p>guilty &#x2F;’gilti&#x2F; adj.有罪的；内疚的</p></li><li><p>jealous &#x2F;’jeləs&#x2F; adj.嫉妒的</p></li><li><p>jeans &#x2F;dʒi:n&#x2F; n.牛仔裤</p></li><li><p>liquor &#x2F;’iikə&#x2F; n.酒，烈性酒</p></li><li><p>liter&#x2F;litre&#x2F;li:tə&#x2F; n.升</p></li><li><p>modest &#x2F;’mɔdist&#x2F; adj.谦虚的</p></li><li><p>molecule &#x2F;’mɔlikju:l&#x2F; n.分子</p></li><li><p>orbit &#x2F;ɔ:bit&#x2F; n.轨道；v.(绕……)做轨道运行</p></li><li><p>participate &#x2F;pa:’tisipeit&#x2F; v.(in) 参与，参加</p></li><li><p>particle &#x2F;’pa:tikl&#x2F; n.微粒</p></li><li><p>particularly &#x2F;pə’tikjuləli&#x2F; ad.特别，尤其</p></li><li><p>respond &#x2F;’rispɔnd&#x2F; vi.回答，答复；反应</p></li><li><p>response&#x2F;rispɔns&#x2F; n.回答，答复；反应</p></li><li><p>sensitive&#x2F;’sensitive&#x2F; adj.敏感的，灵敏的</p></li><li><p>tremble &#x2F;’trembl&#x2F; vi.颤抖</p></li><li><p>tremendous &#x2F;tri’mendəs&#x2F; adj.巨大的；精彩的</p></li><li><p>trend &#x2F;trend&#x2F; n.趋向，倾向</p></li><li><p>trial &#x2F;trail&#x2F; n.审讯；试验</p></li><li><p>apparent&#x2F;ə’pærənt&#x2F; adj.显然的，明白的</p></li><li><p>appetite &#x2F;æpi’tait&#x2F; n.胃口；欲望</p></li><li><p>deposit &#x2F;di’pɔsit&#x2F; n.存款，定金；v.存放，储蓄</p></li><li><p>deputy &#x2F;’depjuti&#x2F; n.副职，代表</p></li><li><p>derive &#x2F;di’raiv&#x2F; vt.取得，得到；(from)起源于</p></li><li><p>descend &#x2F;di’send&#x2F; v.下来，下降</p></li><li><p>missile &#x2F;’misail&#x2F;n.导弹</p></li><li><p>mission &#x2F;’miʃən&#x2F; n.使命；代表团</p></li><li><p>mist &#x2F;mist&#x2F; n.薄雾</p></li><li><p>noticeable &#x2F;’nəutisbl&#x2F; adj.显而易见的</p></li><li><p>notify &#x2F;’nəutifai&#x2F; vt.通知，告别</p></li><li><p>notion &#x2F;’nəuʃən&#x2F; n.概念；意图，想法</p></li><li><p>resemble &#x2F;ri’zembl&#x2F; vt.像，类似于</p></li><li><p>reveal &#x2F;ri’vi:l&#x2F; vt.揭露</p></li><li><p>revenue &#x2F;’revinju&#x2F; n.收入，岁入；税收</p></li><li><p>shelter &#x2F;’ʃeltə&#x2F; n.掩蔽处；住所</p></li><li><p>shield &#x2F;ʃi:ld&#x2F; n.防护物，盾；vt.保护，防护</p></li><li><p>vital &#x2F;’vaitəl&#x2F; adj.重要的；致命的，生命的</p></li><li><p>vitally &#x2F;’vaitəli&#x2F; ad.极度，非常；致命地</p></li><li><p>urban &#x2F;’ə:bən&#x2F; adj.城市的</p></li><li><p>urge &#x2F;ə:dʒ&#x2F; vi.鼓励，激励</p></li><li><p>urgent &#x2F;’ə:dʒənt&#x2F; adj.急迫的，紧急的</p></li><li><p>usage &#x2F;’ju:sidʒ&#x2F; n.使用，用法</p></li><li><p>violent &#x2F;’vaiələnt&#x2F; adj.强暴的</p></li><li><p>violet &#x2F;’vaiəlit&#x2F; adj.紫色的</p></li><li><p>weed &#x2F;wi:d&#x2F; n.杂草，野草</p></li><li><p>welfare &#x2F;’welfɛə&#x2F; n.福利</p></li><li><p>whatsoever &#x2F;wɔtsəu’evə&#x2F; ad. (用于否定句)任何</p></li><li><p>whereas &#x2F;wɛər’æs&#x2F; conj.然而，但是，尽管</p></li><li><p>essential&#x2F;i’senʃəl&#x2F; adj.必不可少的；本质的</p></li><li><p>estimate &#x2F;’estimeit&#x2F; n.&amp;vt.估计，评估</p></li><li><p>exceed &#x2F;ik’si:d&#x2F; vt.超过，超出</p></li><li><p>exceedingly &#x2F;ik’si:diŋli&#x2F; ad.非常，极其</p></li><li><p>exclaim &#x2F;iks’kleim&#x2F; v.呼喊，大声说</p></li><li><p>exclude &#x2F;iks’klu:d&#x2F; vt.把…排斥在外，不包括</p></li><li><p>exclusive &#x2F;iks’klu:siv&#x2F; adj.独有 的，排他的</p></li><li><p>excursion &#x2F;iks’kə:ʒən&#x2F; n.远足</p></li><li><p>flash &#x2F;fæʃ&#x2F; vi.闪光，闪耀</p></li><li><p>flee&#x2F;fli:&#x2F; vi.逃走</p></li><li><p>flexible &#x2F;’fleksəbl&#x2F; adj.易弯曲的</p></li><li><p>flock &#x2F;flɔk&#x2F; n.羊群，(鸟兽等)一群；一伙人</p></li><li><p>hardware &#x2F;’ha:dwɛə&#x2F; n.五金器具</p></li><li><p>harmony &#x2F;’ha:məni&#x2F; n.和谐，融洽</p></li><li><p>haste &#x2F;heist&#x2F; n.急速，急忙</p></li><li><p>hatred &#x2F;’heitrid&#x2F; n.憎恶，憎恨</p></li><li><p>incident &#x2F;’insidənt&#x2F; n.事件，事变</p></li><li><p>index &#x2F;’indeks&#x2F; n.索引，标志</p></li><li><p>infant &#x2F;’infənt&#x2F;n.婴儿</p></li><li><p>infect &#x2F;in’fekt&#x2F; v.传染</p></li><li><p>inferior &#x2F;in’fiəriə&#x2F; adj. 劣等的，次的，下级的</p></li><li><p>infinite &#x2F;’infinit&#x2F;adj.无限的</p></li><li><p>ingredient &#x2F;in’gridiənt&#x2F; n.组成部分</p></li><li><p>inhabitant &#x2F;in’hæbitənt&#x2F; n.居民</p></li><li><p>jail &#x2F;dʒeil&#x2F; n.监狱</p></li><li><p>jam &#x2F;jæm&#x2F; n.果酱；拥挤，堵塞</p></li><li><p>jewel &#x2F;’dʒu:əl&#x2F; n.宝石</p></li><li><p>joint &#x2F;dʒɔint&#x2F; adj.连接的；共同的</p></li><li><p>junior &#x2F;’dʒuniə&#x2F; adj.年少的；资历较浅的</p></li><li><p>laser &#x2F;’leisə&#x2F; n.激光</p></li><li><p>launch &#x2F;lɔ:ntʃ&#x2F; vt.发动，发起</p></li><li><p>luxury &#x2F;’lʌkʃəri&#x2F; n.奢侈；奢侈品</p></li><li><p>magnet &#x2F;’mægnit&#x2F; n.磁铁，磁体</p></li><li><p>female &#x2F;’fimeil&#x2F; adj.女性的，雌的</p></li><li><p>manual &#x2F;’mænjuəl&#x2F; adj.用手的，手工做的；n.手册</p></li><li><p>manufacture &#x2F;mænju’fæktʃə&#x2F; vt.&amp;n.制造，加工</p></li><li><p>marine &#x2F;mə’ri:n&#x2F; adj.海的；海产的</p></li><li><p>mutual &#x2F;’mju:tʃuəl&#x2F; adj.相互的</p></li><li><p>naked &#x2F;’neikid&#x2F; adj.裸露的</p></li><li><p>negative &#x2F;’negətiv&#x2F; adj.否定的，消极的</p></li><li><p>neglect &#x2F;nig’lekt&#x2F; vt.忽视，忽略</p></li><li><p>origin &#x2F;’ɔridʒin&#x2F; n.起源，出身</p></li><li><p>oval&#x2F;’əuvəl&#x2F; adj.椭形的；n.椭圆形</p></li><li><p>outset &#x2F;’autset&#x2F; n.开始，开端</p></li><li><p>presumably &#x2F;pri’zju:məbəli&#x2F; adv.大概，可能</p></li><li><p>prevail &#x2F;pri’veil&#x2F; vi.流行，盛行</p></li><li><p>quit &#x2F;kwit&#x2F; v.停止</p></li><li><p>quotation &#x2F;kwəu’teiʃən&#x2F; n.引文，引语</p></li><li><p>recreation &#x2F;re’krieiʃən&#x2F; n.娱乐活动</p></li><li><p>recruit &#x2F;ri’kru:t&#x2F; vt.招募，吸收(新成员)</p></li><li><p>rival &#x2F;’raivəl&#x2F; n.竞争对手，敌手</p></li><li><p>shuttle &#x2F;’ʃætl&#x2F; n.梭子；航天飞机</p></li><li><p>skim &#x2F;skim&#x2F; vt.搬(去)，掠过；浏览</p></li><li><p>sketch &#x2F;sketʃ&#x2F; n.草图；梗概</p></li><li><p>slender &#x2F;’slendə&#x2F; adj. 苗条的，修长的</p></li><li><p>theme &#x2F;θi:m&#x2F; n.主题</p></li><li><p>textile &#x2F;’tekstail&#x2F; n.纺织品</p></li><li><p>tropical &#x2F;’trɔpikəl&#x2F; adj.热带的，炎热的</p></li><li><p>kneel &#x2F;ni:l&#x2F; vi.跪</p></li><li><p>label &#x2F;’leibl&#x2F; n.标签</p></li><li><p>merchant &#x2F;’mə:tʃənt&#x2F; n.商人</p></li><li><p>mere &#x2F;miə&#x2F; adj.仅仅的，只不过的；纯粹的</p></li><li><p>nuisance&#x2F;’nju:isəns&#x2F; n.令人讨厌的东西(或人)</p></li><li><p>numerous &#x2F;’nju:mərəs&#x2F; adj.众多的，许多 的</p></li><li><p>parade &#x2F;’pəreid&#x2F; n.游行v.列队行进</p></li><li><p>pants &#x2F;pænts&#x2F;n.长裤；内裤</p></li><li><p>partial&#x2F;’pa:ʃiəl&#x2F; adj.部分的</p></li><li><p>passport &#x2F;’pa:spɔ:t&#x2F; n.护照</p></li><li><p>prescribe &#x2F;pris’kraib&#x2F; vt.开药方，吩咐采用….疗法</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> 单词 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> words </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>生活常用英语单词</title>
      <link href="/79333/2024/04/12/%E7%94%9F%E6%B4%BB%E5%B8%B8%E7%94%A8%E8%8B%B1%E8%AF%AD%E5%8D%95%E8%AF%8D/"/>
      <url>/79333/2024/04/12/%E7%94%9F%E6%B4%BB%E5%B8%B8%E7%94%A8%E8%8B%B1%E8%AF%AD%E5%8D%95%E8%AF%8D/</url>
      
        <content type="html"><![CDATA[<h1 id="常用英语单词一"><a href="#常用英语单词一" class="headerlink" title="常用英语单词一"></a>常用英语单词一</h1><h2 id="人体-（body）"><a href="#人体-（body）" class="headerlink" title="人体 （body）"></a>人体 （body）</h2><p>foot脚 head头 fae脸 hair头发 nose鼻子mouth嘴 eye眼睛 ear耳朵 arm手臂 hand手 finger手指leg腿 tail尾巴</p><h2 id="颜色-（colours）"><a href="#颜色-（colours）" class="headerlink" title="颜色 （colours）"></a>颜色 （colours）</h2><p>red红 blue蓝 yellow黄 green绿 white白black黑 pink粉红 purple紫 orange橙 brown棕</p><h2 id="学习用品-school-things"><a href="#学习用品-school-things" class="headerlink" title="学习用品 (school things)"></a>学习用品 (school things)</h2><p>pen钢笔 pencil铅笔 pencil-case铅笔盒 ruler尺子 book书 bag包comic book漫画书 post card明信片 newspaper报纸schoolbag书包 eraser橡皮 crayon蜡笔 sharpener卷笔刀story-book故事书 notebook笔记本Chinese book语文书 English book英语书 math book数学书magazine杂志 dictionary词典</p><h2 id="动物-（animals）"><a href="#动物-（animals）" class="headerlink" title="动物 （animals）"></a>动物 （animals）</h2><p>cat猫 dog狗 pig猪 duck鸭 rabbit兔 horse马elephant大象 ant蚂蚁 fish鱼 bird鸟 eagle鹰 beaver海狸snake蛇 mouse老鼠 squirrel松鼠 kangaroo袋鼠 monkey猴 panda熊猫bear熊 lion狮子 tiger老虎 fox狐狸 zebra斑马 deer鹿 giraffe长颈鹿 goose鹅hen母鸡 turkey火鸡 lamb小羊 sheep绵羊 goat山羊 cow奶牛 donkey驴 squid鱿鱼lobster龙虾 shark鲨鱼 seal海豹 sperm whale抹香鲸 killer whale虎鲸</p><h2 id="人物-（people）"><a href="#人物-（people）" class="headerlink" title="人物 （people）"></a>人物 （people）</h2><p>friend朋友 boy男孩 girl女孩 mother母亲 father父亲sister姐妹 brother兄弟 uncle叔叔；舅舅</p><p>man男人 woman女人 Mr.先生 Miss小姐 lady女士；mom妈妈dad爸爸parents父母grandparents祖父母grandma&#x2F;grandmother（外）祖母grandpa&#x2F;grandfather（外）祖父aunt姑姑 cousin堂（表）兄弟；堂（表）姐妹son儿子 daughter女儿 baby婴儿 kid小孩classmate同学 queen女王 visitor参观者 neighbour邻居principal校长 university student大学生pen pal笔友 tourist旅行者people人物robot机器人</p><h2 id="食品、饮料-（food-drink）"><a href="#食品、饮料-（food-drink）" class="headerlink" title="食品、饮料 （food &amp; drink）"></a>食品、饮料 （food &amp; drink）</h2><p>rice米饭 bread面包 beef牛肉 milk牛奶 water水 egg蛋fish鱼 tofu豆腐cake蛋糕hot dog热狗 hamburger汉堡包 French fries炸薯条cookie曲奇 biscuit饼干 jam果酱noodles面条meat肉 chicken鸡肉 pork猪肉 mutton羊肉vegetable蔬菜 salad沙拉 soup汤ice冰 ice-cream冰淇淋Coke可乐 juice果汁 tea茶 coffee咖啡breakfast早餐 lunch午餐 dinner&#x2F;supper晚餐 meal一餐</p><h2 id="职业-（jobs）"><a href="#职业-（jobs）" class="headerlink" title="职业 （jobs）"></a>职业 （jobs）</h2><p>teacher教师 student学生 doctor医生 nurse护士 driver司机 farmer农民singer歌唱家 writer作家 actor男演员 actress女演员 artist画家TV reporter电视台记者 engineer工程师 accountant会计policeman(男)警察salesperson销售员 cleaner清洁工baseball player棒球运动员 assistant售货员police警察</p><h2 id="水果、蔬菜-fruit-vegetables"><a href="#水果、蔬菜-fruit-vegetables" class="headerlink" title="水果、蔬菜 (fruit &amp; vegetables)"></a>水果、蔬菜 (fruit &amp; vegetables)</h2><p>apple苹果 banana香蕉 pear梨 orange橙 watermelon西瓜grape葡萄 eggplant茄子 green beans青豆 tomato西红柿potato土豆 peach桃 strawberry草莓cucumber黄瓜 onion洋葱 carrot胡萝卜 cabbage卷心菜</p><h2 id="衣服-（clothes）"><a href="#衣服-（clothes）" class="headerlink" title="衣服 （clothes）"></a>衣服 （clothes）</h2><p>jacket夹克衫 shirt衬衫 T-shirt丅恤衫skirt短裙子 dress连衣裙jeans牛仔裤 pants长裤 socks袜子 shoes鞋子sweater毛衣 coat上衣raincoat雨衣shorts短裤sneakers网球鞋 slippers拖鞋 sandals凉鞋 boots靴子hat(有沿的)帽子 cap便帽 sunglasses太阳镜 tie领带 scarf围巾gloves手套 trousers裤子 cloth布</p><h2 id="交通工具-vehicles"><a href="#交通工具-vehicles" class="headerlink" title="交通工具 (vehicles)"></a>交通工具 (vehicles)</h2><p>bike自行车 bus公共汽车 train火车 boat小船 ship轮船 yacht快艇car小汽车 taxi出租车 jeep吉普车 van小货车；plane&#x2F;airplane飞机 subway &#x2F; underground 地铁 motor cycle摩托车</p><h2 id="杂物-（other-things）"><a href="#杂物-（other-things）" class="headerlink" title="杂物 （other things）"></a>杂物 （other things）</h2><p>window窗户 door门 desk课桌 chair椅子 bed床computer计算机 board写字板 fan风扇 light灯teacher s desk讲台 picture图画；照片 wall墙壁 floor地板curtain窗帘 trash bin垃圾箱 closet壁橱 mirror镜子 end table床头柜football&#x2F;soccer足球 present礼物 walkman随身听 lamp台灯 phone电话 sofa沙发 shelf书架 fridge冰箱 table桌子 TV电视 air-conditioner空调key钥匙 lock锁 photo照片 chart图表 plate盘子 knife刀 fork叉 spoon勺子 chopsticks筷子 pot锅 gift礼物 toy玩具 doll洋娃娃ball球 balloon气球 kite风筝 jigsaw puzzle拼图游戏box盒子 umbrella伞 zipper拉链 violin小提琴 yo-yo溜溜球nest鸟窝 hole洞 tube管子 toothbrush牙刷 menu菜单 e-card电子卡片 e-mail电子邮件 traffic light交通灯 money钱 medicine药</p><h2 id="地点-（locations）"><a href="#地点-（locations）" class="headerlink" title="地点 （locations）"></a>地点 （locations）</h2><p>home家 room房间 bedroom卧室 bathroom卫生间 living room起居室kitchen厨房 classroom教室 school学校 park公园 library图书馆post office邮局 police office警察局 hospital医院 cinema电影院bookstore书店 farm农场 zoo动物园 garden花园 study书房</p><p>playground操场 canteen食堂 teacher s office教师办公室 library图书馆gym体育馆 washroom卫生间 art room绘画教室 computer room计算机教室 music room音乐教室 TV room电视机房 flat公寓 company公司 factory工厂fruit stand水果摊 pet shop宠物商店 nature park自然公园 theme park主题公园science museum科学博物馆 the Great Wall长城 supermarket超市 bank银行country国家 village乡村 city城市 hometown家乡bus stop公交车站</p><h2 id="课程-（classes）"><a href="#课程-（classes）" class="headerlink" title="课程 （classes）"></a>课程 （classes）</h2><p>sports体育运动 science科学 Moral Education思想品德课Social Studies社会Chinese语文 math数学 PE体育课 English英语课</p><h2 id="气象-（weather）"><a href="#气象-（weather）" class="headerlink" title="气象 （weather）"></a>气象 （weather）</h2><p>cold寒冷的 warm温暖的 cool凉爽的 snowy下雪的 sunny晴朗的</p><p>hot炎热的 rainy下雨的 windy有风的 cloudy多云的 weather report天气预报rain雨 cloud云 sun太阳 mountain山 sky天空 rainbow彩虹 wind风 air空气moon月亮</p><h2 id="国家、城市-（countries-cities）"><a href="#国家、城市-（countries-cities）" class="headerlink" title="国家、城市 （countries &amp; cities）"></a>国家、城市 （countries &amp; cities）</h2><p>China&#x2F;PRC中国 America&#x2F;USA美国 UK联合王国 England英国</p><p>Canada&#x2F;CAN加拿大 Australia澳大利亚 New York纽约 London伦敦Sydney悉尼 Moscow莫斯科 Cairo开罗</p><h2 id="景物-（nature）"><a href="#景物-（nature）" class="headerlink" title="景物 （nature）"></a>景物 （nature）</h2><p>river河流 lake湖泊 stream河溪 forest森林 path小道 road公路</p><p>house房子 bridge桥 building建筑物</p><h2 id="植物-（plants）"><a href="#植物-（plants）" class="headerlink" title="植物 （plants）"></a>植物 （plants）</h2><p>flower花 grass草 tree树 seed种子 sprout苗 plant植物 rose玫瑰 leaf叶子</p><h2 id="星期-（week）"><a href="#星期-（week）" class="headerlink" title="星期 （week）"></a>星期 （week）</h2><p>Monday星期一 Tuesday星期二 Wednesday星期三 Thursday星期四Friday星期五 Saturday星期六 Sunday星期天 weekend周末</p><h2 id="月份-（months）"><a href="#月份-（months）" class="headerlink" title="月份 （months）"></a>月份 （months）</h2><p>Jan. (January)一月 Feb.（February）二月 Mar.(March)三月 April四月May五月 June六月 July七月 Aug.(August)八月 Sept.(September)九月Oct.(October)十月 Nov.(November)十一月 Dec.(December)十二月</p><h2 id="季节-（seasons）"><a href="#季节-（seasons）" class="headerlink" title="季节 （seasons）"></a>季节 （seasons）</h2><p>spring春 summer夏 fall&#x2F;autumn秋 winter冬</p><h2 id="方位-（directions）"><a href="#方位-（directions）" class="headerlink" title="方位 （directions）"></a>方位 （directions）</h2><p>south南 north北 east东 west西 left 左边 right右边 转载自微信公号：hzenglish.</p><h2 id="患病-（illness）"><a href="#患病-（illness）" class="headerlink" title="患病 （illness）"></a>患病 （illness）</h2><p>have a fever发烧 hurt疼痛 have a cold感冒 have a toothache牙疼</p><p>have a headache头疼 have a sore throat喉咙疼</p><h2 id="数词-（numbers）"><a href="#数词-（numbers）" class="headerlink" title="数词 （numbers）"></a>数词 （numbers）</h2><p>1 one 2 two 3 three 4 four 5 five 6 six 7 seven 8 eight 9 nine 10 ten</p><h2 id="形容词-adj"><a href="#形容词-adj" class="headerlink" title="形容词 (adj.)"></a>形容词 (adj.)</h2><p>big大的 small小的 long长的 tall高的 short短的；矮的 young年轻的old旧的；老的 strong健壮的 thin瘦的 active积极活跃的 quiet安静的nice好看的 kind和蔼亲切的 strict严格的 smart聪明的 funny滑稽可笑的tasty好吃的 sweet甜的 salty咸的 sour酸的 fresh新鲜的 favourite最喜爱的clean干净的 tired疲劳的 excited兴奋的 angry生气的 happy高兴的bored无聊的 sad忧愁的 taller更高的 shorter更矮的 stronger更强壮的 older年龄更大的 younger更年轻的 bigger更大的 heavier更重的 longer更长的thinner更瘦的 smaller更小的 good好的 fine好的 great很好的 heavy 重的new新的 fat胖的 happy快乐的 right对的 hungry饥饿的 cute逗人喜爱的little小的 lovely可爱的 beautiful漂亮的 colourful色彩鲜艳的 pretty漂亮的cheap便宜的 expensive昂贵的 juicy多汁的 tender嫩的 healthy健康的ill有病的 helpful有帮助的 high高的 easy简单的 proud骄傲的 sick有病的better更好的 higher更高的</p><h2 id="介词-（prep-）"><a href="#介词-（prep-）" class="headerlink" title="介词 （prep.）"></a>介词 （prep.）</h2><p>in在……里 on在……上；在……时候 under在……下面 near在……的旁边 behind在……后边 next to与……相邻 over在……上面 in front of在……前面</p><h2 id="代词-（pron-）"><a href="#代词-（pron-）" class="headerlink" title="代词 （pron.）"></a>代词 （pron.）</h2><p>I我 we我们 you你；你们 he他 she她 it它 they他（她，它）们 my我的 our 我们的 your你的；你们的 his他的 her她的</p><h2 id="动词-（v-）"><a href="#动词-（v-）" class="headerlink" title="动词 （v.）"></a>动词 （v.）</h2><p>play（.ed）玩；踢 swim(swam)游泳 skate滑冰 fly(flew)飞 jump跳 walk走run(run)跑 climb爬 fight(fought)打架 swing(swung)荡 eat(ate)吃sleep(slept)睡觉 like像，喜欢 have(had)有；吃 turn转弯 buy(bought)买take(took)买；带 live居住 teach（taught）教 go(went)去 study(studied)学习learn学习 sing(sang)唱歌 dance跳舞 row划 do(did)做 do homework做作业do housework做家务 watch TV看电视 read(read) books读书cook the meals做饭 water the flowers浇花 sweep(swept) the floor扫地clean the bedroom打扫卧室 make(made) the bed铺床 set(set) the table摆饭桌 wash the clothes洗衣服 do the dishes洗碗碟 use a computer使用计算机 do morning exercises晨练；做广播操 eat breakfast吃早饭 eat dinner吃晚饭go to school上学 have English class上英语课 play sports进行体育运动get（got）up起床 climb mountains爬山 go shopping买东西play the piano弹钢琴 visit grandparents看望（外）祖父母 go hiking去远足fly kites放风筝 make a snowman堆雪人 plant trees种树draw(drew) pictures画画 cook dinner做饭 read a book看书answer the phone接电话 listen to music听音乐 clean the room打扫房间write(wrote) a letter写信 write an e-mail写电子邮件 drink(drank) water喝水take pictures照相 watch insects观察昆虫 pick up leaves采摘树叶meet(met)见面 welcome欢迎 thank谢谢 love爱 work工作 drink(drank)喝play computer games玩电脑游戏 play chess下棋 empty the trash倒垃圾do an experiment做实验 catch butterflies捉蝴蝶 count insects数昆虫collect insects收集昆虫 collect leaves收集树叶 write a report写报告play chess下棋 have a picnic举行野餐 get to到达 ride(rode) a bike骑自行车 play the violin拉小提琴 make kites制作风筝 collect stamps集邮put away the clothes收拾衣服 get off下车 take a trip去旅行read a magazine阅读杂志 go to the cinema去看电影 go straight向前直走taste尝 smell闻 feed(fed)喂养 shear剪 milk挤奶 look看 guess猜 help帮助pass传递 show展示 use使用 clean打扫 open打开 close关上 put放 paint绘画 tell(told)告诉 kick踢 bounce反弹 ride(rode)骑 stop(stopped)停 wait等find(found)寻找到 drive(drove)驾驶 fold折 send(sent)寄 wash洗 shine照耀become变成 feel(felt)感觉到 think(thought)思考 meet(met)遇见 fall(fell)落下leave(left)离开 wake(woke) up醒来 put on穿上 take off脱掉 hang up挂起wear(wore)穿 go home回家 go to bed上床睡觉</p><h2 id="音乐流派："><a href="#音乐流派：" class="headerlink" title="音乐流派："></a>音乐流派：</h2><p>Jazz：爵士，包括有cool jazz, bebop, acid jazz, swing, fushion等。Miles Davis, Ella Fitzgerald, Chet Baker。Acid jazz(酸爵士，把R&amp;B的元素融入jazz里)。</p><p>Blues：蓝调，19世纪发源于Mississippi的Delta地区。除了Delta地区的蓝调外，还有Chicago地区的蓝调。Joe Lee Hooker, Muddy Waters, Blind Willie Mctell, B.B.King。</p><p>Folk: 民谣。Boy Dylan。</p><p>Pop：流行音乐。Britpop是英伦流行音乐，the Beatles, Placebo, Oasis。</p><p>Country：乡村音乐，John Denver, Garth Brooks。</p><p>Classic Rock：主流摇滚。the Rolling Stones，Eagles，Rod Steward，the Beatles。包括有pomp rock&#x2F;glam rock(华丽摇滚 David Bowie, Queens)。acid rock &#x2F; psychedelic(迷幻摇滚 Pink Floyd)。</p><p>Rock：folk rock(民谣摇滚Simon&amp;Garfunkel)，progressive rock(前卫摇滚 类似于acid rock, Genesis)，jazz-rock fusion(爵士摇滚Chicago)，pop rock(流行摇滚 matchbox twenty)，punk rock(朋克摇滚 Red Hot Chili Peppers)，blues rock(蓝调摇滚the Who)</p><p>Alternative Rock：另类摇滚，包括punk(朋克 Green Day, Offspring, Sex Pistols)，hardcore(硬核 The Clash, Sonic Youth)，Goth(哥特摇滚 the Cure, Bauhaus)，industrial(工业摇滚 Nine Inch Nails)， grunge(油渍摇滚 Nirvana, Pearl Jam)，new wave(新浪潮 Inxs, Tears for Fears)，post-punk(后朋克 Joy Division, R.E.M., UB40)，Brit Rock(英伦摇滚 Oasis, Blur)。</p><p>Heavy Metal：重金属，Guns&amp;Roses，Led Zeppelin，Metallica，Def Leopard，Van Helen</p><p>Hard Rock：硬摇滚，Bon Jovi，Aerosmith。</p><p>R&amp;B：节奏蓝调，是rhythm and blues的缩写。属于美国黑人的音乐范畴。Stevie Wonder，Michael Jackson。</p><p>Funk：疯克，可以算作R&amp;B的一种，Prince。</p><p>Hip-hop 嬉蹦</p><p>Rap：饶舌乐，MC Hammer(MC就是饶舌者的意思)，Dr.Dre，Eminem，Beastie Boys。</p><p>Dance &amp; DJ：跳舞音乐。Disco(the Bee Gees，ABBA)， House(浩室，由Disco演化而来，M-People，BT)，Techno(比House节拍快，发源于Detroit，Moby)，Gabber(techno的极端形式，节拍为400－500bpm)，Trance(迷幻舞曲Paul van Dyk)， Bigbeat(大节拍 Fatboy Slim, the Chemical Brothers, Prodigy)，Drum N’ Bass(其前身是jungle，是breakbeat的灵魂，Guy Called Gerald)，Trip-hop(氛围嬉蹦，最早被称为Brit-hop, Massive Attack)</p><p>Raggae：雷鬼，Bob Marley。</p><p>Fushion：指不同种类的音乐曲风的融和。</p><h2 id="肉类及海鲜："><a href="#肉类及海鲜：" class="headerlink" title="肉类及海鲜："></a>肉类及海鲜：</h2><p>猪肉pork 猪排chop 五花肉 streaky pork&#x2F;marbled beef 肥肉fatty meat 瘦肉lean meat 前腿fore leg 后腿hind leg 猪蹄pettitoes 脚爪hock &amp; foot 蹄筋sinew 软骨gristle 牛肉beef roast 小牛肉veal 碎牛肉ground beef 牛排steak 牛腿肉silverside 牛腰肉sirloin 羊肉mutton 鹿肉venison 羊排lamb chop 羊腿gigot 鸡腿drumstick 鸭翅膀duck wing 腊肉preserved ham 香肠sausage 鱼圆fishball 虾皮dried small shrimps 海蜇jelly fish 蚝oyster 三文鱼&#x2F;鲑鱼salmon 鲈鱼weever 鳝eel 金枪鱼tuna 带鱼hairtail 海参sea cucumber 明虾prawn 虾仁peeled prawns 龙虾lobster 小龙虾crawfish 扇贝&#x2F;鲜贝scallop 鲍鱼abalone 海带kelp蛤clam 蛏子razor clam 虾子shrimp’s egg 鱼子roe 凤尾鱼anchovy 鳕鱼cod 鲳鱼pomfret 青鱼herring 鲭mackerel 淡菜moule 沙丁鱼pilchard&#x2F;sardine 海螺whelk 海蜇jellyfish 蚌mussel 海扇cockle 比目鱼plaice 海鳗eel 墨鱼cuttlefish 旗鱼swordfish</p><h2 id="豆制品："><a href="#豆制品：" class="headerlink" title="豆制品："></a>豆制品：</h2><p>豆腐tou-fu&#x2F;bean curd 豆腐衣bean sheets 粉丝bean starch noodles 粉皮bean starch sheets 豆腐干丝bean curd strips 腐乳pickled bean curd 油面筋fried gluten puff 油豆腐fried bean curd puff 豆豉fermented black bean 豆酱fermented soybean 百叶beancurd sheets 豆腐干dried beancurd</p><h1 id="常用英语单词二"><a href="#常用英语单词二" class="headerlink" title="常用英语单词二"></a>常用英语单词二</h1><h2 id="学习用品-school-things-1"><a href="#学习用品-school-things-1" class="headerlink" title="学习用品 (school things)"></a>学习用品 (school things)</h2><p>pen钢笔 pencil铅笔 pencil-case铅笔盒 ruler尺子 book书 bag包</p><p>comic book漫画书 post card明信片 newspaper报纸</p><p>schoolbag书包 eraser橡皮 crayon蜡笔 sharpener卷笔刀</p><p>story-book故事书 notebook笔记本</p><p>Chinese book语文书 English book英语书 math book数学书</p><p>magazine杂志 dictionary词典</p><h2 id="人体（body）"><a href="#人体（body）" class="headerlink" title="人体（body）"></a>人体（body）</h2><p>foot脚 head头 face脸 hair头发 nose鼻子</p><p>mouth嘴 eye眼睛 ear耳朵 arm手臂 hand手 finger手指</p><p>leg腿 tail尾巴</p><h2 id="颜色-（colors）"><a href="#颜色-（colors）" class="headerlink" title="颜色 （colors）"></a>颜色 （colors）</h2><p>red红 blue蓝 yellow黄 green绿 white白</p><p>black黑 pink粉红 purple紫 orange橙 brown棕</p><h2 id="动物-（animals）-1"><a href="#动物-（animals）-1" class="headerlink" title="动物 （animals）"></a>动物 （animals）</h2><p>cat猫 dog狗 pig猪 duck鸭 rabbit兔 horse马</p><p>elephant大象 ant蚂蚁 fish鱼 bird鸟 eagle鹰 beaver海狸</p><p>snake蛇 mouse老鼠 squirrel松鼠 kangaroo袋鼠 monkey猴 panda熊猫</p><p>bear熊 lion狮子 tiger老虎 fox狐狸 zebra斑马 deer鹿 giraffe长颈鹿 goose鹅</p><p>hen母鸡 turkey火鸡 lamb小羊 sheep绵羊 goat山羊 cow奶牛 donkey驴 squid鱿鱼</p><p>lobster龙虾 shark鲨鱼 seal海豹 sperm whale抹香鲸 killer whale虎鲸</p><h2 id="人物-（people）-1"><a href="#人物-（people）-1" class="headerlink" title="人物 （people）"></a>人物 （people）</h2><p>friend朋友 boy男孩 girl女孩 mother母亲 father父亲</p><p>sister姐妹 brother兄弟 uncle叔叔；</p><p>舅舅 man男人 woman女人 Mr.先生 Miss小姐 lady女士；</p><p>小姐 mom妈妈 dad爸爸 parents父母</p><p>grandparents祖父母</p><p>grandma&#x2F;grandmother（外）祖母</p><p>grandpa&#x2F;grandfather（外）祖父</p><p>aunt姑姑 cousin堂（表）兄弟；</p><p>堂（表）姐妹 son儿子 daughter女儿 baby婴儿 kid小孩</p><p>classmate同学 queen女王 visitor参观者 neighbor邻居</p><p>principal校长 university student大学生</p><p>pen pal笔友 tourist旅行者</p><p>people人物</p><p>robot机器人</p><h2 id="职业（jobs）"><a href="#职业（jobs）" class="headerlink" title="职业（jobs）"></a>职业（jobs）</h2><p>teacher教师 student学生 doctor医生 nurse护士 driver司机 farmer农民</p><p>singer歌唱家 writer作家 actor男演员 actress女演员 artist画家</p><p>TV reporter电视台记者 engineer工程师 accountant会计</p><p>policeman(男)警察</p><p>salesperson销售员 cleaner清洁工</p><p>baseball player棒球运动员 assistant售货员</p><p>police警察 </p><h2 id="食品、饮料-（food-drink）-1"><a href="#食品、饮料-（food-drink）-1" class="headerlink" title="食品、饮料 （food &amp; drink）"></a>食品、饮料 （food &amp; drink）</h2><p>rice米饭 bread面包 beef牛肉 milk牛奶 water水 egg蛋</p><p>fish鱼 tofu豆腐</p><p>cake蛋糕</p><p>hot dog热狗 hamburger汉堡包 French fries炸薯条</p><p>cookie曲奇 biscuit饼干 jam果酱</p><p>noodles面条</p><p>meat肉 chicken鸡肉 pork猪肉 mutton羊肉</p><p>vegetable蔬菜 salad沙拉 soup汤</p><p>ice冰 ice-cream冰淇淋</p><p>Coke可乐 juice果汁 tea茶 coffee咖啡</p><p>breakfast早餐 lunch午餐 dinner&#x2F;supper晚餐 meal一餐</p><h2 id="水果、蔬菜-fruit-vegetables-1"><a href="#水果、蔬菜-fruit-vegetables-1" class="headerlink" title="水果、蔬菜 (fruit &amp; vegetables)"></a>水果、蔬菜 (fruit &amp; vegetables)</h2><p>apple苹果 banana香蕉 pear梨 orange橙 watermelon西瓜</p><p>grape葡萄 eggplant茄子 green beans青豆 tomato西红柿</p><p>potato土豆 peach桃 strawberry草莓</p><p>cucumber黄瓜 onion洋葱 carrot胡萝卜 cabbage卷心菜</p><h2 id="衣服-（clothes）-1"><a href="#衣服-（clothes）-1" class="headerlink" title="衣服 （clothes）"></a>衣服 （clothes）</h2><p>jacket夹克衫 shirt衬衫 T-shirt丅恤衫</p><p>skirt短裙子 dress连衣裙</p><p>jeans牛仔裤 pants长裤 socks袜子 shoes鞋子</p><p>sweater毛衣 coat上衣</p><p>raincoat雨衣</p><p>shorts短裤</p><p>sneakers网球鞋 slippers拖鞋 sandals凉鞋 boots靴子</p><p>hat(有沿的)帽子 cap便帽 sunglasses太阳镜 tie领带 scarf围巾</p><p>gloves手套 trousers裤子 cloth布</p><h2 id="交通工具-vehicles-1"><a href="#交通工具-vehicles-1" class="headerlink" title="交通工具 (vehicles)"></a>交通工具 (vehicles)</h2><p>bike自行车 bus公共汽车 train火车 boat小船 ship轮船 yacht快艇</p><p>car小汽车 taxi出租车 jeep吉普车 van小货车；</p><p>plane&#x2F;airplane飞机 subway &#x2F; underground 地铁 motor cycle摩托车</p><h2 id="杂物-（other-things）-1"><a href="#杂物-（other-things）-1" class="headerlink" title="杂物 （other things）"></a>杂物 （other things）</h2><p>window窗户 door门 desk课桌 chair椅子 bed床</p><p>computer计算机 board写字板 fan风扇 light灯</p><p>teacher’s desk讲台 picture图画；照片 wall墙壁 floor地板</p><p>curtain窗帘 trash bin垃圾箱 closet壁橱 mirror镜子 end table床头柜 football&#x2F;soccer足球 present礼物 walkman随身听 lamp台灯 phone电话</p><p>sofa沙发 shelf书架 fridge冰箱 table桌子 TV电视 air-conditioner空调 key钥匙 lock锁 photo照片 chart图表 plate盘子 knife刀 fork叉   spoon勺子 chopsticks筷子 pot锅 gift礼物 toy玩具 doll洋娃娃 ball球 balloon气球 kite风筝 jigsaw puzzle拼图游戏 box盒子 umbrella伞 zipper拉链 violin小提琴 yo-yo溜溜球</p><p>nest鸟窝 hole洞 tube管子 toothbrush牙刷 menu菜单 e-card电子卡片 e-mail电子邮件 traffic light交通灯 money钱 medicine药</p><h2 id="地点-（locations）-1"><a href="#地点-（locations）-1" class="headerlink" title="地点 （locations）"></a>地点 （locations）</h2><p>home家 room房间 bedroom卧室 bathroom卫生间 living room起居室</p><p>kitchen厨房 classroom教室 school学校 park公园 library图书馆</p><p>post office邮局 police office警察局 hospital医院 cinema电影院</p><p>bookstore书店 farm农场 zoo动物园 garden花园 study书房</p><p>playground操场 canteen食堂 teacher’s office教师办公室 library图书馆</p><p>gym体育馆 washroom卫生间 art room绘画教室 computer room计算机教室   music room音乐教室 TV room电视机房 flat公寓 company公司 factory工厂</p><p>fruit stand水果摊 pet shop宠物商店 nature park自然公园 theme park主题公园</p><p>science museum科学博物馆 the Great Wall长城 supermarket超市 bank银行</p><p>country国家 village乡村 city城市 hometown家乡 bus stop公交车站</p><h2 id="课程-（classes）-1"><a href="#课程-（classes）-1" class="headerlink" title="课程 （classes）"></a>课程 （classes）</h2><p>sports体育运动 science科学 Moral Education思想品德课 Social Studies社会</p><p>Chinese语文 math数学 PE体育课 English英语课</p><h2 id="国家、城市-（countries-cities）-1"><a href="#国家、城市-（countries-cities）-1" class="headerlink" title="国家、城市 （countries &amp; cities）"></a>国家、城市 （countries &amp; cities）</h2><p>China&#x2F;PRC中国 America&#x2F;USA美国 UK联合王国 England英国</p><p>Canada&#x2F;CAN加拿大 Australia澳大利亚 New York纽约 London伦敦</p><p>Sydney悉尼 Moscow莫斯科 Cairo开罗</p><h2 id="气象-（weather）-1"><a href="#气象-（weather）-1" class="headerlink" title="气象 （weather）"></a>气象 （weather）</h2><p>cold寒冷的 warm温暖的 cool凉爽的 snowy下雪的 sunny晴朗的</p><p>hot炎热的 rainy下雨的 windy有风的 cloudy多云的 weather report天气预报</p><p>rain雨 cloud云 sun太阳 mountain山 sky天空 rainbow彩虹 wind风 air空气</p><p>moon月亮</p><h2 id="景物-（nature）-1"><a href="#景物-（nature）-1" class="headerlink" title="景物 （nature）"></a>景物 （nature）</h2><p>river河流 lake湖泊 stream河溪 forest森林 path小道 road公路</p><p>house房子 bridge桥 building建筑物</p><h2 id="植物-（plants）-1"><a href="#植物-（plants）-1" class="headerlink" title="植物 （plants）"></a>植物 （plants）</h2><p>flower花 grass草 tree树 seed种子 sprout苗 plant植物 rose玫瑰 leaf叶子</p><h2 id="星期-（week）-1"><a href="#星期-（week）-1" class="headerlink" title="星期 （week）"></a>星期 （week）</h2><p>Monday星期一 Tuesday星期二 Wednesday星期三 Thursday星期四</p><p>Friday星期五 Saturday星期六 Sunday星期天 weekend周末</p><h2 id="月份-（months）-1"><a href="#月份-（months）-1" class="headerlink" title="月份 （months）"></a>月份 （months）</h2><p>Jan. (January)一月 Feb.（February）二月 Mar.(March)三月 April四月</p><p>May五月 June六月 July七月 Aug.(August)八月 Sept.(September)九月</p><p>Oct.(October)十月 Nov.(November)十一月 Dec.(December)十二月</p><h2 id="季节-（seasons）-1"><a href="#季节-（seasons）-1" class="headerlink" title="季节 （seasons）"></a>季节 （seasons）</h2><p>spring春 summer夏 fall&#x2F;autumn秋 winter冬</p><h2 id="方位-（directions）-1"><a href="#方位-（directions）-1" class="headerlink" title="方位 （directions）"></a>方位 （directions）</h2><p>south南 north北 east东 west西 left 左边 right右边</p><h2 id="患病-（illness）-1"><a href="#患病-（illness）-1" class="headerlink" title="患病 （illness）"></a>患病 （illness）</h2><p>have a fever发烧 hurt疼痛 have a cold感冒 have a toothache牙疼</p><p>have a headache头疼 have a sore throat喉咙疼</p><h2 id="数词-（numbers）-1"><a href="#数词-（numbers）-1" class="headerlink" title="数词 （numbers）"></a>数词 （numbers）</h2><p>one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen twenty二十 thirty三十 forty四十 fifty五十 sixty六十 seventy七十 eighty八十 ninety九十 hundred一百 first第一 second第二 third第三 fourth第四 fifth第五月 sixth第六 seventh第七 eighth第八 ninth第九 tenth 第十 eleventh 第十一 twelfth第十二</p><h2 id="形容词-adj-1"><a href="#形容词-adj-1" class="headerlink" title="形容词 (adj.)"></a>形容词 (adj.)</h2><p>big大的 small小的 long长的 tall高的 short短的；矮的 young年轻的</p><p>old旧的；老的 strong健壮的 thin瘦的 active积极活跃的 quiet安静的</p><p>nice好看的 kind和蔼亲切的 strict严格的 smart聪明的 funny滑稽可笑的</p><p>tasty好吃的 sweet甜的 salty咸的 sour酸的 fresh新鲜的 favorite喜爱的</p><p>clean干净的 tired疲劳的 excited兴奋的 angry生气的 happy高兴的</p><p>bored无聊的 sad忧愁的 taller更高的 shorter更矮的 stronger更强壮的</p><p>older年龄更大的 younger更年轻的 bigger更大的 heavier更重的 longer更长的thinner更瘦的 smaller更小的 good好的 fine好的 great很好的 heavy 重的</p><p>new新的 fat胖的 happy快乐的 right对的 hungry饥饿的 cute逗人喜爱的</p><p>little小的 lovely可爱的 beautiful漂亮的 colorful色彩鲜艳的 pretty漂亮的</p><p>cheap便宜的 expensive昂贵的 juicy多汁的 tender嫩的 healthy健康的</p><p>ill有病的 helpful有帮助的 high高的 easy简单的 proud骄傲的 sick有病的</p><p>better更好的 higher更高的</p><h2 id="介词-（prep-）-1"><a href="#介词-（prep-）-1" class="headerlink" title="介词 （prep.）"></a>介词 （prep.）</h2><p>in在……里 on在……上；在……时候 under在……下面 near在……的旁边 behind在……后边 next to与……相邻 over在……上面 in front of在……前面</p><h2 id="代词-（pron-）-1"><a href="#代词-（pron-）-1" class="headerlink" title="代词 （pron.）"></a>代词 （pron.）</h2><p>I我 we我们 you你；你们 he他 she她 it它 they他（她，它）们 my我的 our 我们的 your你的；你们的 his他的 her她的</p><h2 id="动词-（v-）-1"><a href="#动词-（v-）-1" class="headerlink" title="动词 （v.）"></a>动词 （v.）</h2><p>play（played）玩；踢 swim(swam)游泳 skate滑冰 fly(flew)飞 jump跳 walk走</p><p>run(run)跑 climb爬 fight(fought)打架 swing(swung)荡 eat(ate)吃</p><p>sleep(slept)睡觉 like像，喜欢 have(had)有；吃 turn转弯 buy(bought)买</p><p>take(took)买；带 live居住 teach（taught）教 go(went)去 study(studied)学习</p><p>learn学习 sing(sang)唱歌 dance跳舞 row划 do(did)做 do homework做作业</p><p>do housework做家务 watch TV看电视 read(read) books读书</p><p>cook the meals做饭 water the flowers浇花 sweep(swept) the floor扫地</p><p>clean the bedroom打扫卧室 make(made) the bed铺床 set(set) the table摆饭桌 wash the clothes洗衣服 do the dishes洗碗碟 use a computer使用计算机</p><p>do morning exercises晨练；做广播操 eat breakfast吃早饭 eat dinner吃晚饭</p><p>go to school上学 have English class上英语课 play sports进行体育运动</p><p>get（got）up起床 climb mountains爬山 go shopping买东西</p><p>play the piano弹钢琴 visit grandparents看望（外）祖父母 go hiking去远足</p><p>fly kites放风筝 make a snowman堆雪人 plant trees种树</p><p>draw(drew) pictures画画 cook dinner做饭 read a book看书</p><p>answer the phone接电话 listen to music听音乐 clean the room打扫房间</p><p>write(wrote) a letter写信 write an e-mail写电子邮件 drink(drank) water喝水</p><p>take pictures照相 watch insects观察昆虫 pick up leaves采摘树叶</p><p>do an experiment做实验 catch butterflies捉蝴蝶 count insects数昆虫</p><p>collect insects收集昆虫 collect leaves收集树叶 write a report写报告</p><p>play chess下棋 have a picnic举行野餐 get to到达 ride(rode) a bike骑自行车 play the violin拉小提琴 make kites制作风筝 collect stamps集邮</p><p>meet(met)见面 welcome欢迎 thank谢谢 love爱 work工作 drink(drank)喝</p><p>taste尝 smell闻 feed(fed)喂养 shear剪 milk挤奶 look看 guess猜 help帮助</p><p>pass传递 show展示 use使用 clean打扫 open打开 close关上 put放 paint绘画 tell(told)告诉 kick踢 bounce反弹 ride(rode)骑 stop(stopped)停 wait等</p><p>find(found)寻找到 drive(drove)驾驶 fold折 send(sent)寄 wash洗 shine照耀</p><p>become变成 feel(felt)感觉到 think(thought)思考 meet(met)遇见 fall(fell)落下</p><p>leave(left)离开 wake(woke) up醒来 put on穿上 take off脱掉 hang up挂起</p><p>wear(wore)穿 go home回家 go to bed上床睡觉</p><p>play computer games玩电脑游戏 play chess下棋 empty the trash倒垃圾</p><p>put away the clothes收拾衣服 get off下车 take a trip去旅行</p><p>read a magazine阅读杂志 go to the cinema去看电影 go straight向前直走</p><h2 id="疑问词，练口语的提问词都在这里了，学会了，可以引导口语"><a href="#疑问词，练口语的提问词都在这里了，学会了，可以引导口语" class="headerlink" title="疑问词，练口语的提问词都在这里了，学会了，可以引导口语"></a>疑问词，练口语的提问词都在这里了，学会了，可以引导口语</h2><p>what（什么）    what color（什么颜色） what time（几点）</p><p>what day（星期几） how（怎样）how old（年龄多大、几岁）</p><p>how many（多少）  how much (多少钱)   how tall （多高）</p><p>how heavy（多重）  how long（多长）   how big（多大）   how large（面积多大） who（谁）  when（什么时候） </p><p>whose （谁的）    where（在哪里） why（为什么）    </p><p>which（哪一个）</p><h1 id="编程常用单词"><a href="#编程常用单词" class="headerlink" title="编程常用单词"></a>编程常用单词</h1><h2 id="A"><a href="#A" class="headerlink" title="A"></a>A</h2><table><thead><tr><th>a block of pointers</th><th>一块指针</th><th>一组指针</th><th></th></tr></thead><tbody><tr><td>abbreviation</td><td>缩略语</td><td></td><td></td></tr><tr><td>abstract</td><td>抽象的</td><td></td><td></td></tr><tr><td>abstract syntax tree, AST</td><td>抽象语法树</td><td></td><td></td></tr><tr><td>abstraction</td><td>抽象</td><td></td><td></td></tr><tr><td>abstraction barrier</td><td>抽象屏障</td><td>抽象阻碍</td><td></td></tr><tr><td>abstraction of function calls</td><td>函数调用抽象</td><td></td><td></td></tr><tr><td>access</td><td>访问</td><td>存取</td><td></td></tr><tr><td>access function</td><td>访问函数</td><td>存取函数</td><td></td></tr><tr><td>accumulator</td><td>累加器</td><td></td><td></td></tr><tr><td>activate</td><td>激活</td><td></td><td></td></tr><tr><td>ad hoc</td><td>专设</td><td></td><td></td></tr><tr><td>adapter</td><td>适配器</td><td></td><td></td></tr><tr><td>address</td><td>地址</td><td></td><td></td></tr><tr><td>algebraic data type</td><td>代数数据类型</td><td></td><td></td></tr><tr><td>algorithm</td><td>算法</td><td></td><td></td></tr><tr><td>alias</td><td>别名</td><td></td><td></td></tr><tr><td>allocate</td><td>分配</td><td>配置</td><td></td></tr><tr><td>alternative</td><td>备选</td><td></td><td></td></tr><tr><td>amortized analysis</td><td>平摊分析</td><td></td><td></td></tr><tr><td>anaphoric</td><td>指代</td><td></td><td></td></tr><tr><td>annotation</td><td>注解</td><td></td><td></td></tr><tr><td>anonymous function</td><td>匿名函数</td><td></td><td></td></tr><tr><td>antecedent</td><td>前提</td><td>前件</td><td>先决条件</td></tr><tr><td>append</td><td>追加</td><td>拼接</td><td></td></tr><tr><td>application</td><td>应用</td><td>应用程序</td><td></td></tr><tr><td>application framework</td><td>应用框架</td><td></td><td></td></tr><tr><td>application program interface, API</td><td>应用程序编程接口</td><td></td><td></td></tr><tr><td>application service provider, ASP</td><td>应用程序服务提供商</td><td></td><td></td></tr><tr><td>applicative</td><td>应用序</td><td></td><td></td></tr><tr><td>argument</td><td>参数</td><td>自变量</td><td>实际参数&#x2F;实参</td></tr><tr><td>arithmetic</td><td>算术</td><td></td><td></td></tr><tr><td>array</td><td>数组</td><td></td><td></td></tr><tr><td>artificial intelligence, AI</td><td>人工智能</td><td></td><td></td></tr><tr><td>assemble</td><td>组合</td><td></td><td></td></tr><tr><td>assembly</td><td>汇编</td><td></td><td></td></tr><tr><td>assignment</td><td>赋值</td><td></td><td></td></tr><tr><td>assignment operator</td><td>赋值操作符</td><td></td><td></td></tr><tr><td>associated</td><td>关联的</td><td></td><td></td></tr><tr><td>association list, alist</td><td>关联列表</td><td></td><td></td></tr><tr><td>atom</td><td>原子</td><td></td><td></td></tr><tr><td>atomic</td><td>原子的</td><td></td><td></td></tr><tr><td>atomic value</td><td>原子型值</td><td></td><td></td></tr><tr><td>attribute</td><td>属性</td><td>特性</td><td></td></tr><tr><td>augmented</td><td>扩充</td><td></td><td></td></tr><tr><td>automatic memory management</td><td>自动内存管理</td><td></td><td></td></tr><tr><td>automatically infer</td><td>自动推导</td><td></td><td></td></tr><tr><td>autometa theory</td><td>自动机理论</td><td></td><td></td></tr><tr><td>auxiliary</td><td>辅助</td><td></td><td></td></tr></tbody></table><h2 id="B"><a href="#B" class="headerlink" title="B"></a>B</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>backquote</td><td>反引用</td><td></td><td></td></tr><tr><td>backtrace</td><td>回溯</td><td></td><td></td></tr><tr><td>backward compatible</td><td>向下兼容</td><td></td><td></td></tr><tr><td>bandwidth</td><td>带宽</td><td></td><td></td></tr><tr><td>base case</td><td>基本情形</td><td></td><td></td></tr><tr><td>base class</td><td>基类</td><td></td><td></td></tr><tr><td>Bayes’ theorem</td><td>贝叶斯定理</td><td></td><td></td></tr><tr><td>best viable function</td><td>最佳可行函式</td><td>最佳可行函数</td><td></td></tr><tr><td>Bezier curve</td><td>贝塞尔曲线</td><td></td><td></td></tr><tr><td>bignum</td><td>大数</td><td></td><td></td></tr><tr><td>binary operator</td><td>二元操作符</td><td></td><td></td></tr><tr><td>binary search</td><td>二分查找</td><td>二分搜索</td><td>二叉搜索</td></tr><tr><td>binary search tree</td><td>二叉搜索树</td><td></td><td></td></tr><tr><td>binary tree</td><td>二叉树</td><td></td><td></td></tr><tr><td>binding</td><td>绑定</td><td></td><td></td></tr><tr><td>binding vector</td><td>绑定向量</td><td></td><td></td></tr><tr><td>bit</td><td>位</td><td>比特</td><td></td></tr><tr><td>bit manipulation</td><td>位操作</td><td></td><td></td></tr><tr><td>black box abstraction</td><td>黑箱抽象</td><td></td><td></td></tr><tr><td>block</td><td>块</td><td>区块</td><td></td></tr><tr><td>block structure</td><td>块结构</td><td>区块结构</td><td></td></tr><tr><td>block name</td><td>代码块名字</td><td></td><td></td></tr><tr><td>Blub paradox</td><td>Blub 困境</td><td></td><td></td></tr><tr><td>body</td><td>体</td><td>主体</td><td></td></tr><tr><td>boilerplate</td><td>公式化</td><td>样板</td><td></td></tr><tr><td>bookkeeping</td><td>簿记</td><td></td><td></td></tr><tr><td>boolean</td><td>布尔</td><td></td><td></td></tr><tr><td>border</td><td>边框</td><td></td><td></td></tr><tr><td>bottom-up design</td><td>自底向上的设计</td><td></td><td></td></tr><tr><td>bottom-up programming</td><td>自底向上编程</td><td></td><td></td></tr><tr><td>bound</td><td>边界</td><td></td><td></td></tr><tr><td>bounds checking</td><td>边界检查</td><td></td><td></td></tr><tr><td>box notation</td><td>箱子表示法</td><td></td><td></td></tr><tr><td>brace</td><td>花括弧</td><td>花括号</td><td></td></tr><tr><td>bracket</td><td>方括弧</td><td>方括号</td><td></td></tr><tr><td>branch</td><td>分支</td><td>跳转</td><td></td></tr><tr><td>breadth-first</td><td>广度优先</td><td></td><td></td></tr><tr><td>breadth-first search, BFS</td><td>广度优先搜索</td><td></td><td></td></tr><tr><td>breakpoint</td><td>断点</td><td></td><td></td></tr><tr><td>brevity</td><td>简洁</td><td></td><td></td></tr><tr><td>buffer</td><td>缓冲区</td><td></td><td></td></tr><tr><td>buffer overflow attack</td><td>缓冲区溢出攻击</td><td></td><td></td></tr><tr><td>bug</td><td>臭虫</td><td></td><td></td></tr><tr><td>building</td><td>创建</td><td></td><td></td></tr><tr><td>built-in</td><td>内置</td><td></td><td></td></tr><tr><td>byte</td><td>字节</td><td></td><td></td></tr><tr><td>bytecode</td><td>字节码</td><td></td><td></td></tr></tbody></table><h2 id="C"><a href="#C" class="headerlink" title="C"></a>C</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>cache</td><td>缓存</td><td></td><td></td></tr><tr><td>call</td><td>调用</td><td></td><td></td></tr><tr><td>callback</td><td>回调</td><td></td><td></td></tr><tr><td>CamelCase</td><td>驼峰式大小写</td><td></td><td></td></tr><tr><td>candidate function</td><td>候选函数</td><td></td><td></td></tr><tr><td>capture</td><td>捕捉</td><td></td><td></td></tr><tr><td>case</td><td>分支</td><td></td><td></td></tr><tr><td>character</td><td>字符</td><td></td><td></td></tr><tr><td>checksum</td><td>校验和</td><td></td><td></td></tr><tr><td>child class</td><td>子类</td><td></td><td></td></tr><tr><td>choke point</td><td>滞塞点</td><td></td><td></td></tr><tr><td>chunk</td><td>块</td><td></td><td></td></tr><tr><td>circular definition</td><td>循环定义</td><td></td><td></td></tr><tr><td>clarity</td><td>清晰</td><td></td><td></td></tr><tr><td>class</td><td>类</td><td>类别</td><td></td></tr><tr><td>class declaration</td><td>类声明</td><td></td><td></td></tr><tr><td>class library</td><td>类库</td><td></td><td></td></tr><tr><td>client</td><td>客户</td><td>客户端</td><td></td></tr><tr><td>clipboard</td><td>剪贴板</td><td></td><td></td></tr><tr><td>clone</td><td>克隆</td><td></td><td></td></tr><tr><td>closed world assumption</td><td>封闭世界假定</td><td></td><td></td></tr><tr><td>closure</td><td>闭包</td><td></td><td></td></tr><tr><td>clutter</td><td>杂乱</td><td></td><td></td></tr><tr><td>code</td><td>代码</td><td></td><td></td></tr><tr><td>code bloat</td><td>代码膨胀</td><td></td><td></td></tr><tr><td>collection</td><td>收集器</td><td>复合类型</td><td></td></tr><tr><td>column</td><td>行</td><td>栏</td><td></td></tr><tr><td>column-major order</td><td>行主序</td><td></td><td></td></tr><tr><td>comma</td><td>逗号</td><td></td><td></td></tr><tr><td>command-line</td><td>命令行</td><td></td><td></td></tr><tr><td>command-line interface, CLI</td><td>命令行界面</td><td></td><td></td></tr><tr><td>Common Lisp Object System, CLOS</td><td>Common Lisp 对象系统</td><td></td><td></td></tr><tr><td>Common Gateway Interface, CGI</td><td>通用网关接口</td><td></td><td></td></tr><tr><td>compatible</td><td>兼容</td><td></td><td></td></tr><tr><td>compilation</td><td>编译</td><td></td><td></td></tr><tr><td>compilation parameter</td><td>编译参数</td><td></td><td></td></tr><tr><td>compile</td><td>编译</td><td></td><td></td></tr><tr><td>compile inline</td><td>内联编译</td><td></td><td></td></tr><tr><td>compile time</td><td>编译期</td><td></td><td></td></tr><tr><td>compiled form</td><td>编译后的形式</td><td></td><td></td></tr><tr><td>compiler</td><td>编译器</td><td></td><td></td></tr><tr><td>complex</td><td>复杂</td><td></td><td></td></tr><tr><td>complexity</td><td>复杂度</td><td></td><td></td></tr><tr><td>compliment</td><td>补集</td><td></td><td></td></tr><tr><td>component</td><td>组件</td><td></td><td></td></tr><tr><td>composability</td><td>可组合性</td><td></td><td></td></tr><tr><td>composition</td><td>组合</td><td>组合函数</td><td></td></tr><tr><td>compound value</td><td>复合数据</td><td>复合值</td><td></td></tr><tr><td>compression</td><td>压缩</td><td></td><td></td></tr><tr><td>computation</td><td>计算</td><td></td><td></td></tr><tr><td>computer</td><td>计算机</td><td></td><td></td></tr><tr><td>concatenation</td><td>串接</td><td></td><td></td></tr><tr><td>concept</td><td>概念</td><td></td><td></td></tr><tr><td>concrete</td><td>具体</td><td></td><td></td></tr><tr><td>concurrency</td><td>并发</td><td></td><td></td></tr><tr><td>concurrent</td><td>并发</td><td></td><td></td></tr><tr><td>conditional</td><td>条件式</td><td></td><td></td></tr><tr><td>conditional variable</td><td>条件变量</td><td></td><td></td></tr><tr><td>configuration</td><td>配置</td><td></td><td></td></tr><tr><td>connection</td><td>连接</td><td></td><td></td></tr><tr><td>cons</td><td>构造</td><td></td><td></td></tr><tr><td>cons cell</td><td>构元</td><td>cons 单元</td><td></td></tr><tr><td>consequent</td><td>结果</td><td>推论</td><td></td></tr><tr><td>consistent</td><td>一致性</td><td></td><td></td></tr><tr><td>constant</td><td>常量</td><td></td><td></td></tr><tr><td>constraint</td><td>约束</td><td></td><td></td></tr><tr><td>constraint programming</td><td>约束式编程</td><td></td><td></td></tr><tr><td>container</td><td>容器</td><td></td><td></td></tr><tr><td>content-based filtering</td><td>基于内容的过滤</td><td></td><td></td></tr><tr><td>context</td><td>上下文</td><td>语境</td><td>环境</td></tr><tr><td>continuation</td><td>延续性</td><td></td><td></td></tr><tr><td>continuous integration, CI</td><td>持续集成</td><td></td><td></td></tr><tr><td>control</td><td>控件</td><td></td><td></td></tr><tr><td>cooperative multitasking</td><td>协作式多任务</td><td></td><td></td></tr><tr><td>copy</td><td>拷贝</td><td></td><td></td></tr><tr><td>corollary</td><td>推论</td><td></td><td></td></tr><tr><td>coroutine</td><td>协程</td><td></td><td></td></tr><tr><td>corruption</td><td>程序崩溃</td><td></td><td></td></tr><tr><td>crash</td><td>崩溃</td><td></td><td></td></tr><tr><td>create</td><td>创建</td><td></td><td></td></tr><tr><td>crystallize</td><td>固化</td><td></td><td></td></tr><tr><td>curly</td><td>括弧状的</td><td></td><td></td></tr><tr><td>curried</td><td>柯里的</td><td></td><td></td></tr><tr><td>currying</td><td>柯里化</td><td></td><td></td></tr><tr><td>cursor</td><td>光标</td><td></td><td></td></tr><tr><td>curvy</td><td>卷曲的</td><td></td><td></td></tr><tr><td>cycle</td><td>周期</td><td></td><td></td></tr></tbody></table><h2 id="D"><a href="#D" class="headerlink" title="D"></a>D</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>dangling pointer</td><td>迷途指针</td><td>野指针</td><td></td></tr><tr><td>Defense Advanced Research Projects Agency, DARPA</td><td>美国国防部高级研究计划局</td><td></td><td></td></tr><tr><td>data</td><td>数据</td><td></td><td></td></tr><tr><td>data structure</td><td>数据结构</td><td></td><td></td></tr><tr><td>data type</td><td>数据类型</td><td></td><td></td></tr><tr><td>data-driven</td><td>数据驱动</td><td></td><td></td></tr><tr><td>database</td><td>数据库</td><td></td><td></td></tr><tr><td>database schema</td><td>数据库模式</td><td></td><td></td></tr><tr><td>datagram</td><td>数据报文</td><td></td><td></td></tr><tr><td>dead lock</td><td>死锁</td><td></td><td></td></tr><tr><td>debug</td><td>调试</td><td></td><td></td></tr><tr><td>debugger</td><td>调试器</td><td></td><td></td></tr><tr><td>debugging</td><td>调试</td><td></td><td></td></tr><tr><td>declaration</td><td>声明</td><td></td><td></td></tr><tr><td>declaration forms</td><td>声明形式</td><td></td><td></td></tr><tr><td>declarative</td><td>声明式</td><td>说明式</td><td></td></tr><tr><td>declarative knowledge</td><td>声明式知识</td><td>说明式知识</td><td></td></tr><tr><td>declarative programming</td><td>声明式编程</td><td>说明式编程</td><td></td></tr><tr><td>declarativeness</td><td>可声明性</td><td></td><td></td></tr><tr><td>declaring</td><td>声明</td><td></td><td></td></tr><tr><td>deconstruction</td><td>解构</td><td></td><td></td></tr><tr><td>deduction</td><td>推导</td><td>推断</td><td></td></tr><tr><td>default</td><td>缺省</td><td>默认</td><td></td></tr><tr><td>defer</td><td>推迟</td><td></td><td></td></tr><tr><td>deficiency</td><td>缺陷</td><td>不足</td><td></td></tr><tr><td>define</td><td>定义</td><td></td><td></td></tr><tr><td>definition</td><td>定义</td><td></td><td></td></tr><tr><td>delegate</td><td>委托</td><td></td><td></td></tr><tr><td>delegation</td><td></td><td></td><td></td></tr><tr><td>dellocate</td><td>释放</td><td></td><td></td></tr><tr><td>demarshal</td><td>散集</td><td></td><td></td></tr><tr><td>deprecated</td><td>废弃</td><td></td><td></td></tr><tr><td>depth-first</td><td>深度优先</td><td></td><td></td></tr><tr><td>depth-first search, DFS</td><td>深度优先搜索</td><td></td><td></td></tr><tr><td>derived</td><td>派生</td><td></td><td></td></tr><tr><td>derived class</td><td>派生类</td><td></td><td></td></tr><tr><td>design pattern</td><td>设计模式</td><td></td><td></td></tr><tr><td>designator</td><td>指示符</td><td></td><td></td></tr><tr><td>destructive</td><td>破坏性的</td><td></td><td></td></tr><tr><td>destructive function</td><td>破坏性函数</td><td></td><td></td></tr><tr><td>destructuring</td><td>解构</td><td></td><td></td></tr><tr><td>device driver</td><td>硬件驱动程序</td><td></td><td></td></tr><tr><td>dimensions</td><td>维度</td><td></td><td></td></tr><tr><td>directive</td><td>指令</td><td></td><td></td></tr><tr><td>directive</td><td>指示符</td><td></td><td></td></tr><tr><td>directory</td><td>目录</td><td></td><td></td></tr><tr><td>disk</td><td>盘</td><td></td><td></td></tr><tr><td>dispatch</td><td>分派</td><td>派发</td><td></td></tr><tr><td>distributed computing</td><td>分布式计算</td><td></td><td></td></tr><tr><td>DLL hell</td><td>DLL 地狱</td><td></td><td></td></tr><tr><td>document</td><td>文档</td><td></td><td></td></tr><tr><td>dotted list</td><td>点状列表</td><td></td><td></td></tr><tr><td>dotted-pair notation</td><td>带点尾部表示法</td><td>带点尾部记法</td><td></td></tr><tr><td>duplicate</td><td>复本</td><td></td><td></td></tr><tr><td>dynamic binding</td><td>动态绑定</td><td></td><td></td></tr><tr><td>dynamic extent</td><td>动态范围</td><td></td><td></td></tr><tr><td>dynamic languages</td><td>动态语言</td><td></td><td></td></tr><tr><td>dynamic scope</td><td>动态作用域</td><td></td><td></td></tr><tr><td>dynamic type</td><td>动态类型</td><td></td><td></td></tr></tbody></table><h2 id="E"><a href="#E" class="headerlink" title="E"></a>E</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>effect</td><td>效果</td><td></td><td></td></tr><tr><td>efficiency</td><td>效率</td><td></td><td></td></tr><tr><td>efficient</td><td>高效</td><td></td><td></td></tr><tr><td>elaborate</td><td></td><td></td><td></td></tr><tr><td>elucidating</td><td></td><td></td><td></td></tr><tr><td>embedded language</td><td>嵌入式语言</td><td></td><td></td></tr><tr><td>emulate</td><td>仿真</td><td></td><td></td></tr><tr><td>encapsulation</td><td>封装</td><td></td><td></td></tr><tr><td>enum</td><td>枚举</td><td></td><td></td></tr><tr><td>enumeration type</td><td>枚举类型</td><td></td><td></td></tr><tr><td>enumrators</td><td>枚举器</td><td></td><td></td></tr><tr><td>environment</td><td>环境</td><td></td><td></td></tr><tr><td>equal</td><td>相等</td><td></td><td></td></tr><tr><td>equality</td><td>相等性</td><td></td><td></td></tr><tr><td>equation</td><td>方程</td><td></td><td></td></tr><tr><td>equivalence</td><td>等价性</td><td></td><td></td></tr><tr><td>error message</td><td>错误信息</td><td></td><td></td></tr><tr><td>error-checking</td><td>错误检查</td><td></td><td></td></tr><tr><td>escaped</td><td>逃脱</td><td>溢出</td><td></td></tr><tr><td>escape character</td><td>转义字符</td><td></td><td></td></tr><tr><td>evaluate</td><td>求值</td><td>评估</td><td></td></tr><tr><td>evaluation</td><td>求值</td><td></td><td></td></tr><tr><td>event</td><td>事件</td><td></td><td></td></tr><tr><td>event driven</td><td>事件驱动</td><td></td><td></td></tr><tr><td>exception</td><td>异常</td><td></td><td></td></tr><tr><td>exception handling</td><td>异常处理</td><td></td><td></td></tr><tr><td>exception specification</td><td>异常规范</td><td></td><td></td></tr><tr><td>exit</td><td>退出</td><td></td><td></td></tr><tr><td>expendable</td><td>可扩展的</td><td></td><td></td></tr><tr><td>explicit</td><td>显式</td><td></td><td></td></tr><tr><td>exploratory programming</td><td>探索式编程</td><td></td><td></td></tr><tr><td>export</td><td>导出</td><td>引出</td><td></td></tr><tr><td>expression</td><td>表达式</td><td></td><td></td></tr><tr><td>expressive power</td><td>表达能力</td><td></td><td></td></tr><tr><td>extensibility</td><td>可扩展性</td><td></td><td></td></tr><tr><td>extent</td><td>范围</td><td>程度</td><td></td></tr><tr><td>external representation</td><td>外部表示法</td><td></td><td></td></tr><tr><td>extreme programming</td><td>极限编程</td><td></td><td></td></tr></tbody></table><h2 id="F"><a href="#F" class="headerlink" title="F"></a>F</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>factorial</td><td>阶乘</td><td></td><td></td></tr><tr><td>family</td><td>（类型的）系</td><td></td><td></td></tr><tr><td>feasible</td><td>可行的</td><td></td><td></td></tr><tr><td>feature</td><td>特色</td><td></td><td></td></tr><tr><td>field</td><td>字段</td><td>栏位</td><td></td></tr><tr><td>file</td><td>文件</td><td></td><td></td></tr><tr><td>file handle</td><td>文件句柄</td><td></td><td></td></tr><tr><td>fill pointer</td><td>填充指针</td><td></td><td></td></tr><tr><td>fineo-grained</td><td>细粒度</td><td></td><td></td></tr><tr><td>firmware</td><td>固件</td><td></td><td></td></tr><tr><td>first-class</td><td>第一类的</td><td>第一级的</td><td>一等的</td></tr><tr><td>first-class function</td><td>第一级函数</td><td>第一类函数</td><td>一等函数</td></tr><tr><td>first-class object</td><td>第一类的对象</td><td>第一级的对象</td><td>一等公民</td></tr><tr><td>fixed-point</td><td>不动点</td><td></td><td></td></tr><tr><td>fixnum</td><td>定长数</td><td>定点数</td><td></td></tr><tr><td>flag</td><td>标记</td><td></td><td></td></tr><tr><td>flash</td><td>闪存</td><td></td><td></td></tr><tr><td>flexibility</td><td>灵活性</td><td></td><td></td></tr><tr><td>floating-point</td><td>浮点数</td><td></td><td></td></tr><tr><td>floating-point notation</td><td>浮点数表示法</td><td></td><td></td></tr><tr><td>flush</td><td>刷新</td><td></td><td></td></tr><tr><td>fold</td><td>折叠</td><td></td><td></td></tr><tr><td>font</td><td>字体</td><td></td><td></td></tr><tr><td>force</td><td>迫使</td><td></td><td></td></tr><tr><td>form</td><td>形式</td><td></td><td></td></tr><tr><td>form</td><td>表单</td><td></td><td></td></tr><tr><td>formal parameter</td><td>形参</td><td></td><td></td></tr><tr><td>formal relation</td><td>形式关系</td><td></td><td></td></tr><tr><td>forward</td><td>转发</td><td></td><td></td></tr><tr><td>forward references</td><td></td><td></td><td></td></tr><tr><td>fractal</td><td>分形</td><td></td><td></td></tr><tr><td>fractions</td><td>派系</td><td></td><td></td></tr><tr><td>framework</td><td>框架</td><td></td><td></td></tr><tr><td>freeware</td><td>自由软件</td><td></td><td></td></tr><tr><td>function</td><td>函数</td><td></td><td></td></tr><tr><td>function literal</td><td>函数字面常量</td><td></td><td></td></tr><tr><td>function object</td><td>函数对象</td><td></td><td></td></tr><tr><td>functional arguments</td><td>函数型参数</td><td></td><td></td></tr><tr><td>functional programming</td><td>函数式编程</td><td></td><td></td></tr><tr><td>functionality</td><td>功能性</td><td></td><td></td></tr></tbody></table><h2 id="G"><a href="#G" class="headerlink" title="G"></a>G</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>game</td><td>游戏</td><td></td><td></td></tr><tr><td>garbage</td><td>垃圾</td><td></td><td></td></tr><tr><td>garbage collection</td><td>垃圾回收</td><td></td><td></td></tr><tr><td>garbage collector</td><td>垃圾回收器</td><td></td><td></td></tr><tr><td>generalized</td><td>泛化</td><td></td><td></td></tr><tr><td>generalized variable</td><td>广义变量</td><td></td><td></td></tr><tr><td>generate</td><td>生成</td><td></td><td></td></tr><tr><td>generator</td><td>生成器</td><td></td><td></td></tr><tr><td>generic</td><td>通用的</td><td>泛化的</td><td></td></tr><tr><td>generic algorithm</td><td>通用算法</td><td>泛型算法</td><td></td></tr><tr><td>generic function</td><td>通用函数</td><td></td><td></td></tr><tr><td>generic programming</td><td>通用编程</td><td>泛型编程</td><td></td></tr><tr><td>genrative programming</td><td>生产式编程</td><td></td><td></td></tr><tr><td>global</td><td>全局的</td><td></td><td></td></tr><tr><td>global declaration</td><td>全局声明</td><td></td><td></td></tr><tr><td>glue program</td><td>胶水程序</td><td></td><td></td></tr><tr><td>goto</td><td>跳转</td><td></td><td></td></tr><tr><td>graphical user interface, GUI</td><td>图形用户界面</td><td></td><td></td></tr><tr><td>greatest common divisor</td><td>最大公因数</td><td></td><td></td></tr><tr><td>Greenspun’s tenth rule</td><td>格林斯潘第十定律</td><td></td><td></td></tr></tbody></table><h2 id="H"><a href="#H" class="headerlink" title="H"></a>H</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>hack</td><td>破解</td><td></td><td></td></tr><tr><td>hacker</td><td>黑客</td><td></td><td></td></tr><tr><td>handle</td><td>处理器</td><td>处理程序</td><td>句柄</td></tr><tr><td>hard disk</td><td>硬盘</td><td></td><td></td></tr><tr><td>hard-wire</td><td></td><td></td><td></td></tr><tr><td>hardware</td><td>硬件</td><td></td><td></td></tr><tr><td>hash tables</td><td>哈希表</td><td>散列表</td><td></td></tr><tr><td>header</td><td>头部</td><td></td><td></td></tr><tr><td>header file</td><td>头文件</td><td></td><td></td></tr><tr><td>heap</td><td>堆</td><td></td><td></td></tr><tr><td>helper</td><td>辅助函数</td><td>辅助方法</td><td></td></tr><tr><td>heuristic</td><td>启发式</td><td></td><td></td></tr><tr><td>high-order</td><td>高阶</td><td></td><td></td></tr><tr><td>higher-order function</td><td>高阶函数</td><td></td><td></td></tr><tr><td>higher-order procedure</td><td>高阶过程</td><td></td><td></td></tr><tr><td>hyperlink</td><td>超链接</td><td></td><td></td></tr><tr><td>HyperText Markup Language, HTML</td><td>超文本标记语言</td><td></td><td></td></tr><tr><td>HyperText Transfer Protocol, HTTP</td><td>超文本传输协议</td><td></td><td></td></tr></tbody></table><h2 id="I"><a href="#I" class="headerlink" title="I"></a>I</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>identical</td><td>一致</td><td></td><td></td></tr><tr><td>identifier</td><td>标识符</td><td></td><td></td></tr><tr><td>identity</td><td>同一性</td><td></td><td></td></tr><tr><td>ill type</td><td>类型不正确</td><td></td><td></td></tr><tr><td>illusion</td><td>错觉</td><td></td><td></td></tr><tr><td>imperative</td><td>命令式</td><td></td><td></td></tr><tr><td>imperative programming</td><td>命令式编程</td><td></td><td></td></tr><tr><td>implement</td><td>实现</td><td></td><td></td></tr><tr><td>implementation</td><td>实现</td><td></td><td></td></tr><tr><td>implicit</td><td>隐式</td><td></td><td></td></tr><tr><td>import</td><td>导入</td><td></td><td></td></tr><tr><td>incremental testing</td><td>增量测试</td><td></td><td></td></tr><tr><td>indent</td><td>缩排</td><td>缩进</td><td></td></tr><tr><td>indentation</td><td>缩排</td><td>缩进</td><td></td></tr><tr><td>indented</td><td>缩排</td><td>缩进</td><td></td></tr><tr><td>indention</td><td>缩排</td><td>缩进</td><td></td></tr><tr><td>infer</td><td>推导</td><td></td><td></td></tr><tr><td>infinite loop</td><td>无限循环</td><td></td><td></td></tr><tr><td>infinite recursion</td><td>无限递归</td><td></td><td></td></tr><tr><td>infinite precision</td><td>无限精度</td><td></td><td></td></tr><tr><td>infix</td><td>中序</td><td></td><td></td></tr><tr><td>information</td><td>信息</td><td></td><td></td></tr><tr><td>information technology, IT</td><td>信息技术</td><td></td><td></td></tr><tr><td>inheritance</td><td>继承</td><td></td><td></td></tr><tr><td>initialization</td><td>初始化</td><td></td><td></td></tr><tr><td>initialize</td><td>初始化</td><td></td><td></td></tr><tr><td>inline</td><td>内联</td><td></td><td></td></tr><tr><td>inline expansion</td><td>内联展开</td><td></td><td></td></tr><tr><td>inner class</td><td>内嵌类</td><td></td><td></td></tr><tr><td>inner loop</td><td>内层循环</td><td></td><td></td></tr><tr><td>input</td><td>输入</td><td></td><td></td></tr><tr><td>instances</td><td>实例</td><td></td><td></td></tr><tr><td>instantiate</td><td>实例化</td><td></td><td></td></tr><tr><td>instructive</td><td>教学性的</td><td></td><td></td></tr><tr><td>instrument</td><td>记录仪</td><td></td><td></td></tr><tr><td>integer</td><td>整数</td><td></td><td></td></tr><tr><td>integrate</td><td>集成</td><td></td><td></td></tr><tr><td>interactive language</td><td>交互式语言</td><td></td><td></td></tr><tr><td>interactive programming environment</td><td>交互式编程环境</td><td></td><td></td></tr><tr><td>interactive testing</td><td>交互式测试</td><td></td><td></td></tr><tr><td>interacts</td><td>交互</td><td></td><td></td></tr><tr><td>interface</td><td>接口</td><td></td><td></td></tr><tr><td>intermediate form</td><td>过渡形式</td><td>中间形式</td><td></td></tr><tr><td>internal</td><td>内部</td><td></td><td></td></tr><tr><td>internet</td><td>互联网</td><td>因特网</td><td></td></tr><tr><td>interpolation</td><td>插值</td><td></td><td></td></tr><tr><td>interpret</td><td>解释</td><td></td><td></td></tr><tr><td>interpreter</td><td>解释器</td><td></td><td></td></tr><tr><td>interrupt</td><td>中止</td><td>中断</td><td></td></tr><tr><td>intersection</td><td>交集</td><td></td><td></td></tr><tr><td>inter-process communication, IPC</td><td>进程间通信</td><td></td><td></td></tr><tr><td>invariants</td><td>约束条件</td><td></td><td></td></tr><tr><td>invoke</td><td>调用</td><td></td><td></td></tr><tr><td>item</td><td>项</td><td></td><td></td></tr><tr><td>iterate</td><td>迭代</td><td></td><td></td></tr><tr><td>iteration</td><td>迭代的</td><td></td><td></td></tr><tr><td>iterative</td><td>迭代的</td><td></td><td></td></tr><tr><td>iterator</td><td>迭代器</td><td></td><td></td></tr></tbody></table><h2 id="J"><a href="#J" class="headerlink" title="J"></a>J</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>jagged</td><td>锯齿状的</td><td></td><td></td></tr><tr><td>job control language, JCL</td><td>作业控制语言</td><td></td><td></td></tr><tr><td>judicious</td><td>明智的</td><td></td><td></td></tr></tbody></table><h2 id="K"><a href="#K" class="headerlink" title="K"></a>K</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>kernel</td><td>核心</td><td></td><td></td></tr><tr><td>kernel language</td><td>核心语言</td><td></td><td></td></tr><tr><td>keyword argument</td><td>关键字参数</td><td></td><td></td></tr><tr><td>keywords</td><td>关键字</td><td></td><td></td></tr><tr><td>kludge</td><td>蹩脚</td><td></td><td></td></tr></tbody></table><h2 id="L"><a href="#L" class="headerlink" title="L"></a>L</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>lambda calculus</td><td>lambda 演算</td><td></td><td></td></tr><tr><td>larval startup</td><td>雏形创业公司</td><td></td><td></td></tr><tr><td>laser</td><td>激光</td><td></td><td></td></tr><tr><td>latitude</td><td></td><td></td><td></td></tr><tr><td>layout</td><td>版型</td><td></td><td></td></tr><tr><td>lazy</td><td>惰性</td><td></td><td></td></tr><tr><td>lazy evaluation</td><td>惰性求值</td><td></td><td></td></tr><tr><td>legacy software</td><td>历史遗留软件</td><td></td><td></td></tr><tr><td>leverage</td><td>杠杆</td><td>(动词)利用</td><td></td></tr><tr><td>lexical</td><td>词法的</td><td></td><td></td></tr><tr><td>lexical analysis</td><td>词法分析</td><td></td><td></td></tr><tr><td>lexical closure</td><td>词法闭包</td><td></td><td></td></tr><tr><td>lexical scope</td><td>词法作用域</td><td></td><td></td></tr><tr><td>Language For Smart People, LFSP</td><td>聪明人的语言</td><td></td><td></td></tr><tr><td>library</td><td>库</td><td>函数库</td><td>函式库</td></tr><tr><td>lifetime</td><td>生命期</td><td></td><td></td></tr><tr><td>linear iteration</td><td>线性迭代</td><td></td><td></td></tr><tr><td>linear recursion</td><td>线性递归</td><td></td><td></td></tr><tr><td>link</td><td>链接</td><td>连接</td><td></td></tr><tr><td>linker</td><td>连接器</td><td></td><td></td></tr><tr><td>list</td><td>列表</td><td></td><td></td></tr><tr><td>list operation</td><td>列表操作</td><td></td><td></td></tr><tr><td>literal</td><td>字面</td><td></td><td></td></tr><tr><td>literal constant</td><td>字面常量</td><td></td><td></td></tr><tr><td>literal representation</td><td>字面量</td><td></td><td></td></tr><tr><td>load</td><td>装载</td><td>加载</td><td></td></tr><tr><td>loader</td><td>装载器</td><td>加载器</td><td></td></tr><tr><td>local</td><td>局部的</td><td>局域的</td><td></td></tr><tr><td>local declarations</td><td>局部声明</td><td></td><td></td></tr><tr><td>local function</td><td>局部函数</td><td>局域函数</td><td></td></tr><tr><td>local variable</td><td>局部变量</td><td>局域变量</td><td></td></tr><tr><td>locality</td><td>局部性</td><td></td><td></td></tr><tr><td>loop</td><td>循环</td><td></td><td></td></tr><tr><td>lvalue</td><td>左值</td><td></td><td></td></tr></tbody></table><h2 id="M"><a href="#M" class="headerlink" title="M"></a>M</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>machine instruction</td><td>机器指令</td><td></td><td></td></tr><tr><td>machine language</td><td>机器语言</td><td></td><td></td></tr><tr><td>machine language code</td><td>机器语言代码</td><td></td><td></td></tr><tr><td>machine learning</td><td>机器学习</td><td></td><td></td></tr><tr><td>macro</td><td>宏</td><td></td><td></td></tr><tr><td>mailing list</td><td>邮件列表</td><td></td><td></td></tr><tr><td>mainframes</td><td>大型机</td><td></td><td></td></tr><tr><td>maintain</td><td>维护</td><td></td><td></td></tr><tr><td>manifest typing</td><td>显式类型</td><td></td><td></td></tr><tr><td>manipulator</td><td>操纵器</td><td></td><td></td></tr><tr><td>mapping</td><td>映射</td><td></td><td></td></tr><tr><td>mapping functions</td><td>映射函数</td><td></td><td></td></tr><tr><td>marshal</td><td>列集</td><td></td><td></td></tr><tr><td>math envy</td><td>对数学家的妒忌</td><td></td><td></td></tr><tr><td>member</td><td>成员</td><td></td><td></td></tr><tr><td>memorizing</td><td>记忆化</td><td></td><td></td></tr><tr><td>memory</td><td>内存</td><td></td><td></td></tr><tr><td>memory allocation</td><td>内存分配</td><td></td><td></td></tr><tr><td>memory leaks</td><td>内存泄漏</td><td></td><td></td></tr><tr><td>menu</td><td>菜单</td><td></td><td></td></tr><tr><td>message</td><td>消息</td><td></td><td></td></tr><tr><td>message-passing</td><td>消息传递</td><td></td><td></td></tr><tr><td>meta-</td><td>元-</td><td></td><td></td></tr><tr><td>meta-programming</td><td>元编程</td><td></td><td></td></tr><tr><td>metacircular</td><td>元循环</td><td></td><td></td></tr><tr><td>method</td><td>方法</td><td></td><td></td></tr><tr><td>method combination</td><td>方法组合</td><td>方法组合机制</td><td></td></tr><tr><td>micro</td><td>微</td><td></td><td></td></tr><tr><td>middleware</td><td>中间件</td><td></td><td></td></tr><tr><td>migration</td><td>（数据库）迁移</td><td></td><td></td></tr><tr><td>minimal network</td><td>最小网络</td><td></td><td></td></tr><tr><td>mirror</td><td>镜射</td><td></td><td></td></tr><tr><td>mismatch type</td><td>类型不匹配</td><td></td><td></td></tr><tr><td>model</td><td>模型</td><td></td><td></td></tr><tr><td>modem</td><td>调制解调器</td><td></td><td></td></tr><tr><td>modifier</td><td>修饰符</td><td></td><td></td></tr><tr><td>modularity</td><td>模块性</td><td></td><td></td></tr><tr><td>module</td><td>模块</td><td></td><td></td></tr><tr><td>monad</td><td>单子</td><td></td><td></td></tr><tr><td>monkey patch</td><td>猴子补丁</td><td></td><td></td></tr><tr><td>monomorphic type language</td><td>单型语言</td><td></td><td></td></tr><tr><td>Moore’s law</td><td>摩尔定律</td><td></td><td></td></tr><tr><td>mouse</td><td>鼠标</td><td></td><td></td></tr><tr><td>multi-task</td><td>多任务</td><td></td><td></td></tr><tr><td>multiple values</td><td>多值</td><td></td><td></td></tr><tr><td>mutable</td><td>可变的</td><td></td><td></td></tr><tr><td>mutex</td><td>互斥锁</td><td></td><td></td></tr><tr><td>Multiple Virtual Storage, MVS</td><td>多重虚拟存储</td><td></td><td></td></tr></tbody></table><h2 id="N"><a href="#N" class="headerlink" title="N"></a>N</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>namespace</td><td>命名空间</td><td></td><td></td></tr><tr><td>native</td><td>本地的</td><td></td><td></td></tr><tr><td>native code</td><td>本地码</td><td></td><td></td></tr><tr><td>natural language</td><td>自然语言</td><td></td><td></td></tr><tr><td>natural language processing</td><td>自然语言处理</td><td></td><td></td></tr><tr><td>nested</td><td>嵌套</td><td></td><td></td></tr><tr><td>nested class</td><td>嵌套类</td><td></td><td></td></tr><tr><td>network</td><td>网络</td><td></td><td></td></tr><tr><td>newline</td><td>换行</td><td>新行</td><td></td></tr><tr><td>non-deterministic choice</td><td>非确定性选择</td><td></td><td></td></tr><tr><td>non-strict</td><td>非严格</td><td></td><td></td></tr><tr><td>non-strict evaluation</td><td>非严格求值</td><td></td><td></td></tr><tr><td>nondeclarative</td><td></td><td></td><td></td></tr><tr><td>nondestructive version</td><td>非破坏性的版本</td><td></td><td></td></tr><tr><td>number crunching</td><td>数字密集运算</td><td></td><td></td></tr></tbody></table><h2 id="O"><a href="#O" class="headerlink" title="O"></a>O</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>object</td><td>对象</td><td></td><td></td></tr><tr><td>object code</td><td>目标代码</td><td></td><td></td></tr><tr><td>object-oriented</td><td>面向对象</td><td></td><td></td></tr><tr><td>object-oriented programming</td><td>面向对象编程</td><td></td><td></td></tr><tr><td>Occam’s razor</td><td>奥卡姆剃刀原则</td><td></td><td></td></tr><tr><td>on the fly</td><td>运行中</td><td>执行时</td><td></td></tr><tr><td>online</td><td>在线</td><td></td><td></td></tr><tr><td>open source</td><td>开放源码</td><td></td><td></td></tr><tr><td>operand</td><td>操作对象</td><td></td><td></td></tr><tr><td>operating system, OS</td><td>操作系统</td><td></td><td></td></tr><tr><td>operation</td><td>操作</td><td></td><td></td></tr><tr><td>operator</td><td>操作符</td><td></td><td></td></tr><tr><td>optimization</td><td>优化</td><td></td><td></td></tr><tr><td>optimization of tail calls</td><td>尾调用优化</td><td></td><td></td></tr><tr><td>option</td><td>选项</td><td></td><td></td></tr><tr><td>optional</td><td>可选的</td><td>选择性的</td><td></td></tr><tr><td>optional argument</td><td>选择性参数</td><td></td><td></td></tr><tr><td>ordinary</td><td>常规的</td><td></td><td></td></tr><tr><td>orthogonality</td><td>正交性</td><td></td><td></td></tr><tr><td>overflow</td><td>溢出</td><td></td><td></td></tr><tr><td>overhead</td><td>额外开销</td><td></td><td></td></tr><tr><td>overload</td><td>重载</td><td></td><td></td></tr><tr><td>override</td><td>覆写</td><td></td><td></td></tr></tbody></table><h2 id="P"><a href="#P" class="headerlink" title="P"></a>P</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>package</td><td>包</td><td></td><td></td></tr><tr><td>pair</td><td>点对</td><td></td><td></td></tr><tr><td>palindrome</td><td>回文</td><td></td><td></td></tr><tr><td>paradigm</td><td>范式</td><td></td><td></td></tr><tr><td>parallel</td><td>并行</td><td></td><td></td></tr><tr><td>parallel computer</td><td>并行计算机</td><td></td><td></td></tr><tr><td>param</td><td>参数</td><td></td><td></td></tr><tr><td>parameter</td><td>参数</td><td>形式参数&#x2F;形参</td><td></td></tr><tr><td>paren-matching</td><td>括号匹配</td><td></td><td></td></tr><tr><td>parent class</td><td>父类</td><td></td><td></td></tr><tr><td>parentheses</td><td>括号</td><td></td><td></td></tr><tr><td>Parkinson’s law</td><td>帕金森法则</td><td></td><td></td></tr><tr><td>parse</td><td>解析</td><td></td><td></td></tr><tr><td>parse tree</td><td>解析树</td><td>分析树</td><td></td></tr><tr><td>parser</td><td>解析器</td><td></td><td></td></tr><tr><td>partial application</td><td>部分应用</td><td></td><td></td></tr><tr><td>partial applied</td><td>分步代入的</td><td></td><td></td></tr><tr><td>partial function application</td><td>部分函数应用</td><td></td><td></td></tr><tr><td>particular ordering</td><td>部分有序</td><td></td><td></td></tr><tr><td>pass by adress</td><td>按址传递</td><td>传址</td><td></td></tr><tr><td>pass by reference</td><td>按引用传递</td><td>传引用</td><td></td></tr><tr><td>pass by value</td><td>按值传递</td><td>传值</td><td></td></tr><tr><td>path</td><td>路径</td><td></td><td></td></tr><tr><td>pattern</td><td>模式</td><td></td><td></td></tr><tr><td>pattern match</td><td>模式匹配</td><td></td><td></td></tr><tr><td>perform</td><td>执行</td><td></td><td></td></tr><tr><td>performance</td><td>性能</td><td></td><td></td></tr><tr><td>performance-critical</td><td></td><td></td><td></td></tr><tr><td>persistence</td><td>持久性</td><td></td><td></td></tr><tr><td>phrenology</td><td>相面</td><td></td><td></td></tr><tr><td>physical</td><td>物理的</td><td></td><td></td></tr><tr><td>pipe</td><td>管道</td><td></td><td></td></tr><tr><td>pixel</td><td>像素</td><td></td><td></td></tr><tr><td>placeholder</td><td>占位符</td><td></td><td></td></tr><tr><td>planning</td><td>计划</td><td></td><td></td></tr><tr><td>platform</td><td>平台</td><td></td><td></td></tr><tr><td>pointer</td><td>指针</td><td></td><td></td></tr><tr><td>pointer arithmetic</td><td>指针运算</td><td></td><td></td></tr><tr><td>poll</td><td>轮询</td><td></td><td></td></tr><tr><td>polymorphic</td><td>多态</td><td></td><td></td></tr><tr><td>polymorphism</td><td>多态</td><td></td><td></td></tr><tr><td>polynomial</td><td>多项式的</td><td></td><td></td></tr><tr><td>pool</td><td>池</td><td></td><td></td></tr><tr><td>port</td><td>端口</td><td></td><td></td></tr><tr><td>portable</td><td>可移植性</td><td></td><td></td></tr><tr><td>portal</td><td>门户</td><td></td><td></td></tr><tr><td>positional parameters</td><td>位置参数</td><td></td><td></td></tr><tr><td>postfix</td><td>后序</td><td></td><td></td></tr><tr><td>precedence</td><td>优先级</td><td></td><td></td></tr><tr><td>precedence list</td><td>优先级列表</td><td></td><td></td></tr><tr><td>preceding</td><td>前述的</td><td></td><td></td></tr><tr><td>predicate</td><td>判断式</td><td>谓词</td><td></td></tr><tr><td>preemptive multitasking</td><td>抢占式多任务</td><td></td><td></td></tr><tr><td>premature design</td><td>过早设计</td><td></td><td></td></tr><tr><td>preprocessor</td><td>预处理器</td><td></td><td></td></tr><tr><td>prescribe</td><td>规定</td><td></td><td></td></tr><tr><td>prime</td><td>素数</td><td></td><td></td></tr><tr><td>primitive</td><td>原语</td><td></td><td></td></tr><tr><td>primitive recursive</td><td>主递归</td><td></td><td></td></tr><tr><td>primitive type</td><td>原生类型</td><td></td><td></td></tr><tr><td>principal type</td><td>主要类型</td><td></td><td></td></tr><tr><td>print</td><td>打印</td><td></td><td></td></tr><tr><td>printed representation</td><td>打印表示法</td><td></td><td></td></tr><tr><td>printer</td><td>打印机</td><td></td><td></td></tr><tr><td>priority</td><td>优先级</td><td></td><td></td></tr><tr><td>procedure</td><td>过程</td><td></td><td></td></tr><tr><td>procedurual</td><td>过程化的</td><td></td><td></td></tr><tr><td>procedurual knowledge</td><td>过程式知识</td><td></td><td></td></tr><tr><td>process</td><td>进程</td><td></td><td></td></tr><tr><td>process priority</td><td>进程优先级</td><td></td><td></td></tr><tr><td>productivity</td><td>生产力</td><td></td><td></td></tr><tr><td>profile</td><td>评测</td><td></td><td></td></tr><tr><td>profiler</td><td>评测器</td><td>性能分析器</td><td></td></tr><tr><td>programmer</td><td>程序员</td><td></td><td></td></tr><tr><td>programming</td><td>编程</td><td></td><td></td></tr><tr><td>programming language</td><td>编程语言</td><td></td><td></td></tr><tr><td>project</td><td>项目</td><td></td><td></td></tr><tr><td>prompt</td><td>提示符</td><td></td><td></td></tr><tr><td>proper list</td><td>正规列表</td><td></td><td></td></tr><tr><td>property</td><td>属性</td><td></td><td></td></tr><tr><td>property list</td><td>属性列表</td><td></td><td></td></tr><tr><td>protocol</td><td>协议</td><td></td><td></td></tr><tr><td>prototype</td><td>原型</td><td></td><td></td></tr><tr><td>pseudo code</td><td>伪码</td><td></td><td></td></tr><tr><td>pseudo instruction</td><td>伪指令</td><td></td><td></td></tr><tr><td>purely functional language</td><td>纯函数式语言</td><td></td><td></td></tr><tr><td>pushdown stack</td><td>下推栈</td><td></td><td></td></tr></tbody></table><h2 id="Q"><a href="#Q" class="headerlink" title="Q"></a>Q</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>qualified</td><td>修饰的</td><td>带前缀的</td><td></td></tr><tr><td>qualifier</td><td>修饰符</td><td></td><td></td></tr><tr><td>quality</td><td>质量</td><td></td><td></td></tr><tr><td>quality assurance, QA</td><td>质量保证</td><td></td><td></td></tr><tr><td>query</td><td>查询</td><td></td><td></td></tr><tr><td>query language</td><td>查询语言</td><td></td><td></td></tr><tr><td>queue</td><td>队列</td><td></td><td></td></tr><tr><td>quote</td><td>引用</td><td></td><td></td></tr><tr><td>quoted form</td><td>引用形式</td><td></td><td></td></tr></tbody></table><h2 id="R"><a href="#R" class="headerlink" title="R"></a>R</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>race condition</td><td>条件竞争</td><td>竞态条件</td><td></td></tr><tr><td>radian</td><td>弧度</td><td></td><td></td></tr><tr><td>Redundant Array of Independent Disks, RAID</td><td>冗余独立磁盘阵列</td><td></td><td></td></tr><tr><td>raise</td><td>引起</td><td></td><td></td></tr><tr><td>random number</td><td>随机数</td><td></td><td></td></tr><tr><td>range</td><td>范围</td><td>区间</td><td></td></tr><tr><td>rank</td><td>（矩阵）秩</td><td>排名</td><td></td></tr><tr><td>rapid prototyping</td><td>快速原型开发</td><td></td><td></td></tr><tr><td>rational database</td><td>关系数据库</td><td></td><td></td></tr><tr><td>raw</td><td>未经处理的</td><td></td><td></td></tr><tr><td>read</td><td>读取</td><td></td><td></td></tr><tr><td>read-evaluate-print loop, REPL</td><td>读取-求值-打印循环</td><td></td><td></td></tr><tr><td>read-macro</td><td>读取宏</td><td></td><td></td></tr><tr><td>record</td><td>记录</td><td></td><td></td></tr><tr><td>recursion</td><td>递归</td><td></td><td></td></tr><tr><td>recursive</td><td>递归的</td><td></td><td></td></tr><tr><td>recursive case</td><td>递归情形</td><td></td><td></td></tr><tr><td>refactor</td><td>重构</td><td></td><td></td></tr><tr><td>refer</td><td>参考</td><td></td><td></td></tr><tr><td>reference</td><td>引用</td><td>参考</td><td></td></tr><tr><td>referential transparency</td><td>引用透明</td><td></td><td></td></tr><tr><td>refine</td><td>精化</td><td></td><td></td></tr><tr><td>reflection</td><td>反射</td><td>映像</td><td></td></tr><tr><td>register</td><td>寄存器</td><td></td><td></td></tr><tr><td>registry creep</td><td>注册表蠕变</td><td></td><td></td></tr><tr><td>regular expression</td><td>正则表达式</td><td></td><td></td></tr><tr><td>represent</td><td>表现</td><td></td><td></td></tr><tr><td>request</td><td>请求</td><td></td><td></td></tr><tr><td>resolution</td><td>解析度</td><td></td><td></td></tr><tr><td>resolve</td><td>解析</td><td></td><td></td></tr><tr><td>rest parameter</td><td>剩余参数</td><td></td><td></td></tr><tr><td>return</td><td>返回</td><td>回车</td><td></td></tr><tr><td>return value</td><td>返回值</td><td></td><td></td></tr><tr><td>reuse of software</td><td>代码重用</td><td></td><td></td></tr><tr><td>right associative</td><td>右结合</td><td></td><td></td></tr><tr><td>Reduced Instruction Set Computer, RISC</td><td>精简指令系统计算机</td><td></td><td></td></tr><tr><td>robust</td><td>健壮</td><td></td><td></td></tr><tr><td>robustness</td><td>健壮性</td><td>鲁棒性</td><td></td></tr><tr><td>routine</td><td>例程</td><td></td><td></td></tr><tr><td>routing</td><td>路由</td><td></td><td></td></tr><tr><td>row-major order</td><td>列主序</td><td></td><td></td></tr><tr><td>remote procedure call, RPC</td><td>远程过程调用</td><td></td><td></td></tr><tr><td>run-length encoding</td><td>游程编码</td><td></td><td></td></tr><tr><td>run-time typing</td><td>运行期类型</td><td></td><td></td></tr><tr><td>runtime</td><td>运行期</td><td></td><td></td></tr><tr><td>rvalue</td><td>右值</td><td></td><td></td></tr></tbody></table><h2 id="S"><a href="#S" class="headerlink" title="S"></a>S</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>S-expression</td><td>S-表达式</td><td></td><td></td></tr><tr><td>save</td><td>储存</td><td></td><td></td></tr><tr><td>Secure Sockets Layer, SSL</td><td>安全套接字层</td><td></td><td></td></tr><tr><td>scaffold</td><td>脚手架</td><td>鹰架</td><td></td></tr><tr><td>scalar type</td><td>标量</td><td></td><td></td></tr><tr><td>scan</td><td>扫描</td><td></td><td></td></tr><tr><td>schedule</td><td>调度</td><td></td><td></td></tr><tr><td>scheduler</td><td>调度程序</td><td></td><td></td></tr><tr><td>scope</td><td>作用域</td><td></td><td></td></tr><tr><td>SCREAMING_SNAKE_CASE</td><td>尖叫式蛇底大写</td><td></td><td></td></tr><tr><td>screen</td><td>屏幕</td><td></td><td></td></tr><tr><td>scripting language</td><td>脚本语言</td><td></td><td></td></tr><tr><td>search</td><td>查找</td><td>搜寻</td><td></td></tr><tr><td>segment of instructions</td><td>指令片段</td><td></td><td></td></tr><tr><td>semantics</td><td>语义</td><td></td><td></td></tr><tr><td>semaphore</td><td>信号量</td><td></td><td></td></tr><tr><td>semicolon</td><td>分号</td><td></td><td></td></tr><tr><td>sequence</td><td>序列</td><td></td><td></td></tr><tr><td>sequential</td><td>循序的</td><td>顺序的</td><td></td></tr><tr><td>sequential collection literals</td><td></td><td></td><td></td></tr><tr><td>serial</td><td>串行</td><td></td><td></td></tr><tr><td>serialization</td><td>序列化</td><td></td><td></td></tr><tr><td>series</td><td>串行</td><td>级数</td><td></td></tr><tr><td>server</td><td>服务器</td><td></td><td></td></tr><tr><td>shadowing</td><td>隐蔽了</td><td></td><td></td></tr><tr><td>sharp</td><td>犀利的</td><td></td><td></td></tr><tr><td>sharp-quote</td><td>升引号</td><td></td><td></td></tr><tr><td>shortest path</td><td>最短路径</td><td></td><td></td></tr><tr><td>SICP</td><td>《计算机程序的构造与解释》</td><td></td><td></td></tr><tr><td>side effect</td><td>副作用</td><td></td><td></td></tr><tr><td>signature</td><td>签名</td><td></td><td></td></tr><tr><td>simple vector</td><td>简单向量</td><td></td><td></td></tr><tr><td>simulate</td><td>模拟</td><td></td><td></td></tr><tr><td>Single Point of Truth, SPOT</td><td>真理的单点性</td><td></td><td></td></tr><tr><td>single-segment</td><td>单段的</td><td></td><td></td></tr><tr><td>sketch</td><td>草图</td><td>初步框架</td><td></td></tr><tr><td>slash</td><td>斜线</td><td></td><td></td></tr><tr><td>slot</td><td>槽</td><td></td><td></td></tr><tr><td>smart pointer</td><td>智能指针</td><td></td><td></td></tr><tr><td>snake_case</td><td>蛇底式小写</td><td></td><td></td></tr><tr><td>snapshot</td><td>屏幕截图</td><td></td><td></td></tr><tr><td>socket</td><td>套接字</td><td></td><td></td></tr><tr><td>software</td><td>软件</td><td></td><td></td></tr><tr><td>solution</td><td>方案</td><td></td><td></td></tr><tr><td>source code</td><td>源代码</td><td></td><td></td></tr><tr><td>space leak</td><td>内存泄漏</td><td></td><td></td></tr><tr><td>spaghetti</td><td>面条式代码</td><td>意面式代码</td><td></td></tr><tr><td>spaghetti stack</td><td>意面式栈</td><td>面条式栈</td><td></td></tr><tr><td>spam</td><td>垃圾邮件</td><td></td><td></td></tr><tr><td>spec</td><td>规格</td><td></td><td></td></tr><tr><td>special form</td><td>特殊形式</td><td></td><td></td></tr><tr><td>special variable</td><td>特殊变量</td><td></td><td></td></tr><tr><td>specialization</td><td>特化</td><td></td><td></td></tr><tr><td>specialize</td><td>特化</td><td></td><td></td></tr><tr><td>specialized array</td><td>特化数组</td><td></td><td></td></tr><tr><td>specification</td><td>规格说明</td><td>规范</td><td></td></tr><tr><td>splitter</td><td>切分窗口</td><td></td><td></td></tr><tr><td>sprite</td><td>精灵图</td><td></td><td></td></tr><tr><td>square</td><td>平方</td><td></td><td></td></tr><tr><td>square root</td><td>平方根</td><td></td><td></td></tr><tr><td>squash</td><td>碰撞</td><td></td><td></td></tr><tr><td>stack</td><td>栈</td><td></td><td></td></tr><tr><td>stack frame</td><td>栈帧</td><td></td><td></td></tr><tr><td>stakeholder</td><td></td><td></td><td></td></tr><tr><td>standard library</td><td>标准函式库</td><td></td><td></td></tr><tr><td>state machine</td><td>状态机</td><td></td><td></td></tr><tr><td>statement</td><td>陈述</td><td>语句</td><td></td></tr><tr><td>static type</td><td>静态类型</td><td></td><td></td></tr><tr><td>static type system</td><td>静态类型系统</td><td></td><td></td></tr><tr><td>status</td><td>状态</td><td></td><td></td></tr><tr><td>store</td><td>保存</td><td></td><td></td></tr><tr><td>stream</td><td>流</td><td></td><td></td></tr><tr><td>strict</td><td>严格</td><td></td><td></td></tr><tr><td>strict evaluation</td><td>严格求值</td><td></td><td></td></tr><tr><td>string</td><td>字串</td><td>字符串</td><td></td></tr><tr><td>string template</td><td>字串模版</td><td></td><td></td></tr><tr><td>strong type</td><td>强类型</td><td></td><td></td></tr><tr><td>structural recursion</td><td>结构递归</td><td></td><td></td></tr><tr><td>structured values</td><td>结构型值</td><td></td><td></td></tr><tr><td>subroutine</td><td>子程序</td><td></td><td></td></tr><tr><td>subset</td><td>子集</td><td></td><td></td></tr><tr><td>substitution</td><td>代换</td><td></td><td></td></tr><tr><td>substitution model</td><td>代换模型</td><td></td><td></td></tr><tr><td>subtype</td><td>子类型</td><td></td><td></td></tr><tr><td>superclass</td><td>基类</td><td></td><td></td></tr><tr><td>superfluous</td><td>多余的</td><td></td><td></td></tr><tr><td>supertype</td><td>超集</td><td></td><td></td></tr><tr><td>support</td><td>支持</td><td></td><td></td></tr><tr><td>suspend</td><td>挂起</td><td></td><td></td></tr><tr><td>swapping values</td><td>交换变量的值</td><td></td><td></td></tr><tr><td>symbol</td><td>符号</td><td></td><td></td></tr><tr><td>symbolic computation</td><td>符号计算</td><td></td><td></td></tr><tr><td>syntax</td><td>语法</td><td></td><td></td></tr><tr><td>system administrator</td><td>系统管理员</td><td></td><td></td></tr><tr><td>system administrator disease</td><td>系统管理员综合症</td><td></td><td></td></tr><tr><td>System Network Architecture, SNA</td><td>系统网络体系</td><td></td><td></td></tr></tbody></table><h2 id="T"><a href="#T" class="headerlink" title="T"></a>T</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>(database)table</td><td>数据表</td><td></td><td></td></tr><tr><td>table</td><td>表格</td><td></td><td></td></tr><tr><td>tag</td><td>标签</td><td>标记</td><td></td></tr><tr><td>tail-recursion</td><td>尾递归</td><td></td><td></td></tr><tr><td>tail-recursive</td><td>尾递归的</td><td></td><td></td></tr><tr><td>TAOCP</td><td>《计算机程序设计艺术》</td><td></td><td></td></tr><tr><td>target</td><td>目标</td><td></td><td></td></tr><tr><td>taxable operators</td><td>需节制使用的操作符</td><td></td><td></td></tr><tr><td>taxonomy</td><td>分类法</td><td></td><td></td></tr><tr><td>template</td><td>模版</td><td></td><td></td></tr><tr><td>temporary object</td><td>临时对象</td><td></td><td></td></tr><tr><td>testing</td><td>测试</td><td></td><td></td></tr><tr><td>text</td><td>文本</td><td></td><td></td></tr><tr><td>text file</td><td>文本文件</td><td></td><td></td></tr><tr><td>thread</td><td>线程</td><td></td><td></td></tr><tr><td>thread safe</td><td>线程安全</td><td></td><td></td></tr><tr><td>three-valued logic</td><td>三值逻辑</td><td></td><td></td></tr><tr><td>throw</td><td>抛出</td><td>丢掷</td><td>引发</td></tr><tr><td>throwaway program</td><td>一次性程序</td><td></td><td></td></tr><tr><td>timestamp</td><td>时间戳</td><td></td><td></td></tr><tr><td>token</td><td>词法记号</td><td>语义单位</td><td>语元</td></tr><tr><td>top-down design</td><td>自顶向下的设计</td><td></td><td></td></tr><tr><td>top-level</td><td>顶层</td><td></td><td></td></tr><tr><td>trace</td><td>追踪</td><td></td><td></td></tr><tr><td>trailing space</td><td>行尾空白</td><td></td><td></td></tr><tr><td>transaction</td><td>事务</td><td></td><td></td></tr><tr><td>transition network</td><td>转移网络</td><td></td><td></td></tr><tr><td>transparent</td><td>透明的</td><td></td><td></td></tr><tr><td>traverse</td><td>遍历</td><td></td><td></td></tr><tr><td>tree</td><td>树</td><td></td><td></td></tr><tr><td>tree recursion</td><td>树形递归</td><td></td><td></td></tr><tr><td>trigger</td><td>触发器</td><td></td><td></td></tr><tr><td>tuple</td><td>元组</td><td></td><td></td></tr><tr><td>Turing machine</td><td>图灵机</td><td></td><td></td></tr><tr><td>Turing complete</td><td>图灵完备</td><td></td><td></td></tr><tr><td>typable</td><td>类型合法</td><td></td><td></td></tr><tr><td>type</td><td>类型</td><td></td><td></td></tr><tr><td>type constructor</td><td>类构造器</td><td></td><td></td></tr><tr><td>type declaration</td><td>类型声明</td><td></td><td></td></tr><tr><td>type hierarchy</td><td>类型层级</td><td></td><td></td></tr><tr><td>type inference</td><td>类型推导</td><td></td><td></td></tr><tr><td>type name</td><td>类型名</td><td></td><td></td></tr><tr><td>type safe</td><td>类型安全</td><td></td><td></td></tr><tr><td>type signature</td><td>类型签名</td><td></td><td></td></tr><tr><td>type synonym</td><td>类型别名</td><td></td><td></td></tr><tr><td>type variable</td><td>类型变量</td><td></td><td></td></tr><tr><td>typing</td><td>类型指派</td><td>输入</td><td></td></tr></tbody></table><h2 id="U"><a href="#U" class="headerlink" title="U"></a>U</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>user interface, UI</td><td>用户界面</td><td></td><td></td></tr><tr><td>unary</td><td>一元的</td><td></td><td></td></tr><tr><td>underflow</td><td>下溢</td><td></td><td></td></tr><tr><td>unification</td><td>合一</td><td>统一</td><td></td></tr><tr><td>union</td><td>并集</td><td></td><td></td></tr><tr><td>universally quantify</td><td>全局量化</td><td></td><td></td></tr><tr><td>unqualfied</td><td>未修饰的</td><td></td><td></td></tr><tr><td>unwinding</td><td></td><td></td><td></td></tr><tr><td>uptime</td><td>运行时间</td><td></td><td></td></tr><tr><td>Uniform Resource Locator, URL</td><td>统一资源定位符</td><td></td><td></td></tr><tr><td>user</td><td>用户</td><td></td><td></td></tr><tr><td>utilities</td><td>实用函数</td><td></td><td></td></tr></tbody></table><h2 id="V"><a href="#V" class="headerlink" title="V"></a>V</h2><table><thead><tr><th><strong>英文</strong></th><th><strong>译法 1</strong></th><th>译法 2</th><th>译法 3</th></tr></thead><tbody><tr><td>validate</td><td>验证</td><td></td><td></td></tr><tr><td>validator</td><td>验证器</td><td></td><td></td></tr><tr><td>value constructor</td><td>值构造器</td><td></td><td></td></tr><tr><td>vaporware</td><td>朦胧件</td><td></td><td></td></tr><tr><td>variable</td><td>变量</td><td></td><td></td></tr><tr><td>variable capture</td><td>变量捕捉</td><td></td><td></td></tr><tr><td>variadic input</td><td>可变输入</td><td></td><td></td></tr><tr><td>variant</td><td>变种</td><td></td><td></td></tr><tr><td>venture capitalist, VC</td><td>风险投资商</td><td></td><td></td></tr><tr><td>vector</td><td>向量</td><td></td><td></td></tr><tr><td>viable function</td><td>可行函数</td><td></td><td></td></tr><tr><td>video</td><td>视频</td><td></td><td></td></tr><tr><td>view</td><td>视图</td><td></td><td></td></tr><tr><td>virtual function</td><td>虚函数</td><td></td><td></td></tr><tr><td>virtual machine</td><td>虚拟机</td><td></td><td></td></tr><tr><td>virtual memory</td><td>虚内存</td><td></td><td></td></tr><tr><td>volatile</td><td>挥发</td><td></td><td></td></tr><tr><td>vowel</td><td>元音</td><td></td><td></td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 单词 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> words </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vue指令命令</title>
      <link href="/79333/2024/04/11/vue%E6%8C%87%E4%BB%A4/"/>
      <url>/79333/2024/04/11/vue%E6%8C%87%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h2 id="项目初始化"><a href="#项目初始化" class="headerlink" title="项目初始化"></a>项目初始化</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><h2 id="vue-cli"><a href="#vue-cli" class="headerlink" title="vue cli"></a>vue cli</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @vue/cli -g</span><br></pre></td></tr></table></figure><h2 id="安装-less-和-less-loader-命令"><a href="#安装-less-和-less-loader-命令" class="headerlink" title="安装 less 和 less-loader 命令"></a>安装 less 和 less-loader 命令</h2><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">npm</span> <span class="selector-tag">install</span> <span class="selector-tag">less</span> <span class="selector-tag">less-loader</span> <span class="selector-tag">--save-dev</span></span><br></pre></td></tr></table></figure><h2 id="vue-cli自定义创建项目-eslint依赖冲突解决方式"><a href="#vue-cli自定义创建项目-eslint依赖冲突解决方式" class="headerlink" title="vue-cli自定义创建项目-eslint依赖冲突解决方式"></a>vue-cli自定义创建项目-eslint依赖冲突解决方式</h2><blockquote><p>降级eslint-plugin-<a href="https://so.csdn.net/so/search?q=vue&spm=1001.2101.3001.7020">vue</a>到@vue&#x2F;eslint-config-standard支持的版本</p><p>参考<a href="https://blog.csdn.net/ioncannontic/article/details/136627999">vue-cli自定义创建项目-eslint依赖冲突解决方式_vue-offical 和eslint冲突-CSDN博客</a></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install eslint-plugin-vue@^7.0.0</span><br><span class="line"></span><br><span class="line">npm i --registry https://registry.npmmirror.com vant@latest-v2 -S</span><br></pre></td></tr></table></figure><h2 id="ts"><a href="#ts" class="headerlink" title="ts"></a>ts</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g typescript</span><br></pre></td></tr></table></figure><h2 id="路由router"><a href="#路由router" class="headerlink" title="路由router"></a>路由router</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue-router@3.6.5</span><br></pre></td></tr></table></figure><h2 id="vuex"><a href="#vuex" class="headerlink" title="vuex"></a>vuex</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i vuex@3</span><br></pre></td></tr></table></figure><h2 id="vent2"><a href="#vent2" class="headerlink" title="vent2"></a>vent2</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Vue 3 项目，安装最新版 Vant：</span><br><span class="line">npm i vant -S</span><br><span class="line"></span><br><span class="line"># Vue 2 项目，安装 Vant 2：</span><br><span class="line">npm i vant@latest-v2 -S</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程 </tag>
            
            <tag> Vue </tag>
            
            <tag> 指令 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>this指向问题</title>
      <link href="/79333/2024/04/09/this%E6%8C%87%E5%90%91%E9%97%AE%E9%A2%98/"/>
      <url>/79333/2024/04/09/this%E6%8C%87%E5%90%91%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>在 JavaScript 中，<code>this</code> 关键字通常指向执行上下文中的对象。然而，在箭头函数中，<code>this</code> 的行为与传统的函数不同。箭头函数不绑定自己的 <code>this</code>，它们继承自父执行上下文中的 <code>this</code> 值。这意味着在箭头函数中，<code>this</code> 的值是在函数定义时确定的，而不是在函数调用时确定的。</p><p>以下是箭头函数和传统函数中 <code>this</code> 指向的一些关键区别：</p><h3 id="传统函数（非箭头函数）"><a href="#传统函数（非箭头函数）" class="headerlink" title="传统函数（非箭头函数）"></a>传统函数（非箭头函数）</h3><p>在传统函数中，<code>this</code> 的值取决于函数是如何被调用的。它可以是以下之一：</p><ol><li><strong>全局对象</strong>：在全局执行上下文中，<code>this</code> 指向全局对象（在浏览器中通常是 <code>window</code> 对象）。</li><li><strong>当前对象</strong>：当函数作为对象的方法调用时，<code>this</code> 指向调用该方法的对象。</li><li><strong>自定义对象</strong>：当使用 <code>call</code>、<code>apply</code> 或 <code>bind</code> 方法时，<code>this</code> 可以被显式设置为这些方法的一个参数。</li></ol><h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><p>箭头函数不绑定自己的 <code>this</code>，它们使用词法作用域来确定 <code>this</code> 的值。<code>this</code> 的值是在函数定义时所在的上下文中继承的，而不是在函数调用时。这意味着箭头函数中的 <code>this</code> 与外部上下文中的 <code>this</code> 是相同的。箭头函数的 <code>this</code> 不能通过 <code>call</code>、<code>apply</code> 或 <code>bind</code> 方法来改变。</p><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Alice&#x27;</span>,</span><br><span class="line">  <span class="attr">sayName</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>); <span class="comment">// 输出 &#x27;Alice&#x27;，因为 this 指向 obj</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">sayNameArrow</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>); <span class="comment">// 输出 undefined 或全局对象的名字，因为 this 继承自外部上下文</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">sayName</span>(); <span class="comment">// 正常函数，this 指向 obj</span></span><br><span class="line">obj.<span class="title function_">sayNameArrow</span>(); <span class="comment">// 箭头函数，this 指向全局对象或 undefined（严格模式下）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sayNameGlobal = obj.<span class="property">sayName</span>;</span><br><span class="line"><span class="title function_">sayNameGlobal</span>(); <span class="comment">// 输出 undefined 或抛出错误，因为 this 指向全局对象</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sayNameArrowGlobal = obj.<span class="property">sayNameArrow</span>;</span><br><span class="line"><span class="title function_">sayNameArrowGlobal</span>(); <span class="comment">// 输出 undefined 或全局对象的名字，因为 this 继承自外部上下文</span></span><br></pre></td></tr></table></figure><p>在上面的例子中，<code>sayName</code> 是一个正常函数，当它作为 <code>obj</code> 的方法调用时，<code>this</code> 指向 <code>obj</code>。而 <code>sayNameArrow</code> 是一个箭头函数，无论它是作为 <code>obj</code> 的方法调用还是作为全局函数调用，<code>this</code> 都指向全局对象或 <code>undefined</code>（在严格模式下）。</p><p>箭头函数的这一特性使得它们非常适合在回调函数中使用，特别是在 Vue.js 或 React 等框架中，你希望 <code>this</code> 指向组件实例时。由于箭头函数的 <code>this</code> 值不会随调用方式改变，它们在这些情况下提供了更稳定的 <code>this</code> 指向。</p>]]></content>
      
      
      <categories>
          
          <category> 编程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程 </tag>
            
            <tag> this </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>bk</title>
      <link href="/79333/2024/03/24/bulid%20bk/"/>
      <url>/79333/2024/03/24/bulid%20bk/</url>
      
        <content type="html"><![CDATA[<p>关于博客搭建的教程。<br>Welcome to my notes on blog !</p><h1 id="1-一些准备工作"><a href="#1-一些准备工作" class="headerlink" title="1.一些准备工作"></a>1.一些准备工作</h1><blockquote><p>安装nodejs</p><p>安装git</p><p>申请一个gitee账号，关联秘钥将本地仓库和远端的仓库关联起来</p></blockquote><h1 id="2-搭建流程"><a href="#2-搭建流程" class="headerlink" title="2.搭建流程"></a>2.搭建流程</h1><blockquote><ol><li><p>本地新建一个文件夹，名字随意，调出git的命令窗口安装hexo</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure></li></ol></blockquote><blockquote><ol><li><p>生成博客文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure></li></ol></blockquote><blockquote><ol><li><p>预览生成的博客文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure></li></ol></blockquote><blockquote><ol><li>在gitee上新建一个仓库，仓库名称和你的用户名保持一致。<br><a href="https://wang-yingqiang.gitee.io/wangyingqiang/img/1.jpg"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wang-yingqiang.gitee.io/wangyingqiang/img/1.jpg" alt="新建仓库"></a></li></ol></blockquote><blockquote><ol><li><p>配置博客文件下的_config,yml 文件</p><blockquote><p>位置在_config.yml 文件的最下方，配置三个地方</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/one-command-deployment</span><br><span class="line">deploy:</span><br><span class="line">  type: &#x27;git&#x27;    //类型为git 这里不动</span><br><span class="line">  repo:  https://gitee.com/wang-yingqiang/Wangyingqiang.git   //这里配置的是你的仓库的地址，也就是gitee的生成的那个https地址</span><br><span class="line">  branch:  master   //配置分支为主分支，这里动</span><br></pre></td></tr></table></figure></li><li><p>安装hexo 的部署工具</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li></ol></blockquote><blockquote><ol><li><p>生成静态文件并部署到gitee上</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g&amp;&amp;hexo d</span><br></pre></td></tr></table></figure></li></ol></blockquote><blockquote><ol><li><p>将你的Gitee仓库设置为开源的仓库</p><p><a href="https://wang-yingqiang.gitee.io/wangyingqiang/img/2.jpg"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wang-yingqiang.gitee.io/wangyingqiang/img/2.jpg" alt="开源"></a></p></li></ol></blockquote><blockquote><ol><li><p>开启Giteepage服务</p><p><a href="https://wang-yingqiang.gitee.io/wangyingqiang/img/3.jpg"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wang-yingqiang.gitee.io/wangyingqiang/img/3.jpg" alt="开启giteePage"></a></p></li></ol></blockquote><blockquote><ol><li>生成你的博客网址<br>·<a href="https://wang-yingqiang.gitee.io/wangyingqiang/img/4.jpg"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wang-yingqiang.gitee.io/wangyingqiang/img/4.jpg" alt="生成博客"></a></li></ol></blockquote><p>到这一步你的博客就已经生成成功了</p>]]></content>
      
      
      <categories>
          
          <category> 编程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程 </tag>
            
            <tag> 博客 </tag>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>host</title>
      <link href="/79333/2024/01/23/host/"/>
      <url>/79333/2024/01/23/host/</url>
      
        <content type="html"><![CDATA[<h1 id="host"><a href="#host" class="headerlink" title="host"></a>host</h1><p>参考：<a href="https://blog.csdn.net/qq_41176055/article/details/128496628">https://blog.csdn.net/qq_41176055/article/details/128496628</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> host </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>傲慢与偏见</title>
      <link href="/79333/2023/04/12/My-first-document/"/>
      <url>/79333/2023/04/12/My-first-document/</url>
      
        <content type="html"><![CDATA[<h1 id="Characters（角色）"><a href="#Characters（角色）" class="headerlink" title="Characters（角色）"></a>Characters（角色）</h1><ol><li>Elizabeth (伊丽莎白) - 主角之一， 聪明且机智的班纳特家的次女</li><li>Darcy (达西) - 富有但骄傲的绅士， 伊丽莎白的爱慕者</li><li>Jane (简) - 班纳特家的大女儿，美丽而温柔</li><li>Bennet (班纳特) - 伊丽莎白和简的姓氏， 中产阶级家庭</li><li>Bingley (彬格莱) - 达西的密友，简的追求者</li><li>Wickham (威克姆) - 貌似有魅力的军官， 与伊丽莎白相识</li><li>Lydia (丽迪雅) - 班纳特家的最小女儿， 轻率并爱冒险</li><li>Collins (柯林斯) - 班纳特家的亲戚， 拟定继承者</li><li>Gardiner (加德纳) - 班纳特家的姨父， 理智且有帮助，Gardiner太太是Bennet太太的妹妹。</li><li>Netherfield (内瑟菲尔德) - 彬格莱租住的庄园， 社交场合之一</li><li>Pemberley (彭伯里) - 达西的宅邸， 伊丽莎白被那里的美景和达西的真实性格所吸引</li><li>Meryton (梅里屯) - 班纳特家附近的市镇</li><li>Longbourn (浪搏恩) - 班纳特家的家庭庄园</li><li>Rosings (罗新斯) - Collins工作的地方， lady Catherine de Bourgh (凯瑟琳)的庄园</li><li>Charlotte (夏洛特) - Elizabeth的好友， 后来嫁给了Collins</li><li>Catherine (凯瑟琳) - Lady Catherine de Bourgh， Rosings的主人，自尊心很强的贵族</li><li>Lucas (卢卡斯) - Charlotte的家庭</li><li>Hertfordshire (赫特福德郡) - 伊丽莎白和她的家人居住的郡</li><li>Derbyshire (德比郡) - Darcy的家族府邸Pemberley所在的郡</li><li>Brighton (布莱顿) - Lydia去此地时遇到了麻烦</li><li>Fitzwilliam (菲兹威廉) - Darcy的表亲，军官</li><li>Georgiana (乔治安娜) - Darcy的妹妹， 天真而害羞</li><li>Hunsford (亨斯福德) - Collins和Charlotte生活的地方</li><li>Kitty (吉蒂) - Elizabeth的妹妹， 受Lydia影响，也有些浮浅</li><li>Mary (玛丽) - 另一位班纳特家的女儿， 爱好阅读及音乐，但不太社交</li><li>Caroline (卡洛琳) - Bingley的妹妹， 不喜欢Elizabeth和她的家庭</li><li>Anne (安妮) - Lady Catherine的女儿，体弱多病，传说要嫁给达西先生</li><li>Mrs. Long (朗夫人) - 班纳特家附近的邻居</li><li>Forster (福斯特) - Lydia所住的brighton的军官的妻子</li><li>Morris (莫里斯)、Denny (丹尼)、Chamberlayne (钱伯兰) - Wickham同僚的军官</li></ol><h1 id="Chapter-1（班纳特家的单身贵族邻居）"><a href="#Chapter-1（班纳特家的单身贵族邻居）" class="headerlink" title="Chapter 1（班纳特家的单身贵族邻居）"></a>Chapter 1（班纳特家的单身贵族邻居）</h1><p>IT is a truth universally acknowledged, that a single man in possession of a good fortune must be in want of a wife.</p><p>However little known the feelings or views of such a man may be on his first entering a neighbourhood, this truth is so well fixed in the minds of the surrounding families, that he is considered as the rightful property of some one or other of their daughters.</p><p>“My dear Mr. Bennet,” said his lady to him one day, “have you heard that Netherfield park is let at last?”</p><p>Mr. Bennet replied that he had not.</p><p>“But it is,” returned she; “for Mrs. Long has just been here, and she told me all about it.”</p><p>Mr. Bennet made no answer.</p><p>“Do not you want to know who has taken it?” cried his wife impatiently.</p><p>“You want to tell me, and I have no objection to hearing it.”</p><p>This was invitation enough.</p><p>“Why, my dear, you must know, Mrs. Long says that Netherfield is taken by a young man of large fortune from the north of England; that he came down on Monday in a chaise and four to see the place, and was so much delighted with it that he agreed with Mr. Morris immediately; that he is to take possession before Michaelmas, and some of his servants are to be in the house by the end of next week.”</p><p>“What is his name?”</p><p>“Bingley.”</p><p>“Is he married or single?”</p><p>“Oh! single, my dear, to be sure! A single man of large fortune; four or five thousand a year. What a fine thing for our girls!”</p><p>“How so? how can it affect them?”</p><p>“My dear Mr. Bennet,” replied his wife, “how can you be so tiresome! You must know that I am thinking of his marrying one of them.”</p><p>“Is that his design in settling here?”</p><p>“Design! nonsense, how can you talk so! But it is very likely that he may fall in love with one of them, and therefore you must visit him as soon as he comes.”</p><p>“I see no occasion for that. You and the girls may go, or you may send them by themselves, which perhaps will be still better; for, as you are as handsome as any of them, Mr. Bingley might like you the best of the party.”</p><p>“My dear, you flatter me. I certainly have had my share of beauty, but I do not pretend to be any thing extraordinary now. When a woman has five grown up daughters, she ought to give over thinking of her own beauty.”</p><p>“In such cases, a woman has not often much beauty to think of.”</p><p>“But, my dear, you must indeed go and see Mr. Bingley when he comes into the neighbourhood.”</p><p>“It is more than I engage for, I assure you.”</p><p>“But consider your daughters. Only think what an establishment it would be for one of them. Sir William and Lady Lucas are determined to go, merely on that account, for in general, you know they visit no new comers. Indeed you must go, for it will be impossible for us to visit him, if you do not.”</p><p>“You are over-scrupulous, surely. I dare say Mr. Bingley will be very glad to see you; and I will send a few lines by you to assure him of my hearty consent to his marrying which ever he chuses of the girls; though I must throw in a good word for my little Lizzy.”</p><p>“I desire you will do no such thing. Lizzy is not a bit better than the others; and I am sure she is not half so handsome as Jane, nor half so good humoured as Lydia. But you are always giving her the preference.”</p><p>“They have none of them much to recommend them,” replied he; “they are all silly and ignorant like other girls; but Lizzy has something more of quickness than her sisters.”</p><p>“Mr. Bennet, how can you abuse your own children in such way? You take delight in vexing me. You have no compassion on my poor nerves.”</p><p>“You mistake me, my dear. I have a high respect for your nerves. They are my old friends. I have heard you mention them with consideration these twenty years at least.”</p><p>“Ah! you do not know what I suffer.”</p><p>“But I hope you will get over it, and live to see many young men of four thousand a year come into the neighbourhood.”</p><p>“It will be no use to us if twenty such should come, since you will not visit them.”</p><p>“Depend upon it, my dear, that when there are twenty I will visit them all.”</p><p>Mr. Bennet was so odd a mixture of quick parts, sarcastic humour, reserve, and caprice, that the experience of three and twenty years had been insufficient to make his wife understand his character. Her mind was less difficult to develope. She was a woman of mean understanding, little information, and uncertain temper. When she was discontented, she fancied herself nervous. The business of her life was to get her daughters married; its solace was visiting and news.</p><h1 id="Chapter-2（班纳特家的舞会与宾利先生的期待）"><a href="#Chapter-2（班纳特家的舞会与宾利先生的期待）" class="headerlink" title="Chapter 2（班纳特家的舞会与宾利先生的期待）"></a>Chapter 2（班纳特家的舞会与宾利先生的期待）</h1><p>MR. Bennet was among the earliest of those who waited on Mr. Bingley. He had always intended to visit him, though to the last always assuring his wife that he should not go; and till the evening after the visit was paid, she had no knowledge of it. It was then disclosed in the following manner. Observing his second daughter employed in trimming a hat, he suddenly addressed her with,</p><p>“I hope Mr. Bingley will like it, Lizzy.”</p><p>“We are not in a way to know what Mr. Bingley likes,” said her mother resentfully, “since we are not to visit.”</p><p>“But you forget, mama,” said Elizabeth, “that we shall meet him at the assemblies, and that Mrs. Long has promised to introduce him.”</p><p>“I do not believe Mrs. Long will do any such thing. She has two nieces of her own. She is a selfish, hypocritical woman, and I have no opinion of her.”</p><p>“No more have I,” said Mr. Bennet; “and I am glad to find that you do not depend on her serving you.”</p><p>Mrs. Bennet deigned not to make any reply; but unable to contain herself, began scolding one of her daughters.</p><p>“Don’t keep coughing so, Kitty, for heaven’s sake! Have a little compassion on my nerves. You tear them to pieces.”</p><p>“Kitty has no discretion in her coughs,” said her father; “she times them ill.”</p><p>“I do not cough for my own amusement,” replied Kitty fretfully.</p><p>“When is your next ball to be, Lizzy?”</p><p>“To-morrow fortnight.”</p><p>“Aye, so it is,” cried her mother, “and Mrs. Long does not come back till the day before; so it will be impossible for her to introduce him, for she will not know him herself.”</p><p>“Then, my dear, you may have the advantage of your friend, and introduce Mr. Bingley to her.”</p><p>“Impossible, Mr. Bennet, impossible, when I am not acquainted with him myself; how can you be so teazing?”</p><p>“I honour your circumspection. A fortnight’s acquaintance is certainly very little. One cannot know what a man really is by the end of a fortnight. But if we do not venture, somebody else will; and after all, Mrs. Long and her nieces must stand their chance; and therefore, as she will think it an act of kindness, if you decline the office, I will take it on myself.”</p><p>The girls stared at their father. Mrs. Bennet said only, “Nonsense, nonsense!”</p><p>“What can be the meaning of that emphatic exclamation?” cried he. “Do you consider the forms of introduction, and the stress that is laid on them, as nonsense? I cannot quite agree with you there. What say you, Mary? for you are a young lady of deep reflection I know, and read great books, and make extracts.”</p><p>Mary wished to say something very sensible, but knew not how.</p><p>“While Mary is adjusting her ideas,” he continued, “let us return to Mr. Bingley.”</p><p>“I am sick of Mr. Bingley,” cried his wife.</p><p>“I am sorry to hear that; but why did not you tell me so before? If I had known as much this morning, I certainly would not have called on him. It is very unlucky; but as I have actually paid the visit, we cannot escape the acquaintance now.”</p><p>The astonishment of the ladies was just what he wished; that of Mrs. Bennet perhaps surpassing the rest; though when the first tumult of joy was over, she began to declare that it was what she had expected all the while.</p><p>“How good it was in you, my dear Mr. Bennet! But I knew I should persuade you at last. I was sure you loved our girls too well to neglect such an acquaintance. Well, how pleased I am! and it is such a good joke, too, that you should have gone this morning, and never said a word about it till now.”</p><p>“Now, Kitty, you may cough as much as you chuse,” said Mr. Bennet; and, as he spoke, he left the room, fatigued with the raptures of his wife.</p><p>“What an excellent father you have, girls,” said she, when the door was shut. “I do not know how you will ever make him amends for his kindness; or me either, for that matter. At our time of life, it is not so pleasant I can tell you, to be making new acquaintance every day; but for your sakes, we would do any thing. Lydia, my love, though you are the youngest, I dare say Mr. Bingley will dance with you at the next ball.”</p><p>“Oh!” said Lydia stoutly, “I am not afraid; for though I am the youngest, I’m the tallest.”</p><p>The rest of the evening was spent in conjecturing how soon he would return Mr. Bennet’s visit, and determining when they should ask him to dinner.</p><h1 id="Chapter-3（班纳特家与彬格莱先生的舞会之夜）"><a href="#Chapter-3（班纳特家与彬格莱先生的舞会之夜）" class="headerlink" title="Chapter 3（班纳特家与彬格莱先生的舞会之夜）"></a>Chapter 3（班纳特家与彬格莱先生的舞会之夜）</h1><p>NOT all that Mrs. Bennet, however, with the assistance of her five daughters, could ask on the subject was sufficient to draw from her husband any satisfactory description of Mr. Bingley. They attacked him in various ways; with barefaced questions, ingenious suppositions, and distant surmises; but he eluded the skill of them all; and they were at last obliged to accept the second-hand intelligence of their neighbour Lady Lucas. Her report was highly favourable. Sir William had been delighted with him. He was quite young, wonderfully handsome, extremely agreeable, and, to crown the whole, he meant to be at the next assembly with a large party. Nothing could be more delightful! To be fond of dancing was a certain step towards falling in love; and very lively hopes of Mr. Bingley’s heart were entertained.</p><p>“If I can but see one of my daughters happily settled at Netherfield,” said Mrs. Bennet to her husband, “and all the others equally well married, I shall have nothing to wish for.”</p><p>In a few days Mr. Bingley returned Mr. Bennet’s visit, and sat about ten minutes with him in his library. He had entertained hopes of being admitted to a sight of the young ladies, of whose beauty he had heard much; but he saw only the father. The ladies were somewhat more fortunate, for they had the advantage of ascertaining, from an upper window, that he wore a blue coat and rode a black horse.</p><p>An invitation to dinner was soon afterwards dispatched; and already had Mrs. Bennet planned the courses that were to do credit to her housekeeping, when an answer arrived which deferred it all. Mr. Bingley was obliged to be in town the following day, and consequently unable to accept the honour of their invitation, . Mrs. Bennet was quite disconcerted. She could not imagine what business he could have in town so soon after his arrival in Hertfordshire; and she began to fear that he might be always flying about from one place to another, and never settled at Netherfield as he ought to be. Lady Lucas quieted her fears a little by starting the idea of his being gone to London only to get a large party for the ball; and a report soon followed that Mr. Bingley was to bring twelve ladies and seven gentlemen with him to the assembly. The girls grieved over such a large number of ladies; but were comforted the day before the ball by hearing that, instead of twelve, he had brought only six with him from London, his five sisters and a cousin. And when the party entered the assembly room, it consisted of only five altogether; Mr. Bingley, his two sisters, the husband of the oldest, and another young man.</p><p>Mr. Bingley was good looking and gentlemanlike; he had a pleasant countenance, and easy, unaffected manners. His brother-in-law, Mr. Hurst, merely looked the gentleman; but his friend Mr. Darcy soon drew the attention of the room by his fine, tall person, handsome features, noble mien; and the report which was in general circulation within five minutes after his entrance, of his having ten thousand a year. The gentlemen pronounced him to be a fine figure of a man, the ladies declared he was much handsomer than Mr. Bingley, and he was looked at with great admiration for about half the evening, till his manners gave a disgust which turned the tide of his popularity; for he was discovered to be proud, to be above his company, and above being pleased; and not all his large estate in Derbyshire could then save him from having a most forbidding, disagreeable countenance, and being unworthy to be compared with his friend.</p><p>Mr. Bingley had soon made himself acquainted with all the principal people in the room; he was lively and unreserved, danced every dance, was angry that the ball closed so early, and talked of giving one himself at Netherfield. Such amiable qualities must speak for themselves. What a contrast between him and his friend! Mr. Darcy danced only once with Mrs. Hurst and once with Miss Bingley, declined being introduced to any other lady, and spent the rest of the evening in walking about the room, speaking occasionally to one of his own party. His character was decided. He was the proudest, most disagreeable man in the world, and every body hoped that he would never come there again. Amongst the most violent against him was Mrs. Bennet, whose dislike of his general behaviour was sharpened into particular resentment by his having slighted one of her daughters.</p><p>Elizabeth Bennet had been obliged, by the scarcity of gentlemen, to sit down for two dances; and during part of that time, Mr. Darcy had been standing near enough for her to overhear a conversation between him and Mr. Bingley, who came from the dance for a few minutes to press his friend to join it.</p><p>“Come, Darcy,” said he, “I must have you dance. I hate to see you standing about by yourself in this stupid manner. You had much better dance.”</p><p>“I certainly shall not. You know how I detest it, unless I am particularly acquainted with my partner. At such an assembly as this, it would be insupportable. Your sisters are engaged, and there is not another woman in the room whom it would not be a punishment to me to stand up with.”</p><p>“I would not be so fastidious as you are,” cried Bingley, “for a kingdom! Upon my honour I never met with so many pleasant girls in my life, as I have this evening; and there are several of them, you see, uncommonly pretty.”</p><p>“You are dancing with the only handsome girl in the room,” said Mr. Darcy, looking at the eldest Miss Bennet.</p><p>“Oh! she is the most beautiful creature I ever beheld! But there is one of her sisters sitting down just behind you, who is very pretty, and I dare say very agreeable. Do let me ask my partner to introduce you.”</p><p>“Which do you mean?” and turning round, he looked for a moment at Elizabeth, till catching her eye, he withdrew his own and coldly said, “She is tolerable; but not handsome enough to tempt me; and I am in no humour at present to give consequence to young ladies who are slighted by other men. You had better return to your partner and enjoy her smiles, for you are wasting your time with me.”</p><p>Mr. Bingley followed his advice. Mr. Darcy walked off; and Elizabeth remained with no very cordial feelings towards him. She told the story however with great spirit among her friends; for she had a lively, playful disposition, which delighted in any thing ridiculous.</p><p>The evening altogether passed off pleasantly to the whole family. Mrs. Bennet had seen her eldest daughter much admired by the Netherfield party. Mr. Bingley had danced with her twice, and she had been distinguished by his sisters. Jane was as much gratified by this as her mother could be, though in a quieter way. Elizabeth felt Jane’s pleasure. Mary had heard herself mentioned to Miss Bingley as the most accomplished girl in the neighbourhood; and Catherine and Lydia had been fortunate enough to be never without partners, which was all that they had yet learnt to care for at a ball. They returned therefore, in good spirits to Longbourn, the village where they lived, and of which they were the principal inhabitants. They found Mr. Bennet still up. With a book, he was regardless of time; and on the present occasion he had a good deal of curiosity as to the event of an evening which had raised such splendid expectations. He had rather hoped that all his wife’s views on the stranger would be disappointed; but he soon found that he had a very different story to hear.</p><p>“Oh! my dear Mr. Bennet,” as she entered the room, “we have had a most delightful evening, a most excellent ball. I wish you had been there. Jane was so admired, nothing could be like it. Every body said how well she looked; and Mr. Bingley thought her quite beautiful, and danced with her twice. Only think of that my dear; he actually danced with her twice; and she was the only creature in the room that he asked a second time. First of all, he asked Miss Lucas. I was so vexed to see him stand up with her; but, however, he did not admire her at all: indeed, nobody can, you know; and he seemed quite struck with Jane as she was going down the dance. So, he enquired who she was, and got introduced, and asked her for the two next. Then, the two third he danced with Miss King, and the two fourth with Maria Lucas, and the two fifth with Jane again, and the two sixth with Lizzy, and the Boulanger –”</p><p>“If he had had any compassion for me,” cried her husband impatiently, “he would not have danced half so much! For God’s sake, say no more of his partners. Oh! that he had sprained his ancle in the first dance!”</p><p>“Oh! my dear,” continued Mrs. Bennet, “I am quite delighted with him. He is so excessively handsome! and his sisters are charming women. I never in my life saw any thing more elegant than their dresses. I dare say the lace upon Mrs. Hurst’s gown –”</p><p>Here she was interrupted again. Mr. Bennet protested against any description of finery. She was therefore obliged to seek another branch of the subject, and related, with much bitterness of spirit and some exaggeration, the shocking rudeness of Mr. Darcy.</p><p>“But I can assure you,” she added, “that Lizzy does not lose much by not suiting his fancy; for he is a most disagreeable, horrid man, not at all worth pleasing. So high and so conceited that there was no enduring him! He walked here, and he walked there, fancying himself so very great! Not handsome enough to dance with! I wish you had been there, my dear, to have given him one of your set downs. I quite detest the man.”</p><h1 id="Chapter-4（班纳特家的舞会与宾利先生的赞赏）"><a href="#Chapter-4（班纳特家的舞会与宾利先生的赞赏）" class="headerlink" title="Chapter 4（班纳特家的舞会与宾利先生的赞赏）"></a>Chapter 4（班纳特家的舞会与宾利先生的赞赏）</h1><p>WHEN Jane and Elizabeth were alone, the former, who had been cautious in her praise of Mr. Bingley before, expressed to her sister how very much she admired him.</p><p>“He is just what a young man ought to be,” said she, “sensible, good humoured, lively; and I never saw such happy manners! – so much ease, with such perfect good breeding!”</p><p>“He is also handsome,” replied Elizabeth, “which a young man ought likewise to be, if he possibly can. His character is thereby complete.”</p><p>“I was very much flattered by his asking me to dance a second time. I did not expect such a compliment.”</p><p>“Did not you? I did for you. But that is one great difference between us. Compliments always take you by surprise, and me never. What could be more natural than his asking you again? He could not help seeing that you were about five times as pretty as every other women in the room. No thanks to his gallantry for that. Well, he certainly is very agreeable, and I give you leave to like him. You have liked many a stupider person.”</p><p>“Dear Lizzy!”</p><p>“Oh! you are a great deal too apt, you know, to like people in general. You never see a fault in any body. All the world are good and agreeable in your eyes. I never heard you speak ill of a human being in my life.”</p><p>“I would wish not to be hasty in censuring any one; but I always speak what I think.”</p><p>“I know you do; and it is that which makes the wonder. With your good sense, to be honestly blind to the follies and nonsense of others! Affectation of candour is common enough; – one meets it every where. But to be candid without ostentation or design – to take the good of every body’s character and make it still better, and say nothing of the bad – belongs to you alone. And so, you like this man’s sisters too, do you? Their manners are not equal to his.”</p><p>“Certainly not; at first. But they are very pleasing women when you converse with them. Miss Bingley is to live with her brother and keep his house; and I am much mistaken if we shall not find a very charming neighbour in her.”</p><p>Elizabeth listened in silence, but was not convinced. Their behaviour at the assembly had not been calculated to please in general; and with more quickness of observation and less pliancy of temper than her sister, and with a judgment, too, unassailed by any attention to herself, she was very little disposed to approve them. They were in fact very fine ladies, not deficient in good humour when they were pleased, nor in the power of being agreeable where they chose it; but proud and conceited. They were rather handsome, had been educated in one of the first private seminaries in town, had a fortune of twenty thousand pounds, were in the habit of spending more than they ought, and of associating with people of rank; and were therefore in every respect entitled to think well of themselves, and meanly of others. They were of a respectable family in the north of England; a circumstance more deeply impressed on their memories than that their brother’s fortune and their own had been acquired by trade.</p><p>Mr. Bingley inherited property to the amount of nearly an hundred thousand pounds from his father, who had intended to purchase an estate, but did not live to do it. – Mr. Bingley intended it likewise, and sometimes made choice of his county; but as he was now provided with a good house and the liberty of a manor, it was doubtful to many of those who best knew the easiness of his temper, whether he might not spend the remainder of his days at Netherfield, and leave the next generation to purchase.</p><p>His sisters were very anxious for his having an estate of his own; but though he was now established only as a tenant, Miss Bingley was by no means unwilling to preside at his table, nor was Mrs. Hurst, who had married a man of more fashion than fortune, less disposed to consider his house as her home when it suited her. Mr. Bingley had not been of age two years, when he was tempted by an accidental recommendation to look at Netherfield House. He did look at it and into it for half an hour, was pleased with the situation and the principal rooms, satisfied with what the owner said in its praise, and took it immediately.</p><p>Between him and Darcy there was a very steady friendship, in spite of a great opposition of character. – Bingley was endeared to Darcy by the easiness, openness, ductility of his temper, though no disposition could offer a greater contrast to his own, and though with his own he never appeared dissatisfied. On the strength of Darcy’s regard Bingley had the firmest reliance, and of his judgment the highest opinion. In understanding, Darcy was the superior. Bingley was by no means deficient, but Darcy was clever. He was at the same time haughty, reserved, and fastidious, and his manners, though well bred, were not inviting. In that respect his friend had greatly the advantage. Bingley was sure of being liked wherever he appeared; Darcy was continually giving offence.</p><p>The manner in which they spoke of the Meryton assembly was sufficiently characteristic. Bingley had never met with pleasanter people or prettier girls in his life; every body had been most kind and attentive to him, there had been no formality, no stiffness; he had soon felt acquainted with all the room; and as to Miss Bennet, he could not conceive an angel more beautiful. Darcy, on the contrary, had seen a collection of people in whom there was little beauty and no fashion, for none of whom he had felt the smallest interest, and from none received either attention or pleasure. Miss Bennet he acknowledged to be pretty, but she smiled too much.</p><p>Mrs. Hurst and her sister allowed it to be so – but still they admired her and liked her, and pronounced her to be a sweet girl, and one whom they should not object to know more of. Miss Bennet was therefore established as a sweet girl, and their brother felt authorised by such commendation to think of her as he chose.</p><h1 id="Chapter-5（班纳特家与卢卡斯家的亲密关系）"><a href="#Chapter-5（班纳特家与卢卡斯家的亲密关系）" class="headerlink" title="Chapter 5（班纳特家与卢卡斯家的亲密关系）"></a>Chapter 5（班纳特家与卢卡斯家的亲密关系）</h1><p>WITHIN a short walk of Longbourn lived a family with whom the Bennets were particularly intimate. Sir William Lucas had been formerly in trade in Meryton, where he had made a tolerable fortune and risen to the honour of knighthood by an address to the King during his mayoralty. The distinction had perhaps been felt too strongly. It had given him a disgust to his business and to his residence in a small market town; and quitting them both, he had removed with his family to a house about a mile from Meryton, denominated from that period Lucas Lodge, where he could think with pleasure of his own importance, and, unshackled by business, occupy himself solely in being civil to all the world. For though elated by his rank, it did not render him supercilious; on the contrary, he was all attention to every body. By nature inoffensive, friendly and obliging, his presentation at St. James’s had made him courteous.</p><p>Lady Lucas was a very good kind of woman, not too clever to be a valuable neighbour to Mrs. Bennet. – They had several children. The eldest of them, a sensible, intelligent young woman, about twenty-seven, was Elizabeth’s intimate friend.</p><p>That the Miss Lucases and the Miss Bennets should meet to talk over a ball was absolutely necessary; and the morning after the assembly brought the former to Longbourn to hear and to communicate.</p><p>“You began the evening well, Charlotte,” said Mrs. Bennet with civil self-command to Miss Lucas. “You were Mr. Bingley’s first choice.”</p><p>“Yes; – but he seemed to like his second better.”</p><p>“Oh! – you mean Jane, I suppose – because he danced with her twice. To be sure that did seem as if he admired her – indeed I rather believe he did – I heard something about it – but I hardly know what – something about Mr. Robinson.”</p><p>“perhaps you mean what I overheard between him and Mr. Robinson; did not I mention it to you? Mr. Robinson’s asking him how he liked our Meryton assemblies, and whether he did not think there were a great many pretty women in the room, and which he thought the prettiest? and his answering immediately to the last question – “Oh! the eldest Miss Bennet beyond a doubt, there cannot be two opinions on that point.””</p><p>“Upon my word! – Well, that was very decided indeed – that does seem as if – but, however, it may all come to nothing, you know.”</p><p>“My overhearings were more to the purpose than yours, Eliza,” said Charlotte. “Mr. Darcy is not so well worth listening to as his friend, is he? – poor Eliza! – to be only just tolerable.”</p><p>“I beg you would not put it into Lizzy’s head to be vexed by his ill-treatment; for he is such a disagreeable man that it would be quite a misfortune to be liked by him. Mrs. Long told me last night that he sat close to her for half an hour without once opening his lips.”</p><p>“Are you quite sure, Ma’am? – is not there a little mistake?” said Jane. – “I certainly saw Mr. Darcy speaking to her.”</p><p>“Aye – because she asked him at last how he liked Netherfield, and he could not help answering her; – but she said he seemed very angry at being spoke to.”</p><p>“Miss Bingley told me,” said Jane, “that he never speaks much unless among his intimate acquaintance. With them he is remarkably agreeable.”</p><p>“I do not believe a word of it, my dear. If he had been so very agreeable, he would have talked to Mrs. Long. But I can guess how it was; every body says that he is ate up with pride, and I dare say he had heard somehow that Mrs. Long does not keep a carriage, and had come to the ball in a hack chaise.”</p><p>“I do not mind his not talking to Mrs. Long,” said Miss Lucas, “but I wish he had danced with Eliza.”</p><p>“Another time, Lizzy,” said her mother, “I would not dance with him, if I were you.”</p><p>“I believe, Ma’am, I may safely promise you never to dance with him.”</p><p>“His pride,” said Miss Lucas, “does not offend me so much as pride often does, because there is an excuse for it. One cannot wonder that so very fine a young man, with family, fortune, every thing in his favour, should think highly of himself. If I may so express it, he has a right to be proud.”</p><p>“That is very true,” replied Elizabeth, “and I could easily forgive his pride, if he had not mortified mine.”</p><p>“pride,” observed Mary, who piqued herself upon the solidity of her reflections, “is a very common failing I believe. By all that I have ever read, I am convinced that it is very common indeed, that human nature is particularly prone to it, and that there are very few of us who do not cherish a feeling of self-complacency on the score of some quality or other, real or imaginary. Vanity and pride are different things, though the words are often used synonimously. A person may be proud without being vain. pride relates more to our opinion of ourselves, vanity to what we would have others think of us.”</p><p>“If I were as rich as Mr. Darcy,” cried a young Lucas who came with his sisters, “I should not care how proud I was. I would keep a pack of foxhounds, and drink a bottle of wine every day.”</p><p>“Then you would drink a great deal more than you ought,” said Mrs. Bennet; “and if I were to see you at it, I should take away your bottle directly.”</p><p>The boy protested that she should not; she continued to declare that she would, and the argument ended only with the visit.</p>]]></content>
      
      
      <categories>
          
          <category> 文章 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 文档 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTML笔记</title>
      <link href="/79333/2021/11/21/HTML%E7%AC%94%E8%AE%B0/"/>
      <url>/79333/2021/11/21/HTML%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="0-概述"><a href="#0-概述" class="headerlink" title="0. 概述"></a>0. 概述</h1><h2 id="1-网页"><a href="#1-网页" class="headerlink" title="1. 网页"></a>1. 网页</h2><p>1.1 网页：网站中的一“页”，通常是<code>HTML</code>格式的文件，组成网站的基本元素。由图片，链接，文字，声音，视频等元素组成。（修改后缀名为<code>.html</code>）</p><p>1.2 HTML：超文本标记语言。他不是编程语言，而是一种标记语言。由各种标签组成。</p><p>​  超文本：不仅可以放入文字，还可以加入图片，声音，动画，多媒体等；还可以从一个文件跳转到另一个文件。</p><h2 id="2-常用浏览器"><a href="#2-常用浏览器" class="headerlink" title="2. 常用浏览器"></a>2. 常用浏览器</h2><p>2.1 五大浏览器：IE浏览器，火狐浏览器，谷歌浏览器，Safari和Opera等。</p><p>2.2 浏览器内核</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211121220235179.png" alt="image-20211121220235179"></p><h2 id="3-Web标准"><a href="#3-Web标准" class="headerlink" title="3. Web标准"></a>3. Web标准</h2><p>3.1 由W3C组织和其他组织制定的一系列标准的集合。W3C（万维网联盟）是国际最著名的标准化组织。</p><p>3.2 构成：结构（Structure），表现（Presentation），行为（Behavior）。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211121220711484.png" alt="image-20211121220711484"></p><p>最佳体验方案：结构，行为，表现相互分离。</p><p>如：身体（HTML），外观(CSS)，动作(JS)。</p><h1 id="一-HTML标签（上）"><a href="#一-HTML标签（上）" class="headerlink" title="一. HTML标签（上）"></a>一. HTML标签（上）</h1><h2 id="1-HTML基本结构标签"><a href="#1-HTML基本结构标签" class="headerlink" title="1. HTML基本结构标签"></a>1. HTML基本结构标签</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211121222239225.png" alt="image-20211121222239225"></p><p>双标签：成对的标签如<code>&lt;html&gt;</code> <code>&lt;/html&gt;</code>。关系：包含关系和并列关系。</p><p>单标签：特殊标签，如<code>&lt;br&gt;</code>。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211121222849762.png" alt="image-20211121222849762"></p><h2 id="2-网页开发工具"><a href="#2-网页开发工具" class="headerlink" title="2. 网页开发工具"></a>2. 网页开发工具</h2><h3 id="1-1-vscode的使用"><a href="#1-1-vscode的使用" class="headerlink" title="1.1 vscode的使用"></a>1.1 vscode的使用</h3><ol><li><p>双击打开软件</p></li><li><p>新建文件（Ctrl+N）。</p></li><li><p>保存（Ctrl+S）,注意保存为.html文件</p></li><li><p>Ctrl + 加号键，Ctrl + 减号键 可以放大缩小视图</p></li><li><p>生成页面骨架结构</p><p>输入！按下Tab键。</p></li><li><p>利用插件在浏览器中预览页面：单击鼠标右键，在弹出窗口电机“Open In Default Browser”。</p></li></ol><h3 id="1-2-文档类型声明标签"><a href="#1-2-文档类型声明标签" class="headerlink" title="1.2  文档类型声明标签"></a>1.2  文档类型声明标签</h3><h4 id="1-2-1-DOCTYPE"><a href="#1-2-1-DOCTYPE" class="headerlink" title="1.2.1 &lt; !DOCTYPE&gt;"></a>1.2.1 &lt; !DOCTYPE&gt;</h4><p>文档类型声明，作用就是高速浏览器使用哪种HTML版本显示网页</p><p><code>&lt;!DOCTYPE html&gt;</code>:当前页面采取的是HTML5版本来显示网页。</p><p>​1.声明位于文档中最前面的位置，处于标签之前。</p><p>​2.不是一个HTML标签，他就是文档类型声明标签。</p><h4 id="1-2-2-lang-语言种类"><a href="#1-2-2-lang-语言种类" class="headerlink" title="1.2.2 lang 语言种类"></a>1.2.2 lang 语言种类</h4><p><code>&lt;html lang=&quot;en&quot;&gt;</code></p><pre><code>           1. en定义为英语                    2. zh-CN定义为中文</code></pre><h4 id="1-2-3-字符集"><a href="#1-2-3-字符集" class="headerlink" title="1.2.3 字符集"></a>1.2.3 字符集</h4><p> <code>&lt;meta charset=&quot;UTF-8&quot; /&gt;</code></p><p>通过charset属性来规定HTML文档使用哪种字符编码。</p><p>常用的值：GB2312,BIG5,GBK和UTF-8，UTF-8也被称为万国码，包含全世界所有国家需要用到的字符。</p><p>注意：上面语法是必须写的代码，豆则可能造成乱码。统一标准”UTF-8”。</p><h2 id="3-HTML-常用标签"><a href="#3-HTML-常用标签" class="headerlink" title="3. HTML 常用标签"></a>3. HTML 常用标签</h2><h3 id="3-1-标题标签"><a href="#3-1-标题标签" class="headerlink" title="3.1 标题标签"></a>3.1 标题标签</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211121231016703.png" alt="image-20211121231016703"></p><p>6个等级的网页标题标签：<code>&lt;h1&gt;-&lt;h6&gt;</code></p><p>特点：1. 加了标题的文字会加粗，字号也会依次变大。</p><p>​2.一个标题独占一行。</p><h3 id="3-2-段落标签"><a href="#3-2-段落标签" class="headerlink" title="3.2  段落标签"></a>3.2  段落标签</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211121231227109.png" alt="image-20211121231227109"></p><p><code>&lt;p&gt;</code> 定义段落，他可以将占整个网页分为若干个段落。</p><p>特点：1. 文本在一个段落中会根据浏览器的大小自动换行</p><p>​2.段落和段落之间保有空隙</p><h3 id="3-3-换行标签"><a href="#3-3-换行标签" class="headerlink" title="3.3 换行标签"></a>3.3 换行标签</h3><p> <code>&lt;br /&gt;</code>用于强制换行。</p><p>特点：1. <code>&lt;br /&gt;</code>是一个单标签</p><p>​2.<code>&lt;br&gt;</code>标签只是简单的开始新的一行，而段落之间会插入一些垂直的间距</p><h3 id="3-4-文本格式化标签"><a href="#3-4-文本格式化标签" class="headerlink" title="3.4 文本格式化标签"></a>3.4 文本格式化标签</h3><p>在网页中，为文字设置粗体，斜体和下划线效果。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122185015970.png" alt="image-20211122185015970"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122185110676.png" alt="image-20211122185110676"></p><h3 id="3-5-div-和-span-标签"><a href="#3-5-div-和-span-标签" class="headerlink" title="3.5 &lt; div &gt;和&lt; span &gt;标签"></a>3.5 &lt; div &gt;和&lt; span &gt;标签</h3><p> <code>&lt;div&gt;</code> 和<code>&lt;span&gt;</code> 标签是没有语义的，他们就是一个盒子，用来装内容。</p><p>特点：1. <code>&lt;div&gt;</code>标签用来布局，但是一行只能放一个。（大盒子）</p><p>​2.<code>&lt;span&gt;</code>标签用来布局，一行可以放多个。（小盒子）</p><h3 id="3-6-图像标签"><a href="#3-6-图像标签" class="headerlink" title="3.6 图像标签"></a>3.6 图像标签</h3><p>在HTML标签中，<code>&lt;img&gt;</code>标签用于定义HTML页面中的图像。</p><p><code>&lt;img src=&quot;图像URL&quot;&gt;</code>（src为必须属性，必须写）</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122190208310.png" alt="image-20211122190208310"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122190257882.png" alt="image-20211122190257882"></p><h3 id="3-7-路径"><a href="#3-7-路径" class="headerlink" title="3.7 路径"></a>3.7 路径</h3><p>相对路径：以引用文件所在位置为参考，建立出的目录路径。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122190720329.png" alt="image-20211122190720329"></p><p>绝对路径：目录下的绝对位置，直接打到目标位置，通常从盘符开始的路径。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122191440894.png" alt="image-20211122191440894"></p><h3 id="3-8-超链接标签"><a href="#3-8-超链接标签" class="headerlink" title="3.8 超链接标签"></a>3.8 超链接标签</h3><p>在HTML标签中，<code>&lt;a&gt;</code> 标签用于定义超链接，作用实在从一个页面链接到另一个页面。</p><h4 id="3-8-1-语法格式"><a href="#3-8-1-语法格式" class="headerlink" title="3.8.1 语法格式"></a>3.8.1 语法格式</h4><p><code>&lt;a href=&quot;跳转目标&quot; target=&quot;目标窗口的弹出方式&quot;&gt;文本或图像 </code> <code>&lt;/a&gt;</code></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122192017257.png" alt="image-20211122192017257"></p><h4 id="3-8-2-分类"><a href="#3-8-2-分类" class="headerlink" title="3.8.2 分类"></a>3.8.2 分类</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122192258767.png" alt="image-20211122192258767"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122192707489.png" alt="image-20211122192707489"></p><h3 id="3-9-注释和特殊字符"><a href="#3-9-注释和特殊字符" class="headerlink" title="3.9 注释和特殊字符"></a>3.9 注释和特殊字符</h3><p>注释：<code>&lt;!-- 注释语句 --&gt;</code> </p><p>快捷键：Ctrl+&#x2F;</p><table><thead><tr><th>特殊字符</th><th>描述</th><th>字符代码</th></tr></thead><tbody><tr><td></td><td>空格符</td><td>&amp; nbsp;</td></tr><tr><td>&gt;</td><td>大于号</td><td>&amp; gt;</td></tr><tr><td>&lt;</td><td>小于号</td><td>&amp; lt;</td></tr><tr><td>&gt;&#x3D;</td><td>大于等于</td><td>&amp; ge;</td></tr><tr><td>&lt;&#x3D;</td><td>小于等于</td><td>&amp; le;</td></tr></tbody></table><h1 id="二-HTML标签（下）"><a href="#二-HTML标签（下）" class="headerlink" title="二. HTML标签（下）"></a>二. HTML标签（下）</h1><h2 id="1-表格标签"><a href="#1-表格标签" class="headerlink" title="1. 表格标签"></a>1. 表格标签</h2><p>表格不是用来布局页面的，而是用来展示数据的。  </p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>单元格内的内容<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>&lt;th&gt;</code> 表头单元格（加粗居中）</p><h3 id="1-1-表格属性"><a href="#1-1-表格属性" class="headerlink" title="1.1 表格属性"></a>1.1 表格属性</h3><p>表格标签这部分属性通常用不到，后面通过CSS来设置。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122220004045.png" alt="image-20211122220004045"></p><p>扩展：table&gt; * m&gt;td * n</p><p>创建一个m行n列的表格</p><h3 id="1-2-表格结构标签"><a href="#1-2-表格结构标签" class="headerlink" title="1.2 表格结构标签"></a>1.2 表格结构标签</h3><p>使用场景：更好的表示表格的语义，可以将表格分割成表格头部和表格主题两大部分。  </p><p>在表格标签中，分别用：<code>&lt;thead&gt;</code> 标签表格的头部区域，<code>&lt;tbody&gt;</code> 标签表格的主体区域。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122221640584.png" alt="image-20211122221640584"></p><h3 id="1-3-合并单元格"><a href="#1-3-合并单元格" class="headerlink" title="1.3 合并单元格"></a>1.3 合并单元格</h3><p>跨行合并：rowspan&#x3D;”合并单元格的个数”</p><p>跨列合并：colspan&#x3D;”合并单元格的个数”</p><p>写合并代码：左上原则</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122222539641.png" alt="image-20211122222539641"></p><h2 id="2-列表标签"><a href="#2-列表标签" class="headerlink" title="2. 列表标签"></a>2. 列表标签</h2><h3 id="2-1-无序列表"><a href="#2-1-无序列表" class="headerlink" title="2.1 无序列表"></a>2.1 无序列表</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><p> <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122224736621.png" alt="image-20211122224736621"></p><p>特点：1. <code>&lt;ul&gt;</code> 中只能嵌套<code>&lt;li&gt;</code> ,直接在<code>&lt;ul&gt;</code> 标签中输入其他标签或者文字的做法是不被允许的。</p><p>​2.<code>&lt;li&gt;</code> <code>&lt;/li&gt;</code>之间相当于讴歌容器，可以容纳所有元素。</p><h3 id="2-2-有序列表"><a href="#2-2-有序列表" class="headerlink" title="2.2 有序列表"></a>2.2 有序列表</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>列表项2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122225352755.png" alt="image-20211122225352755"></p><h3 id="2-3-自定义列表"><a href="#2-3-自定义列表" class="headerlink" title="2.3 自定义列表"></a>2.3 自定义列表</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>名词1<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词1解释1<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>名词1解释2<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure><p>特点：1. <code>&lt;dl&gt;</code> <code>&lt;/dl&gt;</code> 里面只能包含<code>&lt;dt&gt;</code> 和<code> &lt;/dt&gt;</code></p><p>​2.<code>&lt;dt&gt;</code> 和<code> &lt;dd&gt;</code> 没有个数限制，经常是一个<code>&lt;dt&gt;</code>对应多个<dd>.</p><h3 id="2-4-表单标签"><a href="#2-4-表单标签" class="headerlink" title="2.4 表单标签"></a>2.4 表单标签</h3><p>作用：收集用户信息</p><p>在HTML中，一个完整的表单通常有表单域，表单控件（表单元素）和提示信息3个部分组成。</p><h4 id="2-4-1-表单域"><a href="#2-4-1-表单域" class="headerlink" title="2.4.1 表单域"></a>2.4.1 表单域</h4><p>作用：<form> 会把他范围内的表单元素提交给服务器。</p><p>属性：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122231302682.png" alt="image-20211122231302682"></p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122231205875.png" alt="image-20211122231205875"></p><h4 id="2-4-2-表单控件"><a href="#2-4-2-表单控件" class="headerlink" title="2.4.2 表单控件"></a>2.4.2 表单控件</h4><ol><li><h6 id="input-表单元素"><a href="#input-表单元素" class="headerlink" title="&lt; input &gt; 表单元素"></a>&lt; input &gt; 表单元素</h6></li></ol><p>​<code>&lt;input type=&quot;属性值&quot; /&gt;</code></p><p>type属性值：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122231808877.png" alt="image-20211122231808877"></p><p>type其他属性：<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122232115374.png" alt="image-20211122232115374"></p><p>特点：1. name 和 value 是每个表单元素都有的属性值，主要给后台人员使用。</p><p>​2.name 表单元素的名字，主要作用就是区别不同的表单元素，要求单选按钮和复选框要有相同的name值。</p><p>​3.checked 属性主要针对于单选按钮和复选框，主要作用为默认选中某个表单元素。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122232425400.png" alt="image-20211122232425400"></p><p><code>&lt;label&gt;</code> 标签：用于绑定一个表单元素，当点击<code>&lt;label&gt;</code> 标签内的文字时，浏览器就会自动将焦点转到对应的表单元素上，用来增加用户体验。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122235022635.png" alt="image-20211122235022635"></p><ol start="2"><li><h6 id="select-下拉表单元素"><a href="#select-下拉表单元素" class="headerlink" title="&lt; select &gt;下拉表单元素"></a>&lt; select &gt;下拉表单元素</h6></li></ol><p>使用场景：在页面中，如果有多个选项让用户选择，并且想要节约页面空间时，我们可以使用<code>&lt;select&gt;</code> 标签控件定义下拉列表。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211122235623847.png" alt="image-20211122235623847"></p><p>特点：1. <code>&lt;select&gt;</code> 中至少包含一对<code>&lt;option&gt;</code></p><p>​2.在<code>&lt;option&gt;</code>中定义selected&#x3D;”selected”时，当前项即为默认选项</p><ol start="3"><li><h6 id="textarea-文本域元素"><a href="#textarea-文本域元素" class="headerlink" title="&lt; textarea &gt; 文本域元素"></a>&lt; textarea &gt; 文本域元素</h6></li></ol><p>使用场景：输入内容较多时，我们就不能使用文本框表单了，此时我们可以使用<code>&lt;textarea&gt;</code>标签。</p><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/lcy_liuchengyuan/lcys-house/raw/master/image-20211123000235055.png" alt="image-20211123000235055"></p>]]></content>
      
      
      <categories>
          
          <category> HTML </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程 </tag>
            
            <tag> HTML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>项目总结</title>
      <link href="/79333/2021/08/17/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/"/>
      <url>/79333/2021/08/17/%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h2 id="项目介绍"><a href="#项目介绍" class="headerlink" title="项目介绍"></a>项目介绍</h2><h3 id="1-项目流程"><a href="#1-项目流程" class="headerlink" title="1. 项目流程"></a>1. 项目流程</h3><ul><li>需求分析（评审和分析)</li><li>等视觉与交互设计</li><li>项目开发（项目完成度基本与视觉设计和交互设计保持一致）</li><li>预留充分的自测时间（测试功能和样式）</li><li>前后端联调（调接口功能与字段限制）；经常需要改接口逻辑、甚至加接口造成前端需要修改对应的校验或功能；时间必须</li><li>视觉与交互验收</li><li>产品验收</li><li>提交测试</li><li>线上接口回归</li><li>新项目的上线前准备<ul><li>资源申请</li><li>沙盒环境部署测试</li><li>线上部署测试</li></ul></li></ul><h3 id="2-项目迭代"><a href="#2-项目迭代" class="headerlink" title="2. 项目迭代"></a>2. 项目迭代</h3><p> 需求分析、系统设计、代码实现、系统测试。 </p><h3 id="3-联调"><a href="#3-联调" class="headerlink" title="3. 联调"></a>3. 联调</h3><p>本地模拟假数据，使用mock数据 </p><h2 id="项目难点和亮点"><a href="#项目难点和亮点" class="headerlink" title="项目难点和亮点"></a>项目难点和亮点</h2><h3 id="1-权限管理"><a href="#1-权限管理" class="headerlink" title="1.  权限管理"></a>1.  权限管理</h3><h4 id="1-1-登录权限"><a href="#1-1-登录权限" class="headerlink" title="1.1 登录权限"></a>1.1 登录权限</h4><p>概述： 登录权限控制要做的事情,是实现哪些页面能被游客访问,哪些页面只有登录后才能被访问. </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 路由守卫 - 登录拦截</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> token = store.<span class="property">state</span>.<span class="property">token</span>; <span class="comment">// 表示用户登录的凭证</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (to.<span class="property">meta</span>.<span class="property">auth</span>) &#123;</span><br><span class="line">    <span class="comment">// 如果路由中的 meta 字段下的 auth 为true，表示该路由必须登录后访问</span></span><br><span class="line">    <span class="keyword">if</span> (token) &#123;</span><br><span class="line">      <span class="comment">// token 存在，表示已经登陆了，那么想干嘛干嘛去</span></span><br><span class="line">      <span class="title function_">next</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> next_page = to.<span class="property">name</span></span><br><span class="line">      <span class="comment">// 不存在，表明你没有登录，不好意思，回到登录页</span></span><br><span class="line">      <span class="title function_">next</span>(&#123;</span><br><span class="line">          <span class="attr">name</span>:<span class="string">&#x27;login&#x27;</span>,</span><br><span class="line">          <span class="attr">params</span>:&#123;</span><br><span class="line">              redirect_page : next_page ,</span><br><span class="line">              ...form.<span class="property">params</span>   <span class="comment">//如果跳转需要携带参数就把参数也传递过去</span></span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 不需要登录就可以访问</span></span><br><span class="line">    <span class="title function_">next</span>(); <span class="comment">// 直接下一步</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="1-2-页面权限"><a href="#1-2-页面权限" class="headerlink" title="1.2 页面权限"></a>1.2 页面权限</h4><h5 id="第一种：前端处理"><a href="#第一种：前端处理" class="headerlink" title="第一种：前端处理"></a>第一种：前端处理</h5><p>概述：根据不同的角色赋予其不同的页面访问权限</p><ul><li>用户登陆成功之后，后端返回用户信息，然后保存在<code>vuex</code>和<code>localStorage</code>里面</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">user_id</span>:<span class="number">1</span>,</span><br><span class="line">  <span class="attr">user_name</span>:<span class="string">&quot;张三&quot;</span>,</span><br><span class="line">  <span class="attr">permission_list</span>:[<span class="string">&quot;List&quot;</span>,<span class="string">&quot;Detail&quot;</span>,<span class="string">&quot;Manage&quot;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>从<code>vuex</code>里面拿到当前用户的权限列表,然后遍历动态路由数组<code>dynamic_routes</code>,从里面过滤出允许访问的路由,最后将这些路由动态添加到路由实例里.</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(store.<span class="property">state</span>.<span class="property">user</span> != <span class="literal">null</span>)&#123; <span class="comment">//从vuex中拿到用户信息</span></span><br><span class="line">    <span class="comment">//用户已经登录</span></span><br><span class="line">    <span class="keyword">const</span> &#123; permission_list &#125; = store.<span class="property">state</span>.<span class="property">user</span>; <span class="comment">// 从用户信息中获取权限列表</span></span><br><span class="line">    <span class="keyword">const</span> allow_routes = dynamic_routes.<span class="title function_">filter</span>(<span class="function">(<span class="params">route</span>)=&gt;</span>&#123; <span class="comment">//过滤允许访问的路由</span></span><br><span class="line">      <span class="keyword">return</span> permission_list.<span class="title function_">includes</span>(route.<span class="property">name</span>); </span><br><span class="line">    &#125;)</span><br><span class="line">    allow_routes.<span class="title function_">forEach</span>(<span class="function">(<span class="params">route</span>)=&gt;</span>&#123; <span class="comment">// 将允许访问的路由动态添加到路由栈中</span></span><br><span class="line">      router.<span class="title function_">addRoute</span>(route);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>嵌套子路由  <code>router.addRoute</code>接受两个参数,第一个参数对应父路由的<code>name</code>属性,第二个参数是要添加的子路由信息. </p></li><li><pre><code class="js">router.addRoute(&quot;Tabs&quot;, &#123;        path: &quot;/list&quot;,        name: &quot;List&quot;,        component: List, &#125;);<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">问题：当超级管理员登录后退出，路由实例任然存在，导致普通用户也能访问</span><br><span class="line"></span><br><span class="line">解决： 当用户选择登出后,清除掉路由实例里面处存放的路由栈信息 </span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">const router = useRouter(); // 获取路由实例</span><br><span class="line">const logOut = () =&gt; &#123; //登出函数</span><br><span class="line">    //将整个路由栈清空</span><br><span class="line">    const old_routes = router.getRoutes();//获取所有路由信息</span><br><span class="line">    old_routes.forEach((item) =&gt; &#123;</span><br><span class="line">        const name = item.name;//获取路由名词</span><br><span class="line">        router.removeRoute(name); //移除路由</span><br><span class="line">    &#125;);</span><br><span class="line">    //生成新的路由栈</span><br><span class="line">    routes.forEach((route) =&gt; &#123;</span><br><span class="line">        router.addRoute(route);</span><br><span class="line">    &#125;);</span><br><span class="line">    router.push(&#123; name: &quot;Login&quot; &#125;); //跳转到登录页面</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></code></pre></li></ul><h5 id="第二种：后端返回路由表"><a href="#第二种：后端返回路由表" class="headerlink" title="第二种：后端返回路由表"></a>第二种：后端返回路由表</h5><p>React：动态创建菜单</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建 ICON</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createIcon</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="title class_">Icon</span>[name])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//   动态创建菜单</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">filterMenu</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> cloneData = _.<span class="title function_">cloneDeep</span>(data)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> newData = cloneData.<span class="title function_">filter</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!item.<span class="property">hidden</span>) &#123;</span><br><span class="line">      <span class="comment">// 判断是否需要在菜单中显示当前菜单项</span></span><br><span class="line">      item.<span class="property">icon</span> = <span class="title function_">createIcon</span>(item.<span class="property">icon</span>)</span><br><span class="line">      item.<span class="property">label</span> = <span class="language-xml"><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&#123;item.path&#125;</span>&gt;</span>&#123;item.label&#125;<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (item.<span class="property">children</span> &amp;&amp; item.<span class="property">children</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        item.<span class="property">children</span> = <span class="title function_">filterMenu</span>(item.<span class="property">children</span>)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> newData</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">SideMenu</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; <span class="title class_">Sider</span> &#125; = <span class="title class_">Layout</span></span><br><span class="line">  <span class="keyword">const</span> authList = <span class="title function_">useSelector</span>(<span class="function">(<span class="params">state</span>) =&gt;</span> state.<span class="property">user</span>.<span class="property">authList</span>)</span><br><span class="line">  <span class="keyword">const</span> menuData = <span class="title function_">filterMenu</span>(authList)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Sider</span> <span class="attr">trigger</span>=<span class="string">&#123;null&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;logo&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Menu</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">theme</span>=<span class="string">&quot;dark&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">mode</span>=<span class="string">&quot;inline&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">defaultSelectedKeys</span>=<span class="string">&#123;[</span>&#x27;<span class="attr">1</span>&#x27;]&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">defaultOpenKeys</span>=<span class="string">&#123;[</span>&#x27;<span class="attr">sub1</span>&#x27;]&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">items</span>=<span class="string">&#123;menuData&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Sider</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>动态创建路由：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 树状转扁平</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">treeToLevel1</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> result = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> obj = data[i]</span><br><span class="line">        <span class="keyword">var</span> cloneObj = _.<span class="title function_">cloneDeep</span>(obj)</span><br><span class="line">        <span class="keyword">delete</span> cloneObj.<span class="property">children</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (obj.<span class="property">component</span>) &#123;</span><br><span class="line">            result.<span class="title function_">push</span>(cloneObj)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (obj.<span class="property">children</span> &amp;&amp; obj.<span class="property">children</span>.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> tem = <span class="title function_">treeToLevel1</span>(obj.<span class="property">children</span>)</span><br><span class="line">            result = result.<span class="title function_">concat</span>(tem)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义 hooks</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">useRouteToDom</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> authList = <span class="title function_">useSelector</span>(<span class="function">(<span class="params">state</span>) =&gt;</span> state.<span class="property">user</span>.<span class="property">authList</span>)</span><br><span class="line">    <span class="keyword">const</span> domData = <span class="title function_">treeToLevel1</span>(authList)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;转树状：&#x27;</span>, domData)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//  &lt;Route path=&quot;authority/employee&quot; element=&#123;&lt;Employee /&gt;&#125; /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> arr = domData.<span class="title function_">map</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> <span class="title class_">Com</span> = <span class="title class_">React</span>.<span class="title function_">lazy</span>(<span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">`../<span class="subst">$&#123;item.component&#125;</span>/index.jsx`</span>))</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;动态加载组件：&#x27;</span>, <span class="title class_">Com</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">Route</span> <span class="attr">key</span>=<span class="string">&#123;index&#125;</span> <span class="attr">path</span>=<span class="string">&#123;item.path&#125;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">Com</span> /&gt;</span>&#125; /&gt;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;处理后路由：&#x27;</span>, arr)</span><br><span class="line">        <span class="keyword">return</span> arr</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">                            <span class="keyword">const</span> <span class="title function_">AsyncRouter</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">const</span> authList = <span class="title function_">useSelector</span>(<span class="function">(<span class="params">state</span>) =&gt;</span> state.<span class="property">user</span>.<span class="property">authList</span>)</span><br><span class="line">        <span class="keyword">const</span> domData = <span class="title function_">treeToLevel1</span>(authList)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;转树状：&#x27;</span>, domData)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> arr = domData.<span class="title function_">map</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> <span class="title class_">Com</span> = <span class="title class_">React</span>.<span class="title function_">lazy</span>(<span class="function">() =&gt;</span></span><br><span class="line">                                   <span class="keyword">import</span>(<span class="string">`../../Views/<span class="subst">$&#123;item.component&#125;</span>/index.jsx`</span>)</span><br><span class="line">                                  )</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">Route</span> <span class="attr">key</span>=<span class="string">&#123;index&#125;</span> <span class="attr">path</span>=<span class="string">&#123;item.path&#125;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">Com</span> /&gt;</span>&#125; /&gt;</span></span><br><span class="line">                <span class="comment">// &lt;React.Suspense callback=&#123;&lt;div&gt;loading...&lt;/div&gt;&#125;&gt;</span></span><br><span class="line">                <span class="comment">// &lt;Com /&gt;</span></span><br><span class="line">                &#123;</span><br><span class="line">                <span class="comment">/* &lt;/React.Suspense&gt;&#125; /&gt;; */</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;处理后路由：&#x27;</span>, arr)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">React.Suspense</span> <span class="attr">callback</span>=<span class="string">&#123;</span>&lt;<span class="attr">div</span>&gt;</span>loading...<span class="tag">&lt;/<span class="name">div</span>&gt;</span>&#125;&gt;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">Routes</span>&gt;</span>&#123;arr&#125;<span class="tag">&lt;/<span class="name">Routes</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">React.Suspense</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">React</span>.<span class="title function_">memo</span>(<span class="title class_">AsyncRouter</span>)</span><br></pre></td></tr></table></figure><p>在Layout文件中</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Layout</span></span><br><span class="line">style=&#123;&#123;</span><br><span class="line">       <span class="attr">padding</span>: <span class="string">&#x27;0 24px 24px&#x27;</span>,</span><br><span class="line">      &#125;&#125;</span><br><span class="line">          &gt;</span><br><span class="line">              <span class="language-xml"><span class="tag">&lt;<span class="name">Bread</span> /&gt;</span></span></span><br><span class="line">              <span class="language-xml"><span class="tag">&lt;<span class="name">Content</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml"><span class="attr">className</span>=<span class="string">&quot;site-layout-background&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml"><span class="attr">style</span>=<span class="string">&#123;&#123;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">       <span class="attr">padding:</span> <span class="attr">24</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">       <span class="attr">margin:</span> <span class="attr">0</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">       <span class="attr">minHeight:</span> <span class="attr">280</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      &#125;&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          &gt;</span></span></span><br><span class="line"><span class="language-xml">              &#123;/* <span class="tag">&lt;<span class="name">Outlet</span> /&gt;</span> */&#125;</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">AsyncRouter</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">Content</span>&gt;</span></span></span><br><span class="line">&lt;/<span class="title class_">Layout</span>&gt;</span><br></pre></td></tr></table></figure><h4 id="1-3-内容权限，按钮权限控制"><a href="#1-3-内容权限，按钮权限控制" class="headerlink" title="1.3  内容权限，按钮权限控制"></a>1.3  内容权限，按钮权限控制</h4><p>概述： 不同的角色都能进入页面,但要求看到的页面内容不一样 </p><p> 按照<code>增删查改</code>四个维度对页面内容进行归类.使用简称<code>CURD</code>来标识(<code>CURD</code>分别代表创建（<code>Create</code>）、更新（<code>Update</code>）、读取（<code>Retrieve</code>）和删除（<code>Delete</code>）). </p><ul><li>后端返回用户列表</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">user_id</span>:<span class="number">1</span>,</span><br><span class="line">  <span class="attr">user_name</span>:<span class="string">&quot;张三&quot;</span>,</span><br><span class="line">  <span class="attr">permission_list</span>:&#123;</span><br><span class="line">    <span class="string">&quot;List&quot;</span>:<span class="string">&quot;CR&quot;</span>, <span class="comment">//权限编码</span></span><br><span class="line">    <span class="string">&quot;Detail&quot;</span>:<span class="string">&quot;CURD&quot;</span>  <span class="comment">//权限编码</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>设置全局自定义指令</li></ul><p> 当元素挂载完毕后,通过<code>binding.value</code>获取该元素要求的权限编码.然后拿到当前路由名称,通过路由名称可以在<code>vuex</code>中获取到该用户在该页面所拥有的权限编码.如果该用户不具备访问该元素的权限,就把元素<code>dom</code>移除. </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>); <span class="comment">//创建vue的根实例</span></span><br><span class="line"></span><br><span class="line">app.<span class="title function_">directive</span>(<span class="string">&#x27;permission&#x27;</span>, &#123;</span><br><span class="line">    <span class="title function_">mounted</span>(<span class="params">el, binding, vnode</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> permission = binding.<span class="property">value</span>; <span class="comment">// 获取权限值</span></span><br><span class="line">        <span class="keyword">const</span> page_name = router.<span class="property">currentRoute</span>.<span class="property">value</span>.<span class="property">name</span>; <span class="comment">// 获取当前路由名称</span></span><br><span class="line">        <span class="keyword">const</span> have_permissions = store.<span class="property">state</span>.<span class="property">permission_list</span>[page_name] || <span class="string">&#x27;&#x27;</span>; <span class="comment">// 当前用户拥有的权限</span></span><br><span class="line">        <span class="keyword">if</span> (!have_permissions.<span class="title function_">includes</span>(permission)) &#123;</span><br><span class="line">            el.<span class="property">parentElement</span>.<span class="title function_">removeChild</span>(el); <span class="comment">//不拥有该权限移除dom元素</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li>页面中使用</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-permission</span>=<span class="string">&quot;&#x27;U&#x27;&quot;</span>&gt;</span>修改<span class="tag">&lt;/<span class="name">button</span>&gt;</span>  <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-permission</span>=<span class="string">&quot;&#x27;D&#x27;&quot;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-permission</span>=<span class="string">&quot;&#x27;C&#x27;&quot;</span>&gt;</span>发布需求<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    &lt;!--列表页--&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-permission</span>=<span class="string">&quot;&#x27;R&#x27;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     ...</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><h3 id="2-上传图片"><a href="#2-上传图片" class="headerlink" title="2. 上传图片"></a>2. 上传图片</h3><h4 id="1-前端"><a href="#1-前端" class="headerlink" title="1. 前端"></a>1. 前端</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">InboxOutlined</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@ant-design/icons&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; message, <span class="title class_">Upload</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;antd&#x27;</span></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">Dragger</span> &#125; = <span class="title class_">Upload</span></span><br><span class="line"><span class="keyword">const</span> props = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;file&#x27;</span>, <span class="comment">// 必须与后端一致</span></span><br><span class="line">  <span class="attr">multiple</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">  <span class="attr">listType</span>: <span class="string">&#x27;picture-card&#x27;</span>,</span><br><span class="line">  <span class="attr">action</span>: <span class="string">&#x27;http://localhost:3001/purchase/apply/uploadFile&#x27;</span>, <span class="comment">// 请求路径</span></span><br><span class="line">  <span class="title function_">onChange</span>(<span class="params">info</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; status &#125; = info.<span class="property">file</span></span><br><span class="line">    <span class="keyword">if</span> (status !== <span class="string">&#x27;uploading&#x27;</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(info.<span class="property">file</span>, info.<span class="property">fileList</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (status === <span class="string">&#x27;done&#x27;</span>) &#123;</span><br><span class="line">      message.<span class="title function_">success</span>(<span class="string">`<span class="subst">$&#123;info.file.name&#125;</span> 文件上传成功.`</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (status === <span class="string">&#x27;error&#x27;</span>) &#123;</span><br><span class="line">      message.<span class="title function_">error</span>(<span class="string">`<span class="subst">$&#123;info.file.name&#125;</span> 文件上传失败.`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">onDrop</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;取消文件上传&#x27;</span>, e.<span class="property">dataTransfer</span>.<span class="property">files</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">uploadFile</span> = (<span class="params"></span>) =&gt; (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Dragger</span> &#123;<span class="attr">...props</span>&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">className</span>=<span class="string">&quot;ant-upload-drag-icon&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">InboxOutlined</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">className</span>=<span class="string">&quot;ant-upload-text&quot;</span>&gt;</span>将文件拖拽到此处或点击上传<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">Dragger</span>&gt;</span></span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> uploadFile</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="2-后端"><a href="#2-后端" class="headerlink" title="2. 后端"></a>2. 后端</h4><h5 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> multer = <span class="built_in">require</span>(<span class="string">&#x27;multer&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">/* 文件上传函数 */</span></span><br><span class="line">  <span class="title function_">file_load</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 配置存储位置</span></span><br><span class="line">    <span class="keyword">const</span> fileDir = <span class="string">&#x27;./public/uploads&#x27;</span> <span class="comment">// 前提：必须保证该目录存在</span></span><br><span class="line">    <span class="keyword">const</span> storage = multer.<span class="title function_">diskStorage</span>(&#123;</span><br><span class="line">      <span class="attr">destination</span>: <span class="keyword">function</span> (<span class="params">req, file, cb</span>) &#123;</span><br><span class="line">        <span class="comment">// 存储地址</span></span><br><span class="line">        <span class="title function_">cb</span>(<span class="literal">null</span>, fileDir)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">filename</span>: <span class="keyword">function</span> (<span class="params">req, file, cb</span>) &#123;</span><br><span class="line">        <span class="comment">// 配置文件名</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;上传文件：&#x27;</span>, file)</span><br><span class="line">        <span class="comment">// file.originalname 可以获取前端传递的图片名及其后缀，比如 10.small.jpg</span></span><br><span class="line">        <span class="keyword">const</span> filenameArr = file.<span class="property">originalname</span>.<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>) <span class="comment">// [&#x27;10&#x27;, &#x27;small&#x27;, &#x27;jpg&#x27;]</span></span><br><span class="line">        <span class="keyword">const</span> ext = filenameArr[filenameArr.<span class="property">length</span> - <span class="number">1</span>] <span class="comment">// 数组最后一位，数组长度长度-1，后缀名 - &#x27;jpg&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> uniqueSuffix = <span class="title class_">Date</span>.<span class="title function_">now</span>() + <span class="string">&#x27;-&#x27;</span> + <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1e9</span>) <span class="comment">// 随机名字</span></span><br><span class="line">        <span class="comment">// file.fieldname 上传图片时约定的字段名</span></span><br><span class="line">        <span class="title function_">cb</span>(<span class="literal">null</span>, file.<span class="property">fieldname</span> + <span class="string">&#x27;-&#x27;</span> + uniqueSuffix + <span class="string">&#x27;.&#x27;</span> + ext) <span class="comment">// 必须上传后对图片重新命名</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">const</span> upload = <span class="title function_">multer</span>(&#123; <span class="attr">storage</span>: storage &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> upload</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="路由文件"><a href="#路由文件" class="headerlink" title="路由文件"></a>路由文件</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入配置文件</span></span><br><span class="line"><span class="keyword">const</span> file_load = <span class="built_in">require</span>(<span class="string">&#x27;../../utils/uploadFile&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 上传文件</span></span><br><span class="line"><span class="keyword">const</span> upload = file_load.<span class="title function_">file_load</span>()</span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;/uploadFile&#x27;</span>, upload.<span class="title function_">single</span>(<span class="string">&#x27;file&#x27;</span>), <span class="comment">// 该字段必须与前段一致</span></span><br><span class="line">applyController.<span class="property">uploadFile</span>)</span><br></pre></td></tr></table></figure><h3 id="3-封装的公共组件"><a href="#3-封装的公共组件" class="headerlink" title="3. 封装的公共组件"></a>3. 封装的公共组件</h3><h4 id="3-1-Vue"><a href="#3-1-Vue" class="headerlink" title="3.1 Vue"></a>3.1 Vue</h4><h5 id="3-1-1-二次封装"><a href="#3-1-1-二次封装" class="headerlink" title="3.1.1 二次封装"></a>3.1.1 二次封装</h5><h6 id="1-el-image-二次封装"><a href="#1-el-image-二次封装" class="headerlink" title="1. el-image 二次封装"></a>1. el-image 二次封装</h6><p>概述： image组件， 我们需要统一在图片加载失败的时候展示的特定图 </p><p>技术点：</p><ul><li><p>v-bind&#x3D;”$attrs”的妙用是在创建更高级别的组件，在封装第三方组件时，可以自动将在父作用域中使用的v-bind的属性自动绑定，并向下传入被封装的使用了v-bind&#x3D;”$attrs”的组件。</p></li><li><p>v-on&#x3D;”listeners”的作用 它可以将父作用域中的使用v-on的时间监听器向下传入到使用了v-on&#x3D;”listeners”组件中， 和v-bind&#x3D;”<em>l<strong>i</strong>s<strong>t</strong>e<strong>n</strong>e<strong>r</strong>s</em>“组件中，和<em>v</em>−<em>b<strong>i</strong>n**d</em>&#x3D;”attrs”的功效类似，只不过一个属性一个是事件。</p></li></ul><p>使用：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;custom-<span class="title class_">Image</span> fit=<span class="string">&quot;fill&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;icon-img&quot;</span> :src=<span class="string">&quot;picPreview(expert)&quot;</span>&gt;&lt;/custom-<span class="title class_">Image</span>&gt;</span><br></pre></td></tr></table></figure><p>事例：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;CustomImage&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-image</span> <span class="attr">v-bind</span>=<span class="string">&quot;$attrs&quot;</span> <span class="attr">v-on</span>=<span class="string">&quot;$listeners&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">&quot;error&quot;</span> <span class="attr">class</span>=<span class="string">&quot;image-slot&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;require(&#x27;image-f/icon-empty-img.png&#x27;)&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;图片加载失败.png&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">&quot;placeholder&quot;</span> <span class="attr">class</span>=<span class="string">&quot;placeholder-slot&quot;</span>&gt;</span>加载中...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-image</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;CustomImage&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-id">#CustomImage</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.image-slot</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">text-align</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.placeholder-slot</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">text-align</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="3-1-2-初始造轮子"><a href="#3-1-2-初始造轮子" class="headerlink" title="3.1.2 初始造轮子"></a>3.1.2 初始造轮子</h5><h6 id="1-模态框"><a href="#1-模态框" class="headerlink" title="1. 模态框"></a>1. 模态框</h6><ul><li>创建一个Vue文件，实现基本的结构和样式</li><li>标题通过Props传入，设置为必传。按钮默认一个确认按钮，可定制。可显示取消按钮，可定制。主体通过<code>slot</code>插槽处理。</li><li>弹窗组件开关由外部控制，但并不用show来控制， 而是对show进行监听，赋值给组件内部变量showSelf。 方便组件内部控制弹窗的隐藏。</li><li>保证弹窗的层级足够高，且弹窗内容的层级要比遮罩层的高，后弹窗的层级高于之前的层级。</li><li>点击遮罩层关闭弹窗和处理弹窗地步页面的的内容不可滚动。.self只在当前元素触发，不从内部触发。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;showSelf&quot;</span> <span class="attr">class</span>=<span class="string">&quot;dialog&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;&#x27;z-index&#x27;: zIndex&#125;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dialog-mark&quot;</span> @<span class="attr">click.self</span>=<span class="string">&quot;closeMyself&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;&#x27;z-index&#x27;: zIndex + 1&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">transition</span> <span class="attr">name</span>=<span class="string">&quot;dialog&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dialog-sprite&quot;</span> <span class="attr">:style</span>=<span class="string">&quot;&#123;&#x27;z-index&#x27;: zIndex + 2&#125;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="comment">&lt;!-- 标题 --&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">section</span> <span class="attr">v-if</span>=<span class="string">&quot;title&quot;</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span>&#123;&#123; title &#125;&#125;<span class="tag">&lt;/<span class="name">section</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    </span></span><br><span class="line"><span class="language-xml">                <span class="comment">&lt;!-- 弹窗的主题内容 --&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;dialog-body&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    </span></span><br><span class="line"><span class="language-xml">                <span class="comment">&lt;!-- 按钮 --&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;dialog-footer&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;showCancel&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-refuse&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;cancel&quot;</span>&gt;</span>&#123;&#123;cancelText&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-confirm&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;confirm&quot;</span>&gt;</span>&#123;&#123;confirmText&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">transition</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">props</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">//弹窗组件是否显示 默认不显示 必传属性</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">show</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">type</span>: <span class="title class_">Boolean</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">default</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">required</span>: <span class="literal">true</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">title</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">type</span>: <span class="title class_">String</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">required</span>: <span class="literal">true</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">showCancel</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">typs</span>: <span class="title class_">Boolean</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">default</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">required</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">cancelText</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">type</span>: <span class="title class_">String</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">default</span>: <span class="string">&#x27;取消&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">required</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">confirmText</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">type</span>: <span class="title class_">String</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">default</span>: <span class="string">&#x27;确定&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">required</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">name</span>: <span class="string">&#x27;dialog&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">showSelf</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">zIndex</span>: <span class="variable language_">this</span>.<span class="title function_">getZIndex</span>(),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">bodyOverflow</span>: <span class="string">&#x27;&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">watch</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">show</span>(<span class="params">val</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">if</span> (!val) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="variable language_">this</span>.<span class="title function_">closeMyself</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125; <span class="keyword">else</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                    <span class="variable language_">this</span>.<span class="property">showSelf</span> = val</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">this</span>.<span class="property">showSelf</span> = <span class="variable language_">this</span>.<span class="property">show</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">this</span>.<span class="title function_">forbidScroll</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">/** 禁止页面滚动 */</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">forbidScroll</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">bodyOverflow</span> = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">overflow</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">overflow</span> = <span class="string">&#x27;hidden&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">/**  每次获取之后 zindex 自动增加 */</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">getZIndex</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">let</span> zIndexInit = <span class="number">20190315</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">return</span> zIndexInit++</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">/** 取消按钮操作 */</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">cancel</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.$emit(<span class="string">&#x27;cancel&#x27;</span>, <span class="literal">false</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">/** 确认按钮操作 */</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">confirm</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.$emit(<span class="string">&#x27;confirm&#x27;</span>, <span class="literal">false</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">/** 点击遮罩关闭弹窗 */</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">closeMyself</span>(<span class="params">event</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">showSelf</span> = <span class="literal">false</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="title function_">sloveBodyOverflow</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">/** 恢复页面的滚动 */</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">sloveBodyOverflow</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">overflow</span> = <span class="variable language_">this</span>.<span class="property">bodyOverflow</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    // 弹窗动画</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.dialog-enter-active</span>,</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.dialog-leave-active</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">transition</span>: opacity .<span class="number">5s</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.dialog-enter</span>,</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.dialog-leave-to</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">opacity</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    // 最外层 设置<span class="attribute">position</span>定位 </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    // 遮罩 设置背景层，<span class="attribute">z-index</span>值要足够大确保能覆盖，高度 宽度设置满 做到全屏遮罩</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.dialog</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">position</span>: fixed;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">top</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">right</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">width</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">height</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        // 内容层 <span class="attribute">z-index</span>要比遮罩大，否则会被遮盖</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-class">.dialog-mark</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">position</span>: absolute;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">top</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">height</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">height</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">6</span>);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    </span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.dialog-sprite</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        // 移动端使用felx布局</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">position</span>: absolute;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">top</span>: <span class="number">10%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">left</span>: <span class="number">15%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">right</span>: <span class="number">15%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">bottom</span>: <span class="number">25%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">display</span>: flex;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">flex-direction</span>: column;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">max-height</span>: <span class="number">75%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">min-height</span>: <span class="number">180px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">overflow</span>: hidden;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">z-index</span>: <span class="number">23456765435</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">background</span>: <span class="number">#fff</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-class">.header</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">padding</span>: <span class="number">15px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">text-align</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">font-size</span>: <span class="number">18px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">font-weight</span>: <span class="number">700</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">color</span>: <span class="number">#333</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-class">.dialog-body</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">flex</span>: <span class="number">1</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">overflow-x</span>: hidden;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">overflow-y</span>: scroll;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">15px</span> <span class="number">20px</span> <span class="number">15px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-class">.dialog-footer</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">position</span>: relative;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">display</span>: flex;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">width</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            // <span class="attribute">flex-shrink</span>: <span class="number">1</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &amp;<span class="selector-pseudo">::after</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">position</span>: absolute;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">top</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">left</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">width</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">height</span>: <span class="number">1px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">background</span>: <span class="number">#ddd</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(.<span class="number">5</span>);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-class">.btn</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">flex</span>: <span class="number">1</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">text-align</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">padding</span>: <span class="number">15px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">font-size</span>: <span class="number">17px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                &amp;<span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>) &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    <span class="attribute">position</span>: relative;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    &amp;<span class="selector-pseudo">::after</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                        <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                        <span class="attribute">position</span>: absolute;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                        <span class="attribute">left</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                        <span class="attribute">top</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                        <span class="attribute">width</span>: <span class="number">1px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                        <span class="attribute">height</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                        <span class="attribute">background</span>: <span class="number">#ddd</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                        <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(.<span class="number">5</span>);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-class">.btn-confirm</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">                <span class="attribute">color</span>: <span class="number">#43ac43</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>使用：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;the-dialog :show=<span class="string">&quot;showDialog&quot;</span> @confirm=<span class="string">&quot;confirm2&quot;</span> @cancel=<span class="string">&quot;cancel&quot;</span> :showCancel=<span class="string">&quot;true&quot;</span> :title=<span class="string">&quot;&#x27;新标题&#x27;&quot;</span> :confirmText=<span class="string">&quot;`知道了`&quot;</span> :cancelText=<span class="string">&quot;`关闭`&quot;</span>&gt;</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>主题内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>主题内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;/the-dialog&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="comment">// 控制两个弹窗组件的初始显示与隐藏</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">showDialog</span>: <span class="literal">true</span>, </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="attr">showDialog2</span>: <span class="literal">true</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">cancel</span>(<span class="params">show</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">showDialog</span> = show</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">confirm</span>(<span class="params">show</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">showDialog</span> = show</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">cancel2</span>(<span class="params">show</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">showDialog2</span> = show</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">confirm2</span>(<span class="params">show</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">this</span>.<span class="property">showDialog2</span> = show;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="3-2-React"><a href="#3-2-React" class="headerlink" title="3.2 React"></a>3.2 React</h4><h5 id="1-全局dialog"><a href="#1-全局dialog" class="headerlink" title="1. 全局dialog"></a>1. 全局dialog</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; is, fromJS &#125; <span class="keyword">from</span> <span class="string">&#x27;immutable&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactCSSTransitionGroup</span> <span class="keyword">from</span> <span class="string">&#x27;react-addons-css-transition-group&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./dialog.css&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> defaultState = &#123;</span><br><span class="line">  <span class="attr">alertStatus</span>:<span class="literal">false</span>,</span><br><span class="line">  <span class="attr">alertTip</span>:<span class="string">&quot;提示&quot;</span>,</span><br><span class="line">  <span class="attr">closeDialog</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;,</span><br><span class="line">  <span class="attr">childs</span>:<span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dialog</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    ...defaultState</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// css动画组件设置为目标组件</span></span><br><span class="line">  <span class="title class_">FirstChild</span> = <span class="function"><span class="params">props</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> childrenArray = <span class="title class_">React</span>.<span class="property">Children</span>.<span class="title function_">toArray</span>(props.<span class="property">children</span>);</span><br><span class="line">    <span class="keyword">return</span> childrenArray[<span class="number">0</span>] || <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//打开弹窗</span></span><br><span class="line">  open =<span class="function">(<span class="params">options</span>)=&gt;</span>&#123;</span><br><span class="line">    options = options || &#123;&#125;;</span><br><span class="line">    options.<span class="property">alertStatus</span> = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">var</span> props = options.<span class="property">props</span> || &#123;&#125;;</span><br><span class="line">    <span class="keyword">var</span> childs = <span class="variable language_">this</span>.<span class="title function_">renderChildren</span>(props,options.<span class="property">childrens</span>) || <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(childs);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      ...defaultState,</span><br><span class="line">      ...options,</span><br><span class="line">      childs</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//关闭弹窗</span></span><br><span class="line">  <span class="title function_">close</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span>.<span class="title function_">closeDialog</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      ...defaultState</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">renderChildren</span>(<span class="params">props,childrens</span>) &#123;</span><br><span class="line">    <span class="comment">//遍历所有子组件</span></span><br><span class="line">    <span class="keyword">var</span> childs = [];</span><br><span class="line">    childrens = childrens || [];</span><br><span class="line">    <span class="keyword">var</span> ps = &#123;</span><br><span class="line">        ...props,  <span class="comment">//给子组件绑定props</span></span><br><span class="line">        <span class="attr">_close</span>:<span class="variable language_">this</span>.<span class="property">close</span>  <span class="comment">//给子组件也绑定一个关闭弹窗的事件    </span></span><br><span class="line">       &#125;;</span><br><span class="line">    childrens.<span class="title function_">forEach</span>(<span class="function">(<span class="params">currentItem,index</span>) =&gt;</span> &#123;</span><br><span class="line">        childs.<span class="title function_">push</span>(<span class="title class_">React</span>.<span class="title function_">createElement</span>(</span><br><span class="line">            currentItem,</span><br><span class="line">            &#123;</span><br><span class="line">                ...ps,</span><br><span class="line">                <span class="attr">key</span>:index</span><br><span class="line">            &#125;</span><br><span class="line">        ));</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> childs;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">shouldComponentUpdate</span>(<span class="params">nextProps, nextState</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> !<span class="title function_">is</span>(<span class="title function_">fromJS</span>(<span class="variable language_">this</span>.<span class="property">props</span>), <span class="title function_">fromJS</span>(nextProps)) || !<span class="title function_">is</span>(<span class="title function_">fromJS</span>(<span class="variable language_">this</span>.<span class="property">state</span>), <span class="title function_">fromJS</span>(nextState))</span><br><span class="line">  &#125;</span><br><span class="line">   </span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">ReactCSSTransitionGroup</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">component</span>=<span class="string">&#123;this.FirstChild&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">transitionName</span>=<span class="string">&#x27;hide&#x27;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">transitionEnterTimeout</span>=<span class="string">&#123;300&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">transitionLeaveTimeout</span>=<span class="string">&#123;300&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;dialog-con&quot;</span> <span class="attr">style</span>=<span class="string">&#123;this.state.alertStatus?</span> &#123;<span class="attr">display:</span>&#x27;<span class="attr">block</span>&#x27;&#125;<span class="attr">:</span>&#123;<span class="attr">display:</span>&#x27;<span class="attr">none</span>&#x27;&#125;&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;this.state.childs&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">ReactCSSTransitionGroup</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> div = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> props = &#123;</span><br><span class="line">   </span><br><span class="line">&#125;;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(div);</span><br><span class="line"><span class="keyword">let</span> <span class="title class_">Box</span> = <span class="title class_">ReactD</span></span><br></pre></td></tr></table></figure><h5 id="3-2-1-高阶组件"><a href="#3-2-1-高阶组件" class="headerlink" title="3.2.1 高阶组件"></a>3.2.1 高阶组件</h5><h3 id="4-封装的工具函数"><a href="#4-封装的工具函数" class="headerlink" title="4. 封装的工具函数"></a>4. 封装的工具函数</h3><h4 id="4-1-自定义hooks"><a href="#4-1-自定义hooks" class="headerlink" title="4.1 自定义hooks"></a>4.1 自定义hooks</h4><h5 id="1-useSessionStorage"><a href="#1-useSessionStorage" class="headerlink" title="1. useSessionStorage"></a>1. useSessionStorage</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useSessionStorage</span>(<span class="params">key</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> [state, setState] = <span class="title function_">useState</span>(<span class="function">() =&gt;</span> <span class="title function_">getStorage</span>())</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">getStorage</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> value = <span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(key)</span><br><span class="line">    <span class="keyword">if</span> (value) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(value)</span><br><span class="line">      &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">undefined</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">updateState</span> = (<span class="params">newState</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 如果为undefined 则删除该键</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> newState == <span class="string">&#x27;undefined&#x27;</span>) &#123;</span><br><span class="line">      <span class="variable language_">sessionStorage</span>.<span class="title function_">removeItem</span>(key)</span><br><span class="line">      <span class="title function_">setState</span>(<span class="literal">undefined</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(key, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(newState))</span><br><span class="line">      <span class="title function_">setState</span>(newState)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123; state, updateState &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="2-useList"><a href="#2-useList" class="headerlink" title="2. useList"></a>2. useList</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">listReq:api请求</span></span><br><span class="line"><span class="comment">option:obj</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">    cur:当前页数</span></span><br><span class="line"><span class="comment">    size:一页多少条数据</span></span><br><span class="line"><span class="comment">    data:查询参数</span></span><br><span class="line"><span class="comment">    flag:是否自动请求</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useList</span>(<span class="params">listReq, option</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> [list, setList] = <span class="title function_">useState</span>([])</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> flag = option?.<span class="property">flag</span> || <span class="literal">true</span> <span class="comment">// 默认自动请求</span></span><br><span class="line">  <span class="keyword">const</span> cur = option?.<span class="property">cur</span> || <span class="number">1</span></span><br><span class="line">  <span class="keyword">const</span> size = option?.<span class="property">size</span> || <span class="number">5</span></span><br><span class="line">  <span class="keyword">const</span> data = option?.<span class="property">data</span> || &#123;&#125;</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">getList</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> payload = &#123; ...data, <span class="attr">current</span>: cur, <span class="attr">pageSize</span>: size &#125;</span><br><span class="line">    <span class="title function_">listReq</span>(payload)</span><br><span class="line">      .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">code</span> == <span class="string">&#x27;200&#x27;</span>) &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>)</span><br><span class="line">          <span class="comment">//   setList(res.)</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;获取数据错误&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  flag &amp;&amp; <span class="title function_">getList</span>()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    list,</span><br><span class="line">    getList,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="4-2-自定义指令"><a href="#4-2-自定义指令" class="headerlink" title="4.2 自定义指令"></a>4.2 自定义指令</h4><h4 id="4-3-封装插件"><a href="#4-3-封装插件" class="headerlink" title="4.3 封装插件"></a>4.3 封装插件</h4><h5 id="1-全局try-catch"><a href="#1-全局try-catch" class="headerlink" title="1. 全局try catch"></a>1. 全局try catch</h5><p>思路：</p><ul><li>借助AST抽象语法树，遍历查找代码中的await关键字</li><li>找到await节点后，从父路径中查找声明的async函数，获取该函数的body（函数中包含的代码）</li><li>创建try&#x2F;catch语句，将原来async的body放入其中</li><li>最后将async的body替换成创建的try&#x2F;catch语句</li></ul><h3 id="5-封装的高阶组件"><a href="#5-封装的高阶组件" class="headerlink" title="5. 封装的高阶组件"></a>5. 封装的高阶组件</h3><h4 id="5-1-权限控制"><a href="#5-1-权限控制" class="headerlink" title="5.1 权限控制"></a>5.1 权限控制</h4><p>概述： 利用高阶组件的 条件渲染 特性可以对页面进行权限控制， </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">withAdminAuth</span>(<span class="params">WrappedComponent</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">class</span> <span class="title class_">extends</span> <span class="title class_">React</span>.<span class="property">Component</span> &#123;</span><br><span class="line">        state = &#123;</span><br><span class="line">            <span class="attr">isAdmin</span>: <span class="literal">false</span>,</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">async</span> <span class="title function_">UNSAFE_componentWillMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> currentRole = <span class="keyword">await</span> <span class="title function_">getCurrentUserRole</span>();</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">                <span class="attr">isAdmin</span>: currentRole === <span class="string">&#x27;Admin&#x27;</span>,</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">isAdmin</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> &#123;<span class="attr">...this.props</span>&#125; /&gt;</span></span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> (<span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>您没有权限查看该页面，请联系管理员！<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-2-页面复用"><a href="#5-2-页面复用" class="headerlink" title="5.2 页面复用"></a>5.2 页面复用</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">withFetching</span> = fetching =&gt; <span class="function"><span class="params">WrappedComponent</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">class</span> <span class="title class_">extends</span> <span class="title class_">React</span>.<span class="property">Component</span> &#123;</span><br><span class="line">        state = &#123;</span><br><span class="line">            <span class="attr">data</span>: [],</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">async</span> <span class="title function_">UNSAFE_componentWillMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> data = <span class="keyword">await</span> <span class="title function_">fetching</span>();</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">                data,</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">WrappedComponent</span> <span class="attr">data</span>=<span class="string">&#123;this.state.data&#125;</span> &#123;<span class="attr">...this.props</span>&#125; /&gt;</span></span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// pages/page-a.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">withFetching</span>(<span class="title function_">fetching</span>(<span class="string">&#x27;science-fiction&#x27;</span>))(<span class="title class_">MovieList</span>);</span><br></pre></td></tr></table></figure><h4 id="3-统一处理-loading"><a href="#3-统一处理-loading" class="headerlink" title="3. 统一处理 loading"></a>3. 统一处理 loading</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 公共逻辑处理 - 统一处理loading 高阶组件</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">WidthTable</span> = (<span class="params">Component</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;接受组件&#x27;</span>, <span class="title class_">Component</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">NewComponent</span> = (<span class="params">&#123; loading, ...otherProps &#125;</span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;HOC 的 props&#x27;</span>, otherProps)</span><br><span class="line">    <span class="keyword">if</span> (loading) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>loading...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">Component</span>&gt;</span><span class="tag">&lt;/<span class="name">Component</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">NewComponent</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">WidthTable</span></span><br></pre></td></tr></table></figure><h4 id="4-路由鉴权"><a href="#4-路由鉴权" class="headerlink" title="4. 路由鉴权"></a>4. 路由鉴权</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Navigate</span>, useLocation &#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useSelector &#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">PrivateRoute</span> = (<span class="params">&#123; component: Component, ...rest &#125;</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">let</span> location = <span class="title function_">useLocation</span>()</span><br><span class="line">  <span class="keyword">const</span> token = <span class="title function_">useSelector</span>(<span class="function">(<span class="params">state</span>) =&gt;</span> state.<span class="property">user</span>.<span class="property">token</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(token)</span><br><span class="line">  <span class="keyword">return</span> token ? (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Component</span> &#123;<span class="attr">...rest</span>&#125;&gt;</span><span class="tag">&lt;/<span class="name">Component</span>&gt;</span></span></span><br><span class="line">  ) : (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Navigate</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">to</span>=<span class="string">&#123;&#123;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">pathname:</span> &#x27;/<span class="attr">login</span>&#x27;,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">state:</span> &#123; <span class="attr">from:</span> <span class="attr">location</span> &#125;, // <span class="attr">重定向登录页</span>，<span class="attr">并且记录想要访问的页面</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      &#125;&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    &gt;</span><span class="tag">&lt;/<span class="name">Navigate</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">PrivateRoute</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="项目性能优化"><a href="#项目性能优化" class="headerlink" title="项目性能优化"></a>项目性能优化</h2><h2 id="一、-登陆"><a href="#一、-登陆" class="headerlink" title="一、 登陆"></a>一、 登陆</h2><p>概述：访问资源时所需要的凭证</p><h3 id="1-登陆处理流程"><a href="#1-登陆处理流程" class="headerlink" title="1. 登陆处理流程"></a>1. 登陆处理流程</h3><h4 id="1-1-token-处理"><a href="#1-1-token-处理" class="headerlink" title="1.1 token 处理"></a>1.1 token 处理</h4><p>前端通过发送账号和密码或账号和验证码给到后端后，后端验证通过会返回一个唯一的 <code>token</code> 作为该用户的登录凭证，前端将此凭证存储在vuex以及本地中，在之后的每个请求当中，请求头中都需带上这个 <code>token</code> 作为后端的登录校验。</p><p> <code>token</code> 有过期的机制，可以在请求拦截中做逻辑判断处理，若当前时间接近了过期时间，则通过更新 <code>token</code> 的接口请求更新 <code>token</code> ，在之后的请求中带上新的 <code>token</code> 。以此循环，若用户过长时间无操作，则可认为用户为离线状态，在用户之后的第一次请求时，由于 <code>token</code> 已经过期，访问后端接口会发生错误，根据后端返回的错误状态码作为判断，将系统定向至登录页面。<br>通过带有 <code>token</code> 请求头的请求方法，后端可以判断到是哪一个用户，前端也可以通过获取权限接口获得该用户的权限列表，根据权限列表做一份路由映射表，如果后端返回的数据结构与前端的路由设置的数据结构不同，此时还需编写此映射路由的业务功能函数。如果该用户拥有此路由权限，则通过在全局路由监控中 <code>router.beforeEach</code> 进行 <code>router</code> 中的 <code>addRoutes</code> 方法将有权限的路由配置添加到路由当中，侧边栏也可根据路由列表中的 <code>meta</code> 字段中关键字的判断进行相应的渲染。如果权限的颗粒度小到一个按钮，则可根据后端返回的权限列表映射出的权限参数，通过 <code>v-if</code> 进行判断该功能组件是否渲染。<br>在路由管理中通过 <code>router.beforeEach</code> 钩子中判断当前的路由权限是否为空，是的话则可执行获取权限路由的接口：</p><h4 id="1-2-手机验证码登陆"><a href="#1-2-手机验证码登陆" class="headerlink" title="1.2 手机验证码登陆"></a>1.2 手机验证码登陆</h4><ul><li>前端点击发送验证码，把手机号传给后端，后端深沉随机数，然后把号码以及短信内容(包括随机数)一起发送给第三方平台</li><li>短信发送成功的会调里把手机号和随机数存到数据库，</li><li>用户收到短信点登陆后，前端手机手机号和验证码传给后端和数据库进行对比验证成果就返回登陆成功和用户信息</li></ul><h3 id="2-token生成-服务器生成-："><a href="#2-token生成-服务器生成-：" class="headerlink" title="2. token生成(服务器生成)："></a>2. token生成(服务器生成)：</h3><p>利用 <code>jsonwebtoken</code> 模块， 该模块提供 <code>sign </code>生成 <code>token </code>，<code>verify </code>验证 <code>token</code>（一般使用 <code>express-jwt</code> 替代）<br>服务器端 - 安装:</p><p><code>npm i jsonwebtoken </code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> jwt = <span class="built_in">require</span>(<span class="string">&#x27;jsonwebtoken&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> token = jwt.<span class="title function_">sign</span>(载荷, 密钥, options)</span><br><span class="line">      <span class="comment">// 载荷为一个对象，可以写任何非敏感信息</span></span><br><span class="line">      <span class="comment">// 密钥：是一个包含 HMAC 算法的密钥或者 密钥对，在验证 token 的时候也需要用到</span></span><br><span class="line">      <span class="comment">// options</span></span><br><span class="line">        algorithm：加密算法，默认 <span class="title class_">HS256</span></span><br><span class="line">        expiresIn：过期时间</span><br></pre></td></tr></table></figure><h3 id="3-token-验证"><a href="#3-token-验证" class="headerlink" title="3. token 验证"></a>3. token 验证</h3><p>利用<code>express-jwt</code> 模块：</p><p><code>npm i express-jwt</code></p><h3 id="4-token-的使用"><a href="#4-token-的使用" class="headerlink" title="4. token 的使用"></a>4. token 的使用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用 </span></span><br><span class="line">   <span class="keyword">const</span> &#123; <span class="attr">expressjwt</span>: expressJwt &#125; = <span class="built_in">require</span>(<span class="string">&#x27;express-jwt&#x27;</span>);</span><br><span class="line"></span><br><span class="line">   <span class="comment">//拦截路由、验证 token 是否合法</span></span><br><span class="line">   app.<span class="title function_">use</span>(<span class="title function_">expressJwt</span>(&#123;</span><br><span class="line">     secret, <span class="comment">// 与 生成 token 的 密钥 相同</span></span><br><span class="line">     <span class="attr">algorithms</span>: [<span class="string">&#x27;HS256&#x27;</span>], <span class="comment">// 与生成 token 的加密算法一致</span></span><br><span class="line">   &#125;).<span class="title function_">unless</span>(&#123; <span class="comment">// 路由白名单，以下路由不受验证，可以直接写路径，也可以是正则匹配</span></span><br><span class="line">     <span class="attr">path</span>: [<span class="string">&#x27;/users/login&#x27;</span>]</span><br><span class="line">   &#125;))</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 如果没有通过，需要做错误处理</span></span><br><span class="line">   app.<span class="title function_">use</span>(<span class="keyword">function</span>(<span class="params">err, req, res, next</span>) &#123;</span><br><span class="line">     <span class="keyword">if</span>(err.<span class="property">name</span> === <span class="string">&#x27;UnauthorizedError&#x27;</span>) &#123;</span><br><span class="line">       res.<span class="title function_">status</span>(<span class="number">401</span>).<span class="title function_">json</span>() <span class="comment">// 这里响应状态吗 401，表示无权限访问</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;)</span><br></pre></td></tr></table></figure><h3 id="5-前端处理-token"><a href="#5-前端处理-token" class="headerlink" title="5. 前端处理 token"></a>5. 前端处理 token</h3><h4 id="5-1-保存-token"><a href="#5-1-保存-token" class="headerlink" title="5.1 保存 token"></a>5.1 保存 token</h4><p>登陆之后获取token并保存在本地</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">loginAction (context, data) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">axios</span>(&#123;</span><br><span class="line">          <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">          <span class="attr">url</span>: <span class="string">&#x27;/users/login&#x27;</span>,</span><br><span class="line">          data</span><br><span class="line">        &#125;)</span><br><span class="line">          .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;登陆请求成功&#x27;</span>,res);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (res.<span class="property">code</span> == <span class="number">200</span>) &#123;</span><br><span class="line">              context.<span class="title function_">commit</span>(<span class="string">&#x27;loginMutation&#x27;</span>, &#123;</span><br><span class="line">                <span class="attr">token</span>:res.<span class="property">token</span>,</span><br><span class="line">                <span class="attr">userName</span>:data.<span class="property">userName</span></span><br><span class="line">              &#125;)</span><br><span class="line"></span><br><span class="line">              <span class="comment">// 本地缓存</span></span><br><span class="line">              <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;userName&#x27;</span>,data.<span class="property">userName</span>)</span><br><span class="line">              <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;token&#x27;</span>,res.<span class="property">token</span>)</span><br><span class="line"></span><br><span class="line">              <span class="title function_">resolve</span>()</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">          .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;请求错误&#x27;</span>,err);</span><br><span class="line">          <span class="title function_">reject</span>()</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure><h4 id="5-2-请求携带"><a href="#5-2-请求携带" class="headerlink" title="5.2 请求携带"></a>5.2 请求携带</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">instance.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">config</span>) &#123;</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 获取 token</span></span><br><span class="line">     <span class="keyword">const</span> token = store.<span class="property">state</span>.<span class="property">token</span>;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;获取 token：&#x27;</span>, token);</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 将 token 放在请求头</span></span><br><span class="line">     <span class="keyword">if</span>(token) &#123;</span><br><span class="line">       <span class="comment">// 该请求头由前后端约定、但是后端使用 express-jwt，就已经约束 Authorization 字段，并且值以 &#x27;Bearer &#x27; 开头</span></span><br><span class="line">       config.<span class="property">headers</span>[<span class="string">&#x27;Authorization&#x27;</span>] = <span class="string">&#x27;Bearer &#x27;</span> + token;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">return</span> config;</span><br><span class="line">   &#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">   &#125;);</span><br></pre></td></tr></table></figure><h4 id="5-3-未登录处理"><a href="#5-3-未登录处理" class="headerlink" title="5.3 未登录处理"></a>5.3 未登录处理</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"> instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">      <span class="comment">// 响应成功-200，先在这里接收到服务器响应</span></span><br><span class="line">      <span class="comment">// 2xx 范围内的状态码都会触发该函数。</span></span><br><span class="line">      <span class="comment">// 对响应数据做点什么</span></span><br><span class="line">      </span><br><span class="line">      <span class="keyword">return</span> response.<span class="property">data</span>; <span class="comment">// 对后端返回的数据过滤，直将 data 返回给页面</span></span><br><span class="line">    &#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">      <span class="comment">// 超出 2xx 范围的状态码都会触发该函数。</span></span><br><span class="line">      <span class="comment">// 对响应错误做点什么</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span>(error.<span class="property">response</span>.<span class="property">status</span> === <span class="number">401</span>) &#123; <span class="comment">// 表示未登录或者登录过期</span></span><br><span class="line">        <span class="comment">// 第一步、移除 token</span></span><br><span class="line">        store.<span class="title function_">commit</span>(<span class="string">&#x27;removeToken&#x27;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 第二步、重定向登录页</span></span><br><span class="line">        router.<span class="title function_">push</span>(<span class="string">&#x27;/login&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// removeToken</span></span><br><span class="line"> removeToken (state) &#123;</span><br><span class="line">      state.<span class="property">token</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">      state.<span class="property">userName</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="二、-项目错误"><a href="#二、-项目错误" class="headerlink" title="二、 项目错误"></a>二、 项目错误</h2><h4 id="1-Axios统一错误处理"><a href="#1-Axios统一错误处理" class="headerlink" title="1. Axios统一错误处理"></a>1. Axios统一错误处理</h4><p>对网络请求的响应进行统一处理</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">apiClient.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (error.<span class="property">response</span>.<span class="property">status</span> == <span class="number">401</span>) &#123;</span><br><span class="line">      router.<span class="title function_">push</span>(&#123; <span class="attr">name</span>: <span class="string">&quot;Login&quot;</span> &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      message.<span class="title function_">error</span>(<span class="string">&quot;出错了&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h4 id="2-Vue统一错误处理"><a href="#2-Vue统一错误处理" class="headerlink" title="2. Vue统一错误处理"></a>2. Vue统一错误处理</h4><p>使用全局的errorHandler</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">errorHandler</span> = <span class="keyword">function</span>(<span class="params">err</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;global&quot;</span>, err);</span><br><span class="line">  message.<span class="title function_">error</span>(<span class="string">&quot;出错了&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...此处省略其他配置</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;).$mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="3-React-统一错误处理"><a href="#3-React-统一错误处理" class="headerlink" title="3. React 统一错误处理"></a>3. React 统一错误处理</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Component</span>, lazy, <span class="title class_">Suspense</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ErrorBoundary</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(props)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123; <span class="attr">hasError</span>: <span class="literal">false</span> &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">getDerivedStateFromError</span>(<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;getDerivedStateFromError&#x27;</span>) <span class="comment">// 先打印出来</span></span><br><span class="line">    <span class="comment">// 更新 state 使下一次渲染能够显示降级后的 UI</span></span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">hasError</span>: <span class="literal">true</span> &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">componentDidCatch</span>(<span class="params">error, errorInfo</span>) &#123;</span><br><span class="line">    <span class="comment">// 你同样可以将错误日志上报给服务器</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;componentDidCatch&#x27;</span>) <span class="comment">// 后打印出来</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">hasError</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">hasError</span>) &#123;</span><br><span class="line">      <span class="comment">// 你可以自定义降级后的 UI 并渲染</span></span><br><span class="line">      <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Something went wrong.<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">children</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">ErrorBoundary</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">ErrorBoundary</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">Provider</span> <span class="attr">store</span>=<span class="string">&#123;store&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">BrowserRouter</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">App</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">BrowserRouter</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">ErrorBoundary</span>&gt;</span></span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><h4 id="4-全局捕获错误处理"><a href="#4-全局捕获错误处理" class="headerlink" title="4. 全局捕获错误处理"></a>4. 全局捕获错误处理</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;unhandledrejection&#x27;</span>, <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">处理事件对象</span><br><span class="line">event.<span class="property">reason</span> <span class="comment">//获取到catch的err的原因(内容) 与控制台报错一致</span></span><br><span class="line">event.<span class="property">promise</span> <span class="comment">//获取到未处理的promise对象</span></span><br><span class="line">.....</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="三、-两万条数据如何处理"><a href="#三、-两万条数据如何处理" class="headerlink" title="三、 两万条数据如何处理"></a>三、 两万条数据如何处理</h2><p>使用虚拟滚动条，后端进行分页，当每次下滑到一定的像素的时候发送请求，获取到下一页的数据。</p><h2 id="四、-版本管理"><a href="#四、-版本管理" class="headerlink" title="四、 版本管理"></a>四、 版本管理</h2><p>jenkins自动push打包</p><h2 id="五、-流量大，接口多如何处理"><a href="#五、-流量大，接口多如何处理" class="headerlink" title="五、 流量大，接口多如何处理"></a>五、 流量大，接口多如何处理</h2><p>缓存，ssr，预渲染，通过脚本平台，白名单等等，在上一个页面中预渲染下一个页面的数据。</p><h2 id="六、excel-导入导出"><a href="#六、excel-导入导出" class="headerlink" title="六、excel 导入导出"></a>六、excel 导入导出</h2><p>引入<code>xsml</code>依赖，主函数对数据进行过滤，使用数组的reduce方法<code>(接受一个函数作为参数，函数接受四个参数，若没有设置初始值，则第一个参数为计算结束的返回值，若有初始值，则为初始值，第二个参数为当前元素，第三个参数为当前元素的索引，常用于累加和累乘)</code>生成工作簿对象，再将工作簿转化为<code>json</code>对象。</p><p>接着创建a标签，利用a标签的download属性进行下载文件<code>aLink.href = url</code></p><p>然后将工作簿对象转化为我们需要的。首先生成excel的配置项，然后将字符串转化为<code>ArrayBuffer</code></p><p>最后进行转码操作。</p><h5 id="配置文件-1"><a href="#配置文件-1" class="headerlink" title="配置文件"></a>配置文件</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> <span class="variable constant_">XLSX</span> <span class="keyword">from</span> <span class="string">&#x27;xlsx&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ?+++++++++++++++++++++++++++++++++++++++++++++++ 主函数形参注释</span></span><br><span class="line"><span class="comment">// *--------------------------- header</span></span><br><span class="line"><span class="comment">// 注释：excel表头</span></span><br><span class="line"><span class="comment">// 类型：object</span></span><br><span class="line"><span class="comment">// 结构：</span></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//   name: &#x27;姓名&#x27;,</span></span><br><span class="line"><span class="comment">//   age: &#x27;年龄&#x27;,</span></span><br><span class="line"><span class="comment">//   address: &#x27;地址&#x27;,</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// *--------------------------- data</span></span><br><span class="line"><span class="comment">// 注释：导出数据</span></span><br><span class="line"><span class="comment">// 类型：array</span></span><br><span class="line"><span class="comment">// *--------------------------- fileName</span></span><br><span class="line"><span class="comment">// 注释：自定义导出文件名</span></span><br><span class="line"><span class="comment">// 类型：string</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ?+++++++++++++++++++++++++++++++++++++++++++++++ 主函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">clickToExport</span>(<span class="params">header, data, fileName</span>) &#123;</span><br><span class="line">  <span class="comment">// 数据过滤</span></span><br><span class="line">  <span class="keyword">let</span> newData = []</span><br><span class="line">  <span class="comment">// 生成header数组</span></span><br><span class="line">  <span class="keyword">let</span> headerKeys = <span class="title class_">Object</span>.<span class="title function_">keys</span>(header)</span><br><span class="line">  data.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> newItem = &#123;&#125;</span><br><span class="line">    <span class="comment">// 将data中的每一项遍历，给newItem重新赋值</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; headerKeys.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      newItem[headerKeys[i]] = item[headerKeys[i]]</span><br><span class="line">    &#125;</span><br><span class="line">    newItem.<span class="property">id</span> = index + <span class="number">1</span></span><br><span class="line">    newData.<span class="title function_">push</span>(newItem)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 生成工作簿对象</span></span><br><span class="line">  <span class="keyword">const</span> json = newData.<span class="title function_">map</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 数组reduce方法，第一个参数为回调函数，第二个参数为初始值。回调函数接受两个参数，第一个为累积变量，第二个为每一项。</span></span><br><span class="line">      <span class="comment">// 生成excel头部对应值</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Object</span>.<span class="title function_">keys</span>(item).<span class="title function_">reduce</span>(<span class="function">(<span class="params">newData, key</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> newKey = header[key] || key</span><br><span class="line">      newData[newKey] = item[key]</span><br><span class="line">      <span class="keyword">return</span> newData</span><br><span class="line">    &#125;, &#123;&#125;)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 将工作簿对象转化为json对象</span></span><br><span class="line">  <span class="keyword">const</span> sheet = <span class="variable constant_">XLSX</span>.<span class="property">utils</span>.<span class="title function_">json_to_sheet</span>(json)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">openDownloadDialog</span>(<span class="title function_">sheet2blob</span>(sheet, <span class="literal">undefined</span>), <span class="string">`<span class="subst">$&#123;fileName&#125;</span>.xlsx`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ?+++++++++++++++++++++++++++++++++++++++++++++++ 创建a标签 利用a标签的download属性进行下载文件</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">openDownloadDialog</span> = (<span class="params">url, saveName</span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 创建blob地址</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> url == <span class="string">&#x27;object&#x27;</span> &amp;&amp; url <span class="keyword">instanceof</span> <span class="title class_">Blob</span>) &#123;</span><br><span class="line">    url = <span class="variable constant_">URL</span>.<span class="title function_">createObjectURL</span>(url)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> aLink = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">  aLink.<span class="property">href</span> = url</span><br><span class="line">  <span class="comment">// HTML5新增的属性</span></span><br><span class="line">  <span class="comment">// 指定保存文件名</span></span><br><span class="line">  <span class="comment">// 可以不要后缀</span></span><br><span class="line">  <span class="comment">// 注意，file:///模式下不会生效</span></span><br><span class="line">  aLink.<span class="property">download</span> = saveName || <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> event</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">MouseEvent</span>) event = <span class="keyword">new</span> <span class="title class_">MouseEvent</span>(<span class="string">&#x27;click&#x27;</span>)</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    event = <span class="variable language_">document</span>.<span class="title function_">createEvent</span>(<span class="string">&#x27;MouseEvents&#x27;</span>)</span><br><span class="line">    event.<span class="title function_">initMouseEvent</span>(</span><br><span class="line">      <span class="string">&#x27;click&#x27;</span>,</span><br><span class="line">      <span class="literal">true</span>,</span><br><span class="line">      <span class="literal">false</span>,</span><br><span class="line">      <span class="variable language_">window</span>,</span><br><span class="line">      <span class="number">0</span>,</span><br><span class="line">      <span class="number">0</span>,</span><br><span class="line">      <span class="number">0</span>,</span><br><span class="line">      <span class="number">0</span>,</span><br><span class="line">      <span class="number">0</span>,</span><br><span class="line">      <span class="literal">false</span>,</span><br><span class="line">      <span class="literal">false</span>,</span><br><span class="line">      <span class="literal">false</span>,</span><br><span class="line">      <span class="literal">false</span>,</span><br><span class="line">      <span class="number">0</span>,</span><br><span class="line">      <span class="literal">null</span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  aLink.<span class="title function_">dispatchEvent</span>(event)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ?+++++++++++++++++++++++++++++++++++++++++++++++ 将工作簿对象转化为我们需要的</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">sheet2blob</span> = (<span class="params">sheet, sheetName</span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// 生成excel的配置项</span></span><br><span class="line">  sheetName = sheetName || <span class="string">&#x27;sheet1&#x27;</span></span><br><span class="line">  <span class="keyword">let</span> workbook = &#123;</span><br><span class="line">    <span class="title class_">SheetNames</span>: [sheetName],</span><br><span class="line">    <span class="title class_">Sheets</span>: &#123;&#125;,</span><br><span class="line">  &#125;</span><br><span class="line">  workbook.<span class="property">Sheets</span>[sheetName] = sheet</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 字符串转ArrayBuffer</span></span><br><span class="line">  <span class="keyword">let</span> workbookOut = <span class="variable constant_">XLSX</span>.<span class="title function_">write</span>(workbook, &#123;</span><br><span class="line">    <span class="comment">// 要生成的文件类型</span></span><br><span class="line">    <span class="attr">bookType</span>: <span class="string">&#x27;xlsx&#x27;</span>,</span><br><span class="line">    <span class="comment">// 是否生成Shared String Table</span></span><br><span class="line">    <span class="comment">// 官方解释是，如果开启生成速度会下降</span></span><br><span class="line">    <span class="comment">// 但在低版本IOS设备上有更好的兼容性</span></span><br><span class="line">    <span class="attr">bookSST</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;binary&#x27;</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">let</span> blob = <span class="keyword">new</span> <span class="title class_">Blob</span>([<span class="title function_">s2ab</span>(workbookOut)], &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;application/octet-stream&#x27;</span>,</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> blob</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ?+++++++++++++++++++++++++++++++++++++++++++++++ 转码操作</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">s2ab</span>(<span class="params">wbo</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> buf = <span class="keyword">new</span> <span class="title class_">ArrayBuffer</span>(wbo.<span class="property">length</span>)</span><br><span class="line">  <span class="keyword">let</span> view = <span class="keyword">new</span> <span class="title class_">Uint8Array</span>(buf)</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i !== wbo.<span class="property">length</span>; ++i) view[i] = wbo.<span class="title function_">charCodeAt</span>(i) &amp; <span class="number">0xff</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> buf</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> clickToExport</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//   导出excel</span></span><br><span class="line"> <span class="keyword">const</span> <span class="title function_">exportExcel</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">   chooseData?.<span class="property">length</span> &gt; <span class="number">0</span></span><br><span class="line">     ? <span class="title class_">Modal</span>.<span class="title function_">confirm</span>(&#123;</span><br><span class="line">         <span class="attr">title</span>: <span class="string">&#x27;导出&#x27;</span>,</span><br><span class="line">         <span class="attr">icon</span>: <span class="language-xml"><span class="tag">&lt;<span class="name">ExclamationCircleOutlined</span> /&gt;</span></span>,</span><br><span class="line">         <span class="attr">content</span>: <span class="string">&#x27;是否确认导出&#x27;</span>,</span><br><span class="line">         <span class="title function_">onOk</span>(<span class="params"></span>) &#123;</span><br><span class="line">           <span class="keyword">let</span> header = &#123;&#125;</span><br><span class="line">           columns.<span class="title function_">slice</span>(<span class="number">1</span>, -<span class="number">1</span>).<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">             <span class="keyword">let</span> keys = <span class="title class_">Object</span>.<span class="title function_">keys</span>(item)</span><br><span class="line">             header[item[keys[<span class="number">1</span>]]] = item[keys[<span class="number">0</span>]]</span><br><span class="line">           &#125;)</span><br><span class="line">           chooseData?.<span class="property">length</span> &gt; <span class="number">0</span> &amp;&amp;</span><br><span class="line">             <span class="title function_">clickToExport</span>(header, chooseData, <span class="string">&#x27;采购申请表&#x27;</span>)</span><br><span class="line">           <span class="title function_">setChooseData</span>(<span class="function">() =&gt;</span> []) <span class="comment">// 异步无法清空 或者重新请求数据</span></span><br><span class="line">         &#125;,</span><br><span class="line">         <span class="title function_">onCancel</span>(<span class="params"></span>) &#123;&#125;,</span><br><span class="line">       &#125;)</span><br><span class="line">     : <span class="title class_">Modal</span>.<span class="title function_">confirm</span>(&#123;</span><br><span class="line">         <span class="attr">title</span>: <span class="string">&#x27;导出&#x27;</span>,</span><br><span class="line">         <span class="attr">icon</span>: <span class="language-xml"><span class="tag">&lt;<span class="name">ExclamationCircleOutlined</span> /&gt;</span></span>,</span><br><span class="line">         <span class="attr">content</span>: <span class="string">&#x27;请选择导出列表&#x27;</span>,</span><br><span class="line">       &#125;)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h2 id="七、-定时器问题"><a href="#七、-定时器问题" class="headerlink" title="七、 定时器问题"></a>七、 定时器问题</h2><p>概述： 我在a页面写一个定时，让他每秒钟打印一个1，然后跳转到b页面，此时可以看到，定时器依然在执行。这样是非常消耗性能的。 </p><p>解决： 该方法是通过$once这个事件侦听器器在定义完定时器之后的位置来清除定时器 。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span>&#123;                    </span><br><span class="line">    <span class="comment">// 某些定时器操作                </span></span><br><span class="line">&#125;, <span class="number">500</span>);            </span><br><span class="line"><span class="comment">// 通过$once来监听定时器，在beforeDestroy钩子可以被清除。</span></span><br><span class="line"><span class="variable language_">this</span>.$once(<span class="string">&#x27;hook:beforeDestroy&#x27;</span>, <span class="function">() =&gt;</span> &#123;            </span><br><span class="line">    <span class="built_in">clearInterval</span>(timer);                                    </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="八、-gzip压缩"><a href="#八、-gzip压缩" class="headerlink" title="八、 gzip压缩"></a>八、 gzip压缩</h2><p> spa这种单页应用，首屏由于一次性加载所有资源，所有首屏加载速度很慢。解决这个问题非常有效的手段之一就是前后端开启gizp（其他还有缓存、路由懒加载等等） </p><p>下载插件：</p><p><code>npm i compression-webpack-plugin**@1**.1.11 </code></p><p>然后在config&#x2F;index.js中开启</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">build</span>: &#123;</span><br><span class="line">    <span class="comment">// 其他代码</span></span><br><span class="line">    …………</span><br><span class="line">    <span class="attr">productionGzip</span>: <span class="literal">true</span>, <span class="comment">// false不开启gizp，true开启</span></span><br><span class="line">    <span class="comment">// 其他代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="九、实时通讯"><a href="#九、实时通讯" class="headerlink" title="九、实时通讯"></a>九、实时通讯</h2><h3 id="1-Websocket"><a href="#1-Websocket" class="headerlink" title="1. Websocket"></a>1. Websocket</h3><p>概述： WebSocket是HTML5提供的一种浏览器与服务器进行全双工通讯的网络技术，属于应用层协议。它基于TCP传输协议，并复用HTTP的握手通道。浏览器和服务器只需要完成一次握手，两者之间就直接可以创建持久性的连接， 并进行双向数据传输。 </p><p>作用： ：服务器可以向客户端主动推动消息，客户端也可以主动向服务器推送消息。 </p><p>原理： 客户端向 WebSocket 服务器通知（notify）一个带有所有接收者ID（recipients IDs）的事件（event），服务器接收后立即通知所有活跃的（active）客户端，只有ID在接收者ID序列中的客户端才会处理这个事件。</p><p>使用：</p><p><code>npm i ws</code></p><p>服务端：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">WebSocketServer</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;ws&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">WebSocket</span> = <span class="built_in">require</span>(<span class="string">&#x27;ws&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> wss = <span class="keyword">new</span> <span class="title class_">WebSocketServer</span>(&#123;</span><br><span class="line">  <span class="attr">port</span>: <span class="number">8080</span>,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">let</span> users = []</span><br><span class="line"></span><br><span class="line">wss.<span class="title function_">on</span>(<span class="string">&#x27;connection&#x27;</span>, <span class="function">(<span class="params">ws, req</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;客户端已连接：&#x27;</span>, req.<span class="property">socket</span>.<span class="property">remoteAddress</span>) <span class="comment">// 获取客户端 ip</span></span><br><span class="line"></span><br><span class="line">  ws.<span class="title function_">on</span>(<span class="string">&#x27;message&#x27;</span>, <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> data = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(res.<span class="title function_">toString</span>())</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;收到客户端发送的消息：&#x27;</span>, data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (data.<span class="property">type</span> == <span class="string">&#x27;online&#x27;</span>) &#123;</span><br><span class="line">      users.<span class="title function_">push</span>(data)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data.<span class="property">type</span> == <span class="string">&#x27;offline&#x27;</span>) &#123;</span><br><span class="line">      users = users.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">username</span> != data.<span class="property">username</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data.<span class="property">type</span> == <span class="string">&#x27;msg&#x27;</span>) &#123;</span><br><span class="line">      <span class="comment">// console.log(&quot;已连接客户端&quot;, wss.clients);</span></span><br><span class="line">      wss.<span class="property">clients</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">client</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (client.<span class="property">readyState</span> === <span class="title class_">WebSocket</span>.<span class="property">OPEN</span>) &#123;</span><br><span class="line">          client.<span class="title function_">send</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data))</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="comment">// ws.send(data);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ws.send(&quot;我是服务端&quot;); // 向当前客户端发送消息</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  ws.<span class="title function_">on</span>(<span class="string">&#x27;error&#x27;</span>, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;连接出错：&#x27;</span>, err)</span><br><span class="line">  &#125;)</span><br><span class="line">  ws.<span class="title function_">on</span>(<span class="string">&#x27;close&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;客户端断开：&#x27;</span>, e)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p> 客户端：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> wsUrl = <span class="string">&#x27;ws://127.0.0.1:8080/?name=&#x27;</span> + username</span><br><span class="line"><span class="keyword">const</span> ws = <span class="keyword">new</span> <span class="title class_">WebSocket</span>(wsUrl)</span><br><span class="line"></span><br><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 连接上</span></span><br><span class="line">    ws.<span class="property">onopen</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;客户端socket&#x27;开启&quot;</span>)</span><br><span class="line"></span><br><span class="line">        ws.<span class="title function_">send</span>(</span><br><span class="line">            <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;online&#x27;</span>,</span><br><span class="line">                username,</span><br><span class="line">            &#125;)</span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 收到服务端消息</span></span><br><span class="line">    ws.<span class="property">onmessage</span> = <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> data = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(res.<span class="property">data</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;收到消息&#x27;</span>, data)</span><br><span class="line">        <span class="title function_">setChatList</span>(<span class="function">(<span class="params">pre</span>) =&gt;</span> [...pre, data])</span><br><span class="line">        <span class="comment">// ws.close();</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 断开连接</span></span><br><span class="line">    ws.<span class="property">onclose</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;关闭&#x27;</span>, e)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 连接出错</span></span><br><span class="line">    ws.<span class="property">onerror</span> = <span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;出错&#x27;</span>, err)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        ws.<span class="title function_">send</span>(</span><br><span class="line">            <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">                <span class="attr">type</span>: <span class="string">&#x27;offline&#x27;</span>,</span><br><span class="line">                username,</span><br><span class="line">            &#125;)</span><br><span class="line">        )</span><br><span class="line">        ws.<span class="title function_">close</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;, [])</span><br></pre></td></tr></table></figure><h3 id="2-短轮询"><a href="#2-短轮询" class="headerlink" title="2. 短轮询"></a>2. 短轮询</h3><p>概述： 浏览器每隔一段时间向浏览器发送 http 请求，服务器端在收到请求后，不论是否有数据更新，都直接进行响应。 </p><h3 id="3-长轮询"><a href="#3-长轮询" class="headerlink" title="3. 长轮询"></a>3. 长轮询</h3><p>概述： 首先由客户端向服务器发起请求，当服务器收到客户端发来的请求后，服务器端不会直接进行响应，而是先将这个请求挂起，然后判断服务器端数据是否有更新。如果有更新，则进行响应，如果一直没有数据，则到达一定的时间限制才返回。 </p><h2 id="十、浏览器的Devtool的使用"><a href="#十、浏览器的Devtool的使用" class="headerlink" title="十、浏览器的Devtool的使用"></a>十、浏览器的Devtool的使用</h2><h3 id="元素面板-Elements"><a href="#元素面板-Elements" class="headerlink" title="元素面板 Elements"></a>元素面板 Elements</h3><p>能在元素面板查看选择当前页的DOM树，能够实时的修改和调试。</p><p>可以再每行代码前面右键添加断点。属性改变，子节点改变，节点删除。</p><p>可以右键选择节点的状态：<code>active``:hovwe</code>等等</p><h3 id="网络面板-Network"><a href="#网络面板-Network" class="headerlink" title="网络面板 Network"></a>网络面板 Network</h3><p>与后端调试接口时，有时候会重新请求一次(Replay XHR)或者阻断请求(Block request URL)</p><p>查看请求参数和请求到的数据</p><h3 id="性能面板-Performance"><a href="#性能面板-Performance" class="headerlink" title="性能面板 Performance"></a>性能面板 Performance</h3><p>在这个面板你可以录制一段操作，然后查看录制期间的一些页面性能信息，录制前有几个选项可选，包括网络环境模拟，CPU速度模拟，是否开启录制期间截屏 </p><h3 id="控制台面板-Console"><a href="#控制台面板-Console" class="headerlink" title="控制台面板 Console"></a>控制台面板 Console</h3><p>打印输出调试bug，观察数据结构</p><h3 id="源代码面板-Sources"><a href="#源代码面板-Sources" class="headerlink" title="源代码面板 Sources"></a>源代码面板 Sources</h3><p>可以看到一些原文件和代码</p><p> 类似元素面板中设置<strong>断点（debugger）</strong>，这里也可以在每一行代码前设置断点，利用这些断点使代码运行到适当的时候或位置停下来，以便查看特定时刻的变量值、调用堆栈、样式等； </p><h3 id="内存面板-Memory"><a href="#内存面板-Memory" class="headerlink" title="内存面板 Memory"></a>内存面板 Memory</h3><p> 在此面板录制，可以使用CPU 分析器识别开销大的<strong>js函数</strong>。 </p><p> CPU 分析器准确地记录调用了哪些函数和每个函数花费的时间。也可以将配置文件可视化为火焰图。（执行js比较卡的时候可以用这个工具来查找原因）； </p><h3 id="应用面板-Application"><a href="#应用面板-Application" class="headerlink" title="应用面板 Application"></a>应用面板 Application</h3><p> 查看和修改Local Storage与Session Storage，并可查看cookies： </p>]]></content>
      
      
      <categories>
          
          <category> 项目总结 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 项目总结 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AJAX和Axios笔记</title>
      <link href="/79333/2021/08/11/ajax%E5%92%8Caxios%E7%AC%94%E8%AE%B0/"/>
      <url>/79333/2021/08/11/ajax%E5%92%8Caxios%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="AJAX发送请求"><a href="#AJAX发送请求" class="headerlink" title="AJAX发送请求"></a>AJAX发送请求</h2><h3 id="1、get请求"><a href="#1、get请求" class="headerlink" title="1、get请求"></a>1、get请求</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 创建ajax实例对象</span></span><br><span class="line">    <span class="keyword">let</span> ajax = <span class="title class_">XMLHttpRequest</span> ? <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>() : <span class="keyword">new</span> <span class="title class_">ActiveXObject</span>(<span class="string">&#x27;Microsoft.XMLHTTP&#x27;</span>)</span><br><span class="line">    <span class="comment">// 打开 ajax 对象</span></span><br><span class="line">    ajax.<span class="title function_">open</span>(<span class="string">&#x27;get&#x27;</span>, url, <span class="literal">true</span>)</span><br><span class="line">    <span class="comment">// 设置请求成功的回调函数</span></span><br><span class="line">    ajax.<span class="property">onreadystatechange</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (ajax.<span class="property">readyState</span> == <span class="number">4</span> &amp;&amp; ajax.<span class="property">status</span> == <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> data = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(ajax.<span class="property">response</span>)</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 发送ajax 请求</span></span><br><span class="line">    ajax.<span class="title function_">send</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2、post请求"><a href="#2、post请求" class="headerlink" title="2、post请求"></a>2、post请求</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">post</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 创建ajax实例化对象</span></span><br><span class="line">    <span class="keyword">let</span> ajax = <span class="title class_">XMLHttpRequest</span> ? <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>() :</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">ActiveXObject</span>(<span class="string">&#x27;microsoft.XMLHTTP&#x27;</span>)</span><br><span class="line">    <span class="comment">// 打开ajax对象</span></span><br><span class="line">    ajax.<span class="title function_">open</span>(<span class="string">&#x27;post&#x27;</span>, header)</span><br><span class="line">    <span class="comment">// 配置post请求头</span></span><br><span class="line">    ajax.<span class="title function_">setRequestHeader</span>(<span class="string">&#x27;content-type&#x27;</span>,<span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>)</span><br><span class="line">    <span class="comment">// 请求成功后的回调函数</span></span><br><span class="line">    ajax.<span class="property">onreadystatechange</span> =<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (ajax.<span class="property">readyState</span> == <span class="number">4</span> &amp;&amp; ajax.<span class="property">status</span> == <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> data = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(ajax.<span class="property">response</span>)</span><br><span class="line">            <span class="keyword">if</span> (data.<span class="property">code</span> == <span class="number">200</span>) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ajax.<span class="title function_">send</span>(url)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3、ajax封装"><a href="#3、ajax封装" class="headerlink" title="3、ajax封装"></a>3、ajax封装</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myAjax</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        options = options || &#123;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 参数默认值</span></span><br><span class="line">        <span class="keyword">let</span> method = options.<span class="property">method</span> || <span class="string">&#x27;get&#x27;</span></span><br><span class="line">        <span class="comment">// 请求地址</span></span><br><span class="line">        <span class="keyword">let</span> url = options.<span class="property">url</span> || <span class="literal">null</span></span><br><span class="line">        <span class="comment">// 请求发送数据(对象)</span></span><br><span class="line">        <span class="keyword">let</span> data = options.<span class="property">data</span> || <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">// 请求头</span></span><br><span class="line">        <span class="keyword">let</span> headers = options.<span class="property">headers</span> || &#123;&#125;;</span><br><span class="line">        <span class="comment">// 请求方式(异步或者同步)</span></span><br><span class="line">        <span class="keyword">let</span> <span class="keyword">async</span> = options.<span class="property">async</span> || <span class="literal">true</span>;</span><br><span class="line">    </span><br><span class="line">        <span class="comment">// 将对象格式化为字符串的形式</span></span><br><span class="line">        data = <span class="title function_">formatData</span>(data)</span><br><span class="line">    </span><br><span class="line">        <span class="comment">// ajax实例化</span></span><br><span class="line">        <span class="keyword">let</span> xhr = <span class="title class_">XMLHttpRequest</span> ? <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>() : <span class="keyword">new</span> <span class="title class_">ActiveXObject</span>(<span class="string">&#x27;Microsoft.XMLHTTP&#x27;</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 判断请求方式</span></span><br><span class="line">        <span class="comment">// 将方法转化为小写的</span></span><br><span class="line">        <span class="keyword">if</span> (method.<span class="title function_">toLowerCase</span>() === <span class="string">&#x27;get&#x27;</span>) &#123;</span><br><span class="line">            <span class="comment">// 打开请求</span></span><br><span class="line">            xhr.<span class="title function_">open</span>(method,url +<span class="string">&#x27;?&#x27;</span>+ data,<span class="keyword">async</span>)</span><br><span class="line">            <span class="comment">// 发送请求</span></span><br><span class="line">            xhr.<span class="title function_">send</span>(<span class="literal">null</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (method.<span class="title function_">toLowerCase</span>() === <span class="string">&#x27;post&#x27;</span>) &#123;</span><br><span class="line">            <span class="comment">// 打开请求</span></span><br><span class="line">            xhr.<span class="title function_">open</span>(method,url,<span class="keyword">async</span>)</span><br><span class="line">            <span class="comment">// 设置请求头</span></span><br><span class="line">            xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>,<span class="string">&#x27;application/x-www-form-urlencoded;charset = utf-8&#x27;</span>)</span><br><span class="line">            <span class="comment">// 发送请求</span></span><br><span class="line">            xhr.<span class="title function_">send</span>(data)</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="comment">// 事件监听</span></span><br><span class="line">        xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">// 判断xhr的状态</span></span><br><span class="line">            <span class="keyword">if</span> (xhr.<span class="property">readyState</span> !== <span class="number">4</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 判断xhr的状态码</span></span><br><span class="line">            <span class="keyword">if</span> (xhr.<span class="property">status</span> &gt;= <span class="number">200</span> &amp;&amp; xhr.<span class="property">status</span> &lt; <span class="number">300</span> || xhr.<span class="property">status</span> == <span class="number">304</span>) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;后端返回的数据&#x27;</span>,xhr.<span class="property">responseText</span>);</span><br><span class="line">                <span class="title function_">resolve</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(xhr.<span class="property">responseText</span>))</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="title function_">reject</span>(xhr.<span class="property">status</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line">   </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 将对象转化为字符串形式</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">formatData</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (data) &#123;</span><br><span class="line">        <span class="keyword">let</span> arr = []</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> data) &#123;</span><br><span class="line">            arr.<span class="title function_">push</span>(key + <span class="string">&#x27;=&#x27;</span> + data[key])</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> arr.<span class="title function_">join</span>(<span class="string">&#x27;&amp;&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3、class封装ajax"><a href="#3、class封装ajax" class="headerlink" title="3、class封装ajax"></a>3、class封装ajax</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ajax</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">config</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_xhr</span> = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">request</span>(config)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// get 情况下需要拼接字符格式</span></span><br><span class="line">  <span class="title function_">serialize</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> params = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> data) &#123;</span><br><span class="line">      params += <span class="string">`<span class="subst">$&#123;key&#125;</span>=<span class="subst">$&#123;data[key]&#125;</span>&amp;`</span></span><br><span class="line">    &#125;</span><br><span class="line">    params = <span class="string">&#x27;?&#x27;</span> + params.<span class="title function_">substring</span>(<span class="number">0</span>, params.<span class="property">length</span> - <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> params</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 传入参数预处理</span></span><br><span class="line">  <span class="title function_">config</span>(<span class="params">&#123;</span></span><br><span class="line"><span class="params">    baseURL = <span class="string">&#x27;&#x27;</span>, // 前缀</span></span><br><span class="line"><span class="params">    url = <span class="string">&#x27;&#x27;</span>, // 路径</span></span><br><span class="line"><span class="params">    data = &#123;&#125;, // 传入的参数</span></span><br><span class="line"><span class="params">    method = <span class="string">&#x27;get&#x27;</span>,</span></span><br><span class="line"><span class="params">    timeout = <span class="number">1000</span> * <span class="number">5</span>, // 默认等待 5s</span></span><br><span class="line"><span class="params">    header = &#123; // 请求头</span></span><br><span class="line"><span class="params">      <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json; charset=UTF-8&#x27;</span>,</span></span><br><span class="line"><span class="params">    &#125;,</span></span><br><span class="line"><span class="params">  &#125;</span>) &#123;</span><br><span class="line">    method = method.<span class="title function_">toUpperCase</span>() <span class="comment">// 统一转换为大写</span></span><br><span class="line">    url = baseURL + url</span><br><span class="line">    <span class="keyword">const</span> serializeData = <span class="variable language_">this</span>.<span class="title function_">serialize</span>(data)</span><br><span class="line">    <span class="keyword">if</span> (method === <span class="string">&#x27;GET&#x27;</span>) url = url + serializeData</span><br><span class="line">    data = (method === <span class="string">&#x27;GET&#x27;</span>) ? <span class="literal">null</span> : serializeData;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> config = &#123;</span><br><span class="line">      baseURL,</span><br><span class="line">      url,</span><br><span class="line">      data,</span><br><span class="line">      method,</span><br><span class="line">      timeout,</span><br><span class="line">      header,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// xhr 请求方式</span></span><br><span class="line">  <span class="title function_">request</span>(<span class="params">config</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; url, method, data, timeout, header &#125; = <span class="variable language_">this</span>.<span class="title function_">config</span>(config)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> xhr</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">XMLHttpRequest</span>) xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_xhr</span> = xhr</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 返回 promise 对象</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (!xhr) <span class="title function_">reject</span>(<span class="string">&#x27;版本不支持&#x27;</span>)</span><br><span class="line"></span><br><span class="line">      xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span>)&#123;</span><br><span class="line">          <span class="keyword">if</span>(xhr.<span class="property">status</span> &gt;= <span class="number">200</span> &amp;&amp; xhr.<span class="property">status</span> &lt; <span class="number">300</span> || xhr.<span class="property">status</span> == <span class="number">304</span>) &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(xhr.<span class="property">responseText</span>)</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> error = &#123;</span><br><span class="line">              <span class="attr">status</span>: xhr.<span class="property">status</span>,</span><br><span class="line">              <span class="attr">err</span>: xhr.<span class="property">statusText</span></span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="title function_">reject</span>(error)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 请求超时</span></span><br><span class="line">      xhr.<span class="property">timeout</span> = timeout</span><br><span class="line">      xhr.<span class="property">ontimeout</span> = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;timeout&#x27;</span>, e)</span><br><span class="line">        <span class="title function_">reject</span>(e)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      xhr.<span class="title function_">open</span>(method, url, <span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 设置请求头</span></span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">const</span> key <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">keys</span>(header)) &#123;</span><br><span class="line">        xhr.<span class="title function_">setRequestHeader</span>(key, header[key])</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      xhr.<span class="title function_">send</span>(data)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">get</span>(<span class="params">url, params = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> config = &#123;</span><br><span class="line">      url,</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">      <span class="attr">data</span>: &#123;</span><br><span class="line">        ...params</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">request</span>(config)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">post</span>(<span class="params">url, data = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> config = &#123;</span><br><span class="line">      url,</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">      <span class="attr">data</span>: &#123;</span><br><span class="line">        ...data</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">request</span>(config)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Ajax</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 升级优化</span></span><br><span class="line"><span class="comment">// 判断请求类型是否为GET</span></span><br><span class="line"><span class="comment">// let isGet = /^(GET|DELETE|HEAD)$/i.test(method)</span></span><br><span class="line"><span class="comment">// 判断url有没有？，有的话就添加&amp;</span></span><br><span class="line"><span class="comment">// let symbol = url.indexOf(&#x27;?&#x27;)&gt;-1 ? &#x27;&amp;&#x27; : &#x27;?&#x27;</span></span><br><span class="line"><span class="comment">// GET系列请求才处理cache</span></span><br><span class="line"><span class="comment">// if(isGet)&#123;</span></span><br><span class="line"><span class="comment">//   !cache ? url+= `$&#123;symbol&#125;_$&#123;Math.random()&#125;`: null</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure><h1 id="Axios封装"><a href="#Axios封装" class="headerlink" title="Axios封装"></a>Axios封装</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"><span class="comment">// import store from &#x27;@/store/index&#x27;</span></span><br><span class="line"><span class="comment">// import QS from &#x27;qs&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;../router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;  <span class="title class_">Message</span>,<span class="title class_">Loading</span> &#125; <span class="keyword">from</span> <span class="string">&quot;element-ui&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 我们的项目环境可能有开发环境、测试环境和生产环境。我们通过node的环境变量来匹配我们的默认的接口url前缀</span></span><br><span class="line"><span class="comment">// 环境的切换</span></span><br><span class="line"><span class="keyword">let</span> baseURL;</span><br><span class="line"><span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> == <span class="string">&quot;development&quot;</span>) &#123;</span><br><span class="line">  baseURL = <span class="string">&quot;http://172.16.101.8:8010&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> == <span class="string">&quot;test&quot;</span>) &#123;</span><br><span class="line">  <span class="comment">// 测试</span></span><br><span class="line">  baseURL = <span class="string">&quot;/test&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> == <span class="string">&quot;production&quot;</span>) &#123;</span><br><span class="line">  baseURL = <span class="string">&quot;https://www.faychou.com&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 实例化 axios</span></span><br><span class="line"><span class="keyword">const</span> instance = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  baseURL, <span class="comment">// 设置 axios 的默认请求地址</span></span><br><span class="line">  <span class="comment">// timeout: 5000, // 请求超时</span></span><br><span class="line">  <span class="attr">headers</span>: &#123;</span><br><span class="line">    <span class="comment">// 可定义统一的请求头部</span></span><br><span class="line">    <span class="attr">post</span>: &#123;</span><br><span class="line">      <span class="comment">// &#x27;Content-Type&#x27;: &#x27;application/json&#x27;</span></span><br><span class="line">      <span class="comment">// 如果后端不支持 JSON 数据，则需要设置 application/x-www-form-urlencoded;charset=UTF-8</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> loadingInstance;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 请求拦截器(在发送请求之前做些什么：统一处理 token，显示loading 等等)</span></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// const token = store.state.token</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;发送请求前&quot;</span>);</span><br><span class="line">    <span class="comment">// 可添加开启loading效果的函数</span></span><br><span class="line">    <span class="comment">// loadingInstance = Loading.service();</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// token 存在就添加到请求头里</span></span><br><span class="line">    <span class="comment">// 这个写法是 nodejs 的格式，必须在 Authorization 中加上 token，并且 token 前必须加上 &#x27;Bearer &#x27; 字符串</span></span><br><span class="line">    <span class="comment">// java 不需要 &#x27;Bearer &#x27; 前缀，也可能将 token 放在 Authorization 字段也可能放在 Auth 字段</span></span><br><span class="line">    <span class="comment">// token &amp;&amp; (config.headers.Authorization = &#x27;Bearer &#x27; + token)</span></span><br><span class="line">    <span class="comment">// token &amp;&amp; (config.headers.Auth = token)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 过滤请求参数中的 null undefined &#x27;&#x27;的函数</span></span><br><span class="line">    <span class="comment">// cleanObject()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 如果是以 application/x-www-form-urlencoded;charset=UTF-8 格式提交数据</span></span><br><span class="line">    <span class="comment">// 则需要将 POST 的数据序列化 QS.stringify(params)</span></span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">error</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 响应拦截器(对响应数据做点什么)</span></span><br><span class="line">instance.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 可添加关闭 loading 效果的函数</span></span><br><span class="line">    loadingInstance.<span class="title function_">close</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 如果返回的状态码为 200，说明接口请求成功，可以正常拿到数据</span></span><br><span class="line">    <span class="comment">// 否则的话抛出错误</span></span><br><span class="line">    <span class="keyword">if</span> (response.<span class="property">status</span> == <span class="number">200</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(response.<span class="property">data</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(response);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    loadingInstance.<span class="title function_">close</span>(); <span class="comment">// 可添加关闭loading效果的函数</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 跟后台开发人员协商好统一的错误状态码</span></span><br><span class="line">    <span class="comment">// 然后根据返回的状态码进行一些操作，例如登录过期提示，错误提示等等</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (error.<span class="property">response</span>.<span class="property">status</span> === <span class="number">401</span>) &#123;</span><br><span class="line">      <span class="comment">// 未登录则跳转登录页面，并携带当前页面的路径</span></span><br><span class="line">      <span class="title class_">Message</span>.<span class="title function_">error</span>(<span class="string">&quot;请登录！&quot;</span>);</span><br><span class="line">      router.<span class="title function_">replace</span>(&#123;</span><br><span class="line">        <span class="comment">// 回退登录页</span></span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/login&quot;</span>,</span><br><span class="line">        <span class="attr">query</span>: &#123;</span><br><span class="line">          <span class="comment">// 参数</span></span><br><span class="line">          <span class="attr">redirect</span>: router.<span class="property">currentRoute</span>.<span class="property">fullPath</span>, <span class="comment">// 记录你想访问的路径，那么登陆后可以实现直接跳转到该路径而不是首页</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (error.<span class="property">response</span>.<span class="property">status</span> === <span class="number">402</span>) &#123;</span><br><span class="line">      <span class="comment">//登录失败</span></span><br><span class="line">      <span class="title class_">Message</span>.<span class="title function_">error</span>(<span class="string">&quot;登录失败，账户密码错误，请重新登录&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (error.<span class="property">response</span>.<span class="property">status</span> === <span class="number">403</span>) &#123;</span><br><span class="line">      <span class="comment">// token 过期</span></span><br><span class="line">      <span class="comment">// Message.error(&#x27;token失效，请重新登录！&#x27;)</span></span><br><span class="line">      <span class="comment">// removeStorageToken() // 清除本地过期 token</span></span><br><span class="line">      router.<span class="title function_">replace</span>(&#123;</span><br><span class="line">        <span class="comment">// 回退登录页</span></span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/login&quot;</span>,</span><br><span class="line">        <span class="attr">query</span>: &#123;</span><br><span class="line">          <span class="attr">redirect</span>: router.<span class="property">currentRoute</span>.<span class="property">fullPath</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (error.<span class="property">response</span>.<span class="property">status</span> === <span class="number">404</span>) &#123;</span><br><span class="line">      <span class="comment">// 404</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (error.<span class="property">response</span>.<span class="property">status</span> === <span class="number">408</span>) &#123;</span><br><span class="line">      <span class="comment">// 超时</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (error.<span class="property">response</span>.<span class="property">status</span> === <span class="number">500</span>) &#123;</span><br><span class="line">      <span class="comment">// 500 错误</span></span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (!<span class="variable language_">window</span>.<span class="property">navigator</span>.<span class="property">onLine</span>) &#123;</span><br><span class="line">        <span class="comment">// Message.warning(&#x27;网络异常，请检查网络是否正常连接&#x27;)</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// Message.warning(&#x27;服务器异常，请联系管理员&#x27;)</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    error.<span class="property">name</span> = <span class="string">&quot;aaaaaaaaaa&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error); <span class="comment">// 将错误继续返回给到具体页面</span></span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> instance;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>发送请求</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// get 请求</span></span><br><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">$http</span>.<span class="title function_">get</span>(<span class="string">&#x27;/fuwu/findshoufukuanAll&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">params</span>: &#123;</span><br><span class="line">        <span class="attr">currentPage</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">pageSize</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">clean_order_number</span>: <span class="string">&#x27;11222&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res, <span class="string">&#x27;财务信息&#x27;</span>);</span><br><span class="line"><span class="comment">// 或者 放在url</span></span><br><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">axios</span>.<span class="title function_">get</span>(<span class="string">&#x27;/teachers/showTeacher?id=&#x27;</span> + id)</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> <span class="variable language_">this</span>.$http(&#123;</span><br><span class="line">     <span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">     <span class="attr">url</span>: <span class="string">&#x27;/fuwu/findtixin&#x27;</span>,</span><br><span class="line">     <span class="attr">params</span>: &#123;</span><br><span class="line">         <span class="attr">currentPage</span>: <span class="variable language_">this</span>.<span class="property">query</span>.<span class="property">currentPage</span>,</span><br><span class="line">         <span class="attr">pageSize</span>: <span class="variable language_">this</span>.<span class="property">query</span>.<span class="property">pageSize</span></span><br><span class="line">     &#125;</span><br><span class="line"> &#125;)</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">// post 请求</span></span><br><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">$http</span>.<span class="title function_">post</span>(<span class="string">&#x27;/fuwu/findshoufukuanAll&#x27;</span>, </span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">currentPage</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">pageSize</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">clean_order_number</span>: <span class="string">&#x27;11222&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res, <span class="string">&#x27;财务信息&#x27;</span>);</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">axios</span>.<span class="title function_">post</span>(<span class="string">&#x27;/teachers/delTeacher&#x27;</span>, &#123; id &#125;)</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="keyword">const</span> res = <span class="keyword">await</span> <span class="variable language_">this</span>.$http(&#123;</span><br><span class="line">     <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">     <span class="attr">url</span>: <span class="string">&#x27;/fuwu/findtixin&#x27;</span>,</span><br><span class="line">     <span class="attr">data</span>: &#123;</span><br><span class="line">         <span class="attr">currentPage</span>: <span class="variable language_">this</span>.<span class="property">query</span>.<span class="property">currentPage</span>,</span><br><span class="line">         <span class="attr">pageSize</span>: <span class="variable language_">this</span>.<span class="property">query</span>.<span class="property">pageSize</span></span><br><span class="line">     &#125;</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程 </tag>
            
            <tag> AJAX </tag>
            
            <tag> Axios </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React笔记</title>
      <link href="/79333/2021/08/10/React%E7%AC%94%E8%AE%B0/"/>
      <url>/79333/2021/08/10/React%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<p>官网：<a href="https://react.docschina.org/">https://react.docschina.org/</a></p><h2 id="一、React简介"><a href="#一、React简介" class="headerlink" title="一、React简介"></a>一、React简介</h2><h3 id="1-React入门"><a href="#1-React入门" class="headerlink" title="1. React入门"></a>1. React入门</h3><p>概述：React用于构建用户界面的轻量级的JS库，只关注 MVC 中的V（视图）。</p><p>特点：</p><ul><li>单向数据流</li><li>组件化</li><li>虚拟 DOM</li></ul><h3 id="2-React项目创建"><a href="#2-React项目创建" class="headerlink" title="2. React项目创建"></a>2. React项目创建</h3><h4 id="2-1-官方脚手架"><a href="#2-1-官方脚手架" class="headerlink" title="2.1 官方脚手架"></a>2.1 官方脚手架</h4><p><code>npx create-react-app 项目名</code></p><p>npm6+</p><p><code>npm init react-app 项目名</code></p><h4 id="2-2-vite"><a href="#2-2-vite" class="headerlink" title="2.2 vite"></a>2.2 vite</h4><p><code>npm create vite@last 项目名 -- --template react</code></p><h4 id="2-3-redux"><a href="#2-3-redux" class="headerlink" title="2.3 redux"></a>2.3 redux</h4><p>新项目：</p><p><code>npx create-react-app 项目名 --template redux</code></p><p><code>npx create-react-app 项目名 --template redux-typescript</code></p><p>老项目：</p><p><code>npm i redux react-redux</code></p><h4 id="2-4-redux-thunk"><a href="#2-4-redux-thunk" class="headerlink" title="2.4 redux-thunk"></a>2.4 redux-thunk</h4><p><code>npm i redux-thunk</code></p><h4 id="2-5-index-html"><a href="#2-5-index-html" class="headerlink" title="2.5 index.html"></a>2.5 index.html</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--%PUBLIC_URL%表示public文件夹的路径--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">href</span>=<span class="string">&quot;%PUBLIC_URL%/favicon.ico&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--用于开启理想视口，用于移动端页面的适配--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--用于配置浏览器地址栏的颜色（仅支持安卓手机浏览器）--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;theme-color&quot;</span> <span class="attr">content</span>=<span class="string">&quot;#000000&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--描述网页信息的--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span></span></span><br><span class="line"><span class="tag">      <span class="attr">name</span>=<span class="string">&quot;description&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">content</span>=<span class="string">&quot;Web site created using create-react-app&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--用于指定网页添加到手机主屏幕后的图标（仅仅支持ios）--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;apple-touch-icon&quot;</span> <span class="attr">href</span>=<span class="string">&quot;%PUBLIC_URL%/logo192.png&quot;</span> /&gt;</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">&lt;!--应用加壳时候的配置文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;manifest&quot;</span> <span class="attr">href</span>=<span class="string">&quot;%PUBLIC_URL%/manifest.json&quot;</span> /&gt;</span></span><br><span class="line">  </span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>React App<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 浏览器不支持JS的运行的时候展现 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">noscript</span>&gt;</span>You need to enable JavaScript to run this app.<span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-6-路由"><a href="#2-6-路由" class="headerlink" title="2.6 路由"></a>2.6 路由</h4><p><code>npm install react-router-dom</code></p><h3 id="3-JSX语法"><a href="#3-JSX语法" class="headerlink" title="3. JSX语法"></a>3. JSX语法</h3><ul><li>可以直接将标签赋值给变量</li><li>如果要在标签之间插入JS变量或者JS表达式，必须使用{}</li><li>需要替换部分的关键字，如标签上的 class 写为 className , for 写为 htmlFor</li><li>事件绑定要使用小驼峰的写法，如onClick</li><li>所有的标签必须闭合，即 <img>必须写为<img/></li><li>标签中的注释需要写在 {} 中</li><li>当变量是 Number,String 时可以直接显示</li><li>当变量是Null,Undefined,Boolean,就会显示空</li><li>如果是Object则不能直接渲染</li><li>如果是数组，那么会直接展开数组</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 插入变量</span></span><br><span class="line"><span class="keyword">const</span> title = <span class="string">&#x27;您好&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> head = <span class="language-xml"><span class="tag">&lt;<span class="name">header</span>&gt;</span>&#123;title&#125;<span class="tag">&lt;/<span class="name">header</span>&gt;</span></span>;</span><br><span class="line">&#123;head&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用函数</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">sum</span> = (<span class="params"></span>) =&gt; <span class="number">3</span>;</span><br><span class="line">&#123;<span class="title function_">sum</span>()&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 属性绑定</span></span><br><span class="line"><span class="keyword">const</span> title = <span class="string">&#x27;您好&#x27;</span>;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">title</span>=<span class="string">&#123;title&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  style 绑定</span></span><br><span class="line"><span class="keyword">const</span> style = &#123;</span><br><span class="line">    <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">    <span class="attr">backgroundColor</span>: <span class="string">&#x27;yellow&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&#123;style&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  class 绑定</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">className</span>=<span class="string">&#123;n</span> ? &#x27;<span class="attr">on</span>&#x27; <span class="attr">:</span> &#x27;&#x27;&#125;&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">className</span>=<span class="string">&#123;[</span>&#x27;<span class="attr">class1</span>&#x27;, &#x27;<span class="attr">class2</span>&#x27;, (<span class="attr">n</span> ? &#x27;<span class="attr">on</span>&#x27; <span class="attr">:</span> &#x27;&#x27;)]<span class="attr">.join</span>(&#x27; &#x27;)&#125;&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 条件渲染</span></span><br><span class="line"><span class="comment">// if</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">dom</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>flag 为 true<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>flag 为 false<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 三元</span></span><br><span class="line">flag ? <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>flag 为 true<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span> : <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>flag 为 false<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// &amp;&amp;</span></span><br><span class="line">    flag &amp;&amp; <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>flag 为 true<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 列表渲染</span></span><br><span class="line"><span class="keyword">const</span> data = [</span><br><span class="line"><span class="string">&#x27;aa&#x27;</span>, <span class="string">&#x27;bb&#x27;</span>, <span class="string">&#x27;cc&#x27;</span>, <span class="string">&#x27;dd&#x27;</span></span><br><span class="line">]</span><br><span class="line"><span class="keyword">const</span> newData = data.<span class="title function_">map</span>(<span class="params">(item, index) =&gt; &lt;li key=&#123;index&#125;&gt;&#123;item&#125;&lt;/li&gt;</span>)</span><br><span class="line"></span><br><span class="line">&#123;newData&#125;</span><br></pre></td></tr></table></figure><h3 id="4-跨域"><a href="#4-跨域" class="headerlink" title="4. 跨域"></a>4. 跨域</h3><p>解决：</p><h4 id="方法一：proxy"><a href="#方法一：proxy" class="headerlink" title="方法一：proxy"></a>方法一：proxy</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在package.json中追加如下配置</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;proxy&quot;</span>:<span class="string">&quot;请求的地址&quot;</span>      <span class="string">&quot;proxy&quot;</span>:<span class="string">&quot;http://localhost:5000&quot;</span>  </span><br></pre></td></tr></table></figure><p>说明：</p><ol><li>优点：配置简单，前端请求资源时可以不加任何前缀。</li><li>缺点：不能配置多个代理。</li><li>工作方式：上述方式配置代理，当请求了3000不存在的资源时，那么该请求会转发给5000 （优先匹配前端资源）</li></ol><h4 id="方法二：创建代理配置文件"><a href="#方法二：创建代理配置文件" class="headerlink" title="方法二：创建代理配置文件"></a>方法二：创建代理配置文件</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在src下创建配置文件：src/setupProxy.<span class="property">js</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> proxy = <span class="built_in">require</span>(<span class="string">&#x27;http-proxy-middleware&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span>(<span class="params">app</span>) &#123;</span><br><span class="line">  app.<span class="title function_">use</span>(</span><br><span class="line">    <span class="title function_">proxy</span>(<span class="string">&#x27;/api1&#x27;</span>, &#123;  <span class="comment">//api1是需要转发的请求(所有带有/api1前缀的请求都会转发给5000)</span></span><br><span class="line">      <span class="attr">target</span>: <span class="string">&#x27;http://localhost:5000&#x27;</span>, <span class="comment">//配置转发目标地址(能返回数据的服务器地址)</span></span><br><span class="line">      <span class="attr">changeOrigin</span>: <span class="literal">true</span>, <span class="comment">//控制服务器接收到的请求头中host字段的值</span></span><br><span class="line">      <span class="comment">/*</span></span><br><span class="line"><span class="comment">      changeOrigin设置为true时，服务器收到的请求头中的host为：localhost:5000</span></span><br><span class="line"><span class="comment">      changeOrigin设置为false时，服务器收到的请求头中的host为：localhost:3000</span></span><br><span class="line"><span class="comment">      changeOrigin默认值为false，但我们一般将changeOrigin值设为true</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">      <span class="attr">pathRewrite</span>: &#123;<span class="string">&#x27;^/api1&#x27;</span>: <span class="string">&#x27;&#x27;</span>&#125; <span class="comment">//去除请求前缀，保证交给后台服务器的是正常请求地址(必须配置)</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="title function_">proxy</span>(<span class="string">&#x27;/api2&#x27;</span>, &#123; </span><br><span class="line">      <span class="attr">target</span>: <span class="string">&#x27;http://localhost:5001&#x27;</span>,</span><br><span class="line">      <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">pathRewrite</span>: &#123;<span class="string">&#x27;^/api2&#x27;</span>: <span class="string">&#x27;&#x27;</span>&#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>说明：</p><ol><li>优点：可以配置多个代理，可以灵活的控制请求是否走代理。</li><li>缺点：配置繁琐，前端请求资源时必须加前缀。</li></ol><h3 id="5-React-和-Vue的区别"><a href="#5-React-和-Vue的区别" class="headerlink" title="5. React 和 Vue的区别"></a>5. React 和 Vue的区别</h3><p>相同点：</p><ul><li>数据驱动视图</li><li>组件化思想</li><li>都是用虚拟Dom</li></ul><p>不同点：</p><ul><li>核心思想不通：<ul><li>Vue为渐进式框架，门槛较低，进行数据劫持或者代理</li><li>React函数式编程，数据不可变以及单向数据流</li></ul></li><li>组件写法差异：<ul><li>Vue单文件组建格式，即html,css,js写在同一个文件</li><li>React为html和css都写进js中</li></ul></li><li>diff算法不同：<ul><li>react 首先对新集合进行遍历，通过唯一key值来判断新旧集合中是否存在相同的节点，如果没有的话就创建，如果有的话就会将节点在新集合中的位置和老集合中的位置进行比较，如果不同，则进行移动操作，否则就不操作。如果在遍历的过程中，发现在新集合中没有，就会进行删除操作。</li><li>Vue新旧集合各有头尾的变量，他们的2各变量相互比较，一共有四种比较方式，如果四种都没匹配，则会匹配key值，借助key值找到可复用的节点，在进行相关操作。</li></ul></li><li>响应式原理不同：</li><li><ul><li>Vue依赖收集，自动依赖，数据可变。递归监听data中的所有属性，直接修改，当数据改变时，自动找到引用组件重新渲染。</li><li>React基于状态手动优化，数据不可变，需要setState驱动新的state替换老的state。当数据改变时，以组件为根目录，默认全部重新渲染，所以React中会需要shouldComponentUpdate这个生命周期函数来进行控制。</li></ul></li></ul><h2 id="二、React核心"><a href="#二、React核心" class="headerlink" title="二、React核心"></a>二、React核心</h2><h3 id="1-组件化"><a href="#1-组件化" class="headerlink" title="1. 组件化"></a>1. 组件化</h3><p>概述：组件允许将 UI 部分拆违可独立使用的代码片段</p><p>组件划分：</p><ul><li><code>class</code> 组件：使用class 去创建组件，可以包含逻辑和状态</li><li>函数组件：以函数为组件，目前可以为函数组件添加状态</li></ul><h4 id="1-1-class-组件"><a href="#1-1-class-组件" class="headerlink" title="1.1 class 组件"></a>1.1 class 组件</h4><p>概述：每一个组件一个文件。该文件后缀可以是 js 也可以是 jsx</p><h5 id="执行过程"><a href="#执行过程" class="headerlink" title="执行过程"></a>执行过程</h5><ul><li>React解析组件标签，找到相应的组件 </li><li>发现组建时类定义的，随后 <code>new </code>出来的类的实例，并通过该实例调用到原型上的 <code>render </code>方法</li><li>将 <code>render</code> 返回的虚拟 DOM 转化为真实的 DOM ，随后呈现在页面中</li></ul><h5 id="1-1-1-语法"><a href="#1-1-1-语法" class="headerlink" title="1.1.1 语法"></a>1.1.1 语法</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">写法一：在constructor 中添加的状态</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line"><span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line"><span class="variable language_">super</span>(props) <span class="comment">// 继承必须在这里调用 super</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = &#123;&#125; <span class="comment">// class 组件的data，响应式数据</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123; <span class="comment">// 每一个class 组件必须设置 render，然后在 render 中返回dom 节点</span></span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>React<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 写法2：ES7 class 实验性质写法</span></span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">App</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">    state = &#123;&#125;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">      <span class="variable language_">super</span>(props); <span class="comment">// 继承必须在这里调用 super</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure><h5 id="1-1-2-修改数据"><a href="#1-1-2-修改数据" class="headerlink" title="1.1.2 修改数据"></a>1.1.2 修改数据</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 只能调用 setState 方法去修改 state。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 语法</span></span><br><span class="line"><span class="title function_">setState</span>(updater[ ,callback])</span><br><span class="line">    * updater： 可以接受对象类型，也可以接受函数类型；</span><br><span class="line">        * callback：可选参数，在 state 修改之后执行的回调函数；</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">            <span class="attr">count</span>: <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">                      <span class="comment">// 基于之前的值来修改</span></span><br><span class="line">                      <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">                      <span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span></span><br><span class="line">                      &#125;);</span><br><span class="line"><span class="comment">// 使用函数</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">setState</span>(<span class="function">(<span class="params">preState, props</span>) =&gt;</span> (&#123;</span><br><span class="line">    <span class="attr">count</span>: preState.<span class="property">count</span> + <span class="number">1</span></span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure><p>局部数据修改</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// const newUser = Object.assign(this.state.user, &#123; name: &#x27;lily&#x27; &#125;)</span></span><br><span class="line">    <span class="keyword">const</span> newUser = &#123;</span><br><span class="line">      ...<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">user</span>,</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;lily&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">user</span>: newUser</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><p>数组数据修改：</p><p>React 执行 diff 时是比较引用，直接修改源对象的值，引用值是不发生改变，React 无法检测到，就不会重新渲染，所以需要使用不可变对象（不直接改源对象，而是返回新对象）。即修改数组不能使用 push, splice 等等方法。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">arr</span>: [...<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">arr</span>, 新值]</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><h5 id="1-1-3-注意：state的更新是异步的"><a href="#1-1-3-注意：state的更新是异步的" class="headerlink" title="1.1.3 注意：state的更新是异步的"></a>1.1.3 注意：<code>state</code>的更新是异步的</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">changeC = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123; <span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span> &#125;);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123; <span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span> &#125;);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123; <span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span> &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 这里的结果是只增加了 1，原因是： state 的更新可能是异步的，出与性能的考虑，React 会把多个 setState 的调用合并为一个调用；</span></span><br></pre></td></tr></table></figure><p>setState 方法通过一个队列机制实现 state 更新，当执行 setState 的时候，会将更新的 state 合并后放入队列，而不会立即更新。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">如果不想 setState 被合并，那么需要传递函数来实现：</span><br><span class="line"></span><br><span class="line">changeC = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(<span class="function">(<span class="params">preState</span>) =&gt;</span> (&#123;</span><br><span class="line">        <span class="attr">count</span>: preState.<span class="property">count</span> + <span class="number">1</span></span><br><span class="line">    &#125;))</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(<span class="function">(<span class="params">preState</span>) =&gt;</span> (&#123;</span><br><span class="line">        <span class="attr">count</span>: preState.<span class="property">count</span> + <span class="number">1</span></span><br><span class="line">    &#125;))</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(<span class="function">(<span class="params">preState</span>) =&gt;</span> (&#123;</span><br><span class="line">        <span class="attr">count</span>: preState.<span class="property">count</span> + <span class="number">1</span></span><br><span class="line">    &#125;))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="1-1-4-事件处理"><a href="#1-1-4-事件处理" class="headerlink" title="1.1.4 事件处理"></a>1.1.4 事件处理</h5><p>绑定事件：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 写法1：需要在构造函数中绑定 this</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Counter</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 绑定函数 this 指向</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">changeCount</span> = <span class="variable language_">this</span>.<span class="property">changeCount</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">changeCount</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onClick</span>=<span class="string">&#123;this.changeCount&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 写法2：在 render 中绑定 this </span></span><br><span class="line"><span class="comment">// 会存在一个问题：即每次视图更新，都会重新绑定</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Counter</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">changeCount</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onClick</span>=<span class="string">&#123;this.changeCount.bind(this)&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 写法3：使用箭头函数</span></span><br><span class="line"><span class="comment">// 会存在一个问题：即每次视图更新，都会重新绑定</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Counter</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">changeCount</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> this.changeCount()&#125;&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 写法4 - ES7写法（实验性质）</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Counter</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    changeCount = <span class="function">() =&gt;</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onClick</span>=<span class="string">&#123;this.changeCount&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参数传递：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方式1</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Counter</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">changeCount</span>(<span class="params">str</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onClick</span>=<span class="string">&#123;this.changeCount.bind(this,</span> &#x27;<span class="attr">abc</span>&#x27;)&#125;&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式2</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Counter</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">changeCount</span>(<span class="params">str</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> this.changeCount(&#x27;abc&#x27;)&#125;&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式3 - 给标签自定义属性</span></span><br><span class="line">    &lt;button data-msg=<span class="string">&quot;hi&quot;</span> onClick=&#123;<span class="variable language_">this</span>.<span class="property">changeCount</span>&#125;&gt;&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">changeCount = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-2-函数组件"><a href="#1-2-函数组件" class="headerlink" title="1.2 函数组件"></a>1.2 函数组件</h4><p>概述：函数组件接受一个参数，该参数是父组件传递的props，组件内部必须返回 React 元素。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> 组件名(props) &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> ()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>事件处理：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">onHandler</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;事件&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;onHandler&#125;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="2-组件通信"><a href="#2-组件通信" class="headerlink" title="2. 组件通信"></a>2. 组件通信</h3><h4 id="2-1-props"><a href="#2-1-props" class="headerlink" title="2.1 props"></a>2.1 props</h4><p>概述：父组件传递给子组件的数据，子组件不能修改该数据，在 <code>class </code>组件中通过 <code>this.props </code>的方式获取。</p><p>使用：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 子组件</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Welcome</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;welcome&#x27;</span>&gt;</span>&#123;this.props.msg&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 父组件</span></span><br><span class="line">    &lt;<span class="title class_">Welcome</span> msg=<span class="string">&quot;Hi Props&quot;</span> /&gt;</span><br></pre></td></tr></table></figure><p>peops约束：因为从 React 15.x 开始移除了 props 约束，所以需要安装第三方模块实现</p><p><code>nom i --save prop-types</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">PropTypes</span> <span class="keyword">from</span> <span class="string">&#x27;prop-types&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Welcome</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;welcome&#x27;</span>&gt;</span>&#123;this.props.msg&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Welcome</span>.<span class="property">propTypes</span> = &#123;</span><br><span class="line">    <span class="attr">msg</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span></span><br><span class="line">    <span class="attr">msg</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-2-子传父"><a href="#2-2-子传父" class="headerlink" title="2.2 子传父"></a>2.2 子传父</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父组件 </span></span><br><span class="line">callback = <span class="function">(<span class="params">id</span>) =&gt;</span> &#123;&#125;</span><br><span class="line">    &lt;<span class="title class_">Button</span> callback=&#123;callback&#125;&gt;&lt;/<span class="title class_">Button</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 子组件 </span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">props</span>.<span class="title function_">callback</span>(<span class="string">&#x27;传递给父组件数据&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="2-3-context"><a href="#2-3-context" class="headerlink" title="2.3 context"></a>2.3 context</h4><p>概述：提供了一个无需为没曾组建手动添加 props ，就能在组件树中进行数据传递的方法。</p><p>使用：</p><ol><li>新建 <code>context</code>文件</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MyContext</span> = <span class="title class_">React</span>.<span class="title function_">createContext</span>([]) <span class="comment">// 创建一个</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">MyContext</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li>新建<code>Provider</code> 组件</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">MyContext</span> <span class="keyword">from</span> <span class="string">&#x27;./MyContext&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Provider</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    <span class="attr">msg</span>: <span class="string">&#x27;hello&#x27;</span>,</span><br><span class="line">    <span class="attr">list</span>: [],</span><br><span class="line">  &#125;</span><br><span class="line">  changeMsg = <span class="function">(<span class="params">msg</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      msg,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  addList = <span class="function">(<span class="params">todo</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">list</span>: [...<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">list</span>, todo],</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> value = &#123;</span><br><span class="line">      <span class="attr">msg</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">msg</span>,</span><br><span class="line">      <span class="attr">list</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">list</span>,</span><br><span class="line">      <span class="attr">changeMsg</span>: <span class="variable language_">this</span>.<span class="property">changeMsg</span>,</span><br><span class="line">      <span class="attr">addList</span>: <span class="variable language_">this</span>.<span class="property">addList</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">MyContext.Provider</span> <span class="attr">value</span>=<span class="string">&#123;value&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;this.props.children&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">MyContext.Provider</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="3"><li>class 组件使用 value</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">MyContext</span>.<span class="property">Consumer</span>&gt;</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;value.msg&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/<span class="title class_">MyContext</span>.<span class="property">Consumer</span>&gt;</span><br></pre></td></tr></table></figure><ol start="4"><li>函数组件使用</li></ol><p>概述： 允许在函数组件中使用 context 对象，在 context 值发生改变时重新渲染。</p><p>问题：context 的值发生改变，无论子组件是否引用 value， 都会导致 子组件重新渲染。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useContext&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="keyword">const</span> context = <span class="title function_">useContext</span>(<span class="title class_">MyContext</span>); <span class="comment">// 需要接受context作为参数</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">return</span> (</span><br><span class="line">       <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;context.msg&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">     )</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h4 id="2-4-useReducer"><a href="#2-4-useReducer" class="headerlink" title="2.4 useReducer"></a>2.4 useReducer</h4><p>概述： useReducer 是 useState 的替代方案，能够解决 useState 状态更新逻辑散落在 UI 中，不能独立复用，不方便测试。</p><p>使用：</p><ol><li>新建<code>FnProvider</code>组件</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; useState, useReducer &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">MyContext</span> <span class="keyword">from</span> <span class="string">&#x27;./MyContext&#x27;</span></span><br><span class="line"><span class="keyword">import</span> todoReducer <span class="keyword">from</span> <span class="string">&#x27;./todoReducer&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">FnProvider</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> [msg, changeMsg] = <span class="title function_">useState</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  <span class="comment">//   const [todoList, setTodoList] = useState([])</span></span><br><span class="line">  <span class="keyword">const</span> [todoList, dispatch] = <span class="title function_">useReducer</span>(todoReducer, [])</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>FnProvider<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">MyContext.Provider</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">value</span>=<span class="string">&#123;&#123;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">msg</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">changeMsg</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">todoList</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">dispatch</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        &#125;&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      &gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;props.children&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">MyContext.Provider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li>新建<code>reducer.js</code>文件</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">todoReducer</span>(<span class="params">state, action</span>) &#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.<span class="property">type</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;ADD&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> [...state, action.<span class="property">todo</span>]</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;DEL&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> state.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">id</span> !== action.<span class="property">id</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;EDIT&#x27;</span>:</span><br><span class="line">      <span class="keyword">const</span> index = state.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">id</span> === action.<span class="property">payload</span>.<span class="property">id</span>) <span class="comment">// 返回下标</span></span><br><span class="line">      <span class="keyword">const</span> newTodoList = [...state]</span><br><span class="line">      newTodoList.<span class="title function_">splice</span>(index, <span class="number">1</span>, action.<span class="property">payload</span>.<span class="property">todo</span>)</span><br><span class="line">      <span class="keyword">return</span> newTodoList</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      <span class="keyword">return</span> state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="3"><li>调用</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">FnProvider</span> <span class="keyword">from</span> <span class="string">&#x27;./store/FnProvider&#x27;</span></span><br><span class="line"></span><br><span class="line">&lt;<span class="title class_">FnProvider</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">HashRouter</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">App</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">HashRouter</span>&gt;</span></span></span><br><span class="line">  &lt;/<span class="title class_">FnProvider</span>&gt;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; useContext, useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> context = <span class="title function_">useContext</span>(<span class="title class_">MyContext</span>)</span><br><span class="line"></span><br><span class="line">onClick=&#123;<span class="function">() =&gt;</span></span><br><span class="line">          context.<span class="title function_">dispatch</span>(&#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;DEL&#x27;</span>,</span><br><span class="line">            <span class="attr">id</span>: item.<span class="property">id</span>,</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h4 id="2-5-redux"><a href="#2-5-redux" class="headerlink" title="2.5 redux"></a>2.5 redux</h4><p>概述：redux 是 JS 的状态容器，可以使用一个叫 action 对象的事件来管理和更新应用的状态。不依赖于任何的框架，可以在 JS 中独立使用。</p><h5 id="2-5-1-环境搭建"><a href="#2-5-1-环境搭建" class="headerlink" title="2.5.1 环境搭建"></a>2.5.1 环境搭建</h5><p>新项目：</p><p><code>npx create-react-app 项目名 --template redux</code></p><p><code>npx create-react-app 项目名 --template redux-typescript</code></p><p>老项目：</p><p><code>npm i redux react-redux</code></p><h5 id="2-5-2-项目引入"><a href="#2-5-2-项目引入" class="headerlink" title="2.5.2 项目引入"></a>2.5.2 项目引入</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/index.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom/client&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Provider</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store/index&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>));</span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Provider</span> <span class="attr">store</span>=<span class="string">&#123;store&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">App</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span></span></span><br><span class="line">);</span><br><span class="line"><span class="title function_">reportWebVitals</span>();</span><br></pre></td></tr></table></figure><h5 id="2-5-3-store-创建"><a href="#2-5-3-store-创建" class="headerlink" title="2.5.3 store 创建"></a>2.5.3 store 创建</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore, combineReducers &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">&#x27;./reducer/reducer&#x27;</span></span><br><span class="line"><span class="keyword">import</span> todoReduce <span class="keyword">from</span> <span class="string">&#x27;./reducer/todoReducer&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mainReducer = <span class="title function_">combineReducers</span>(&#123;</span><br><span class="line">  <span class="attr">reducer</span>: reducer,</span><br><span class="line">  <span class="attr">todo</span>: todoReduce,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(mainReducer)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 检测 state 的变化</span></span><br><span class="line">store.<span class="title function_">subscribe</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;数据发生改变&#x27;</span>, store.<span class="title function_">getState</span>())</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="2-5-4-reducer"><a href="#2-5-4-reducer" class="headerlink" title="2.5.4 reducer"></a>2.5.4 reducer</h5><p>概述：是一个纯函数，会根据不同的 action 对象返回一个新的 state</p><p>纯函数：</p><ul><li>不修改传入的参数</li><li>不执行有副作用的操作，比如API，计时器等等</li><li>不调用非纯函数，如<code>new Date()</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initData = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>(),</span><br><span class="line">    <span class="attr">flag</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">text</span>: <span class="string">&#x27;练习篮球一年半&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> addActionType = <span class="string">&#x27;ADD&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">addTodo</span> = (<span class="params">payload</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">type</span>: addActionType,</span><br><span class="line">    payload,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> editActionType = <span class="string">&#x27;EDIT&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">editTodo</span> = (<span class="params">payload</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">type</span>: editActionType,</span><br><span class="line">    payload,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">DelType</span> = <span class="string">&#x27;DEL&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">actionDel</span> = (<span class="params">payload</span>) =&gt; (&#123;</span><br><span class="line">  <span class="attr">type</span>: <span class="title class_">DelType</span>,</span><br><span class="line">  payload,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">todoReduce</span>(<span class="params">state = initData, action</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; type, payload &#125; = action</span><br><span class="line">  <span class="keyword">switch</span> (type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="attr">addActionType</span>:</span><br><span class="line">      <span class="keyword">return</span> [...state, payload]</span><br><span class="line">    <span class="keyword">case</span> <span class="title class_">DelType</span>:</span><br><span class="line">      <span class="keyword">return</span> state.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">id</span> !== payload.<span class="property">id</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="attr">editActionType</span>:</span><br><span class="line">      <span class="keyword">const</span> index = state.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">id</span> === payload.<span class="property">id</span>) <span class="comment">// 返回下标</span></span><br><span class="line">      <span class="keyword">const</span> newTodoList = [...state]</span><br><span class="line">      newTodoList.<span class="title function_">splice</span>(index, <span class="number">1</span>, payload)</span><br><span class="line">      <span class="keyword">return</span> newTodoList</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      <span class="keyword">return</span> state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="2-5-5-combineReducers"><a href="#2-5-5-combineReducers" class="headerlink" title="2.5.5 combineReducers"></a>2.5.5 combineReducers</h5><p>概述：用于将多个 reducer 合并为一个 reducer。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;combineReducers&#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mainReducer = <span class="title function_">combineReducers</span>(&#123;</span><br><span class="line">    home,</span><br><span class="line">    user,</span><br><span class="line">    todo</span><br><span class="line">&#125;)</span><br><span class="line">store = <span class="title function_">createStore</span>(mainReducer)</span><br></pre></td></tr></table></figure><h5 id="2-5-6-useSelector"><a href="#2-5-6-useSelector" class="headerlink" title="2.5.6 useSelector"></a>2.5.6 useSelector</h5><p>概述：用于组件中获取 state 的hook</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useSelector&#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"> const App =() =&gt; &#123;</span></span><br><span class="line"><span class="string">    const todoList = useSelector((state) =&gt; state.todo)</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure><h5 id="2-5-7-useDispatch"><a href="#2-5-7-useDispatch" class="headerlink" title="2.5.7 useDispatch"></a>2.5.7 useDispatch</h5><p>概述：返回 dispatch 函数的引用</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useDispatch&#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">const App =() =&gt; &#123;</span></span><br><span class="line"><span class="string">    const dispatch = useDispatch()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    const onSubmitTodo = () =&gt; &#123;</span></span><br><span class="line"><span class="string">    dispatch(</span></span><br><span class="line"><span class="string">      addTodo(&#123;</span></span><br><span class="line"><span class="string">        text,</span></span><br><span class="line"><span class="string">        id: Date.now(),</span></span><br><span class="line"><span class="string">        flag: false,</span></span><br><span class="line"><span class="string">      &#125;)</span></span><br><span class="line"><span class="string">    )</span></span><br><span class="line"><span class="string">    setText(&#x27;</span><span class="string">&#x27;)</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><h5 id="2-5-8-redux-thunk"><a href="#2-5-8-redux-thunk" class="headerlink" title="2.5.8 redux-thunk"></a>2.5.8 redux-thunk</h5><p>概述： 因为在 reducer 中只能同步操作，那么要想异步处理 redux 就只能在组件中先进行异步操作，然后成功后再 dispatch。但是会让redux 的逻辑散落在UI中，不易于后期管理。</p><p>接用该插件可以实现 dispatch 一个函数，然后在这个函数中处理异步。</p><p><code>index.js</code> 文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore, applyMiddleware, compose &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> thunkMiddleware <span class="keyword">from</span> <span class="string">&#x27;redux-thunk&#x27;</span></span><br><span class="line"><span class="keyword">import</span> logger <span class="keyword">from</span> <span class="string">&#x27;redux-logger&#x27;</span></span><br><span class="line"><span class="keyword">import</span> mainReducer <span class="keyword">from</span> <span class="string">&#x27;./reducer&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> middleWares = [</span><br><span class="line">  <span class="comment">// 三方模块通过该中间件注册</span></span><br><span class="line">  thunkMiddleware,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;development&#x27;</span>) &#123;</span><br><span class="line">  middleWares.<span class="title function_">push</span>(logger)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Redux DevTools 配置</span></span><br><span class="line"><span class="keyword">const</span> composeEnhancers = <span class="variable language_">window</span>.<span class="property">__REDUX_DEVTOOLS_EXTENSION_COMPOSE__</span> || compose</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 store</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(</span><br><span class="line">  mainReducer,</span><br><span class="line">  <span class="title function_">composeEnhancers</span>(<span class="title function_">applyMiddleware</span>(...middleWares))</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 检测redux 的状态变化</span></span><br><span class="line">store.<span class="title function_">subscribe</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;数据发生改变&#x27;</span>, store.<span class="title function_">getState</span>())</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>userAction.js</code>文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="variable constant_">LOGIN</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;../actionTypes/userActionType&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; loginApi &#125; <span class="keyword">from</span> <span class="string">&#x27;../../http/Api/user&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 同步 类似于 Vuex-mutation</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">loginAction</span> = (<span class="params">payload</span>) =&gt; (&#123;</span><br><span class="line">  <span class="attr">type</span>: <span class="variable constant_">LOGIN</span>,</span><br><span class="line">  payload,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">loginActionAsync</span> = (<span class="params">payload</span>) =&gt; <span class="function">(<span class="params">dispatch</span>) =&gt;</span></span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">loginApi</span>(payload).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (res.<span class="property">data</span>.<span class="property">code</span> == <span class="string">&#x27;200&#x27;</span>) &#123;</span><br><span class="line">        <span class="title function_">dispatch</span>(<span class="title function_">loginAction</span>(res.<span class="property">data</span>.<span class="property">data</span>))</span><br><span class="line">        <span class="title function_">resolve</span>()</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;登陆失败&#x27;</span>)</span><br><span class="line">        <span class="title function_">reject</span>()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>userReducer.js</code>文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="variable constant_">LOGIN</span>, <span class="variable constant_">LOGOUT</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;../actionTypes/userActionType&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">INIT_STATE</span> = &#123;</span><br><span class="line">  <span class="attr">userId</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">username</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">authList</span>: [],</span><br><span class="line">  <span class="attr">token</span>: <span class="literal">null</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">userReducer</span>(<span class="params">state = INIT_STATE, action</span>) &#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.<span class="property">type</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="attr">LOGIN</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        ...state,</span><br><span class="line">        ...action.<span class="property">payload</span>,</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">case</span> <span class="attr">LOGOUT</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">userId</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">username</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">authList</span>: [],</span><br><span class="line">        <span class="attr">token</span>: <span class="literal">null</span>,</span><br><span class="line">      &#125;                      </span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      <span class="keyword">return</span> state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>reducer/index.js</code>文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; combineReducers &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> userReducer <span class="keyword">from</span> <span class="string">&#x27;./userReducer&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">combineReducers</span>(&#123;</span><br><span class="line">  <span class="attr">user</span>: userReducer,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>使用：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; loginAction, loginActionAsync &#125; <span class="keyword">from</span> <span class="string">&#x27;../../store/actions/userAction&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useDispatch &#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Login</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> navigate = <span class="title function_">useNavigate</span>()</span><br><span class="line">  <span class="keyword">const</span> dispatch = <span class="title function_">useDispatch</span>()</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">onFinish</span> = <span class="keyword">async</span> (<span class="params">value</span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span><br><span class="line">    <span class="title function_">dispatch</span>(<span class="title function_">loginActionAsync</span>(value)).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">navigate</span>(<span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> ()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-6-PubSubJs"><a href="#2-6-PubSubJs" class="headerlink" title="2.6  PubSubJs"></a>2.6  PubSubJs</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">PubSub</span> <span class="keyword">from</span> <span class="string">&#x27;pubsub-js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 订阅消息</span></span><br><span class="line"><span class="title class_">PubSub</span>.<span class="title function_">subscribe</span>(<span class="string">&quot;getSate&quot;</span>,<span class="function">(<span class="params">_,data</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">        &#125;)</span><br><span class="line"><span class="title class_">PubSub</span>.<span class="title function_">subscribe</span>(<span class="string">&quot;订阅的消息名称&quot;</span>,回调函数，第一个参数是消息名称，可以使用_来占位，第二个是传递的数据</span><br><span class="line">        &#125;)</span><br><span class="line">        </span><br><span class="line"><span class="comment">// 发布消息</span></span><br><span class="line"><span class="title class_">PubSub</span>.<span class="title function_">publish</span>(<span class="string">&quot;getSate&quot;</span>,&#123;<span class="attr">isFrist</span>:<span class="literal">false</span>,<span class="attr">isLoad</span>:<span class="literal">true</span>&#125;)</span><br><span class="line"><span class="title class_">PubSub</span>.<span class="title function_">publish</span>(<span class="string">&quot;订阅的消息名称&quot;</span>,传递的数据)</span><br></pre></td></tr></table></figure><h4 id="2-7-RTK"><a href="#2-7-RTK" class="headerlink" title="2.7 RTK"></a>2.7 RTK</h4><h3 id="3-class-生命周期"><a href="#3-class-生命周期" class="headerlink" title="3. class 生命周期"></a>3. class 生命周期</h3><p>过时的生命周期：</p><table><thead><tr><th align="center">名称</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center"><code>componentWillMount</code></td><td align="center">卸载组件之后</td></tr><tr><td align="center"><code>componentWillReceiveProps</code></td><td align="center">父组件进行了更新，子组件先执行这个【注意，第一次传递数据的时候，并不执行】</td></tr><tr><td align="center"><code>componentWillUpdate</code></td><td align="center">组件将要更新之前</td></tr></tbody></table><p>原因： 这些生命周期方法经常被误解和滥用；此外，我们预计，在异步渲染中，它们潜在的误用问题可能更大。 </p><p>现存生命周期：</p><table><thead><tr><th align="center">名称</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center"><code>constructor</code></td><td align="center">加载的时候调用一次，初始化state</td></tr><tr><td align="center"><code>render</code></td><td align="center">更新 DOM 树的，每次渲染都会重新调用</td></tr><tr><td align="center"><code>componentDidMount</code></td><td align="center">组件渲染之后调用一次，一般在这个阶段发起请求、操作 DOM 节点</td></tr><tr><td align="center"><code>shouldComponentUpdate</code></td><td align="center">组件接收到新的 props 或者 state 的时候调用，该函数内返回 true 则渲染组件，返回 False 就不渲染</td></tr><tr><td align="center"><code>componentDidUpdate</code></td><td align="center">组件更新后，可以获取最新的 state</td></tr><tr><td align="center"><code>componentWillUnmount</code></td><td align="center">组件卸载，需要清除计时器、事件绑定 等</td></tr></tbody></table><h3 id="4-插槽"><a href="#4-插槽" class="headerlink" title="4. 插槽"></a>4. 插槽</h3><h4 id="4-1-匿名插槽"><a href="#4-1-匿名插槽" class="headerlink" title="4.1 匿名插槽"></a>4.1 匿名插槽</h4><p>概述：写在每个组件之间的内容都可以被 props.children 获取。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父组件 </span></span><br><span class="line">&lt;<span class="title class_">TodoButton</span>&gt;新增&lt;/<span class="title class_">TodoButton</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 子组件</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;this.props.children&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    )</span><br></pre></td></tr></table></figure><h4 id="4-2-具名插槽"><a href="#4-2-具名插槽" class="headerlink" title="4.2 具名插槽"></a>4.2 具名插槽</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父组件 </span></span><br><span class="line">&lt;<span class="title class_">TodoList</span> right=&#123;<span class="language-xml"><span class="tag">&lt;<span class="name">TodoButton</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">TodoButton</span>&gt;</span></span>&#125;&gt;&lt;/<span class="title class_">TodoList</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 子组件</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;this.props.right&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="4-3-作用域插槽"><a href="#4-3-作用域插槽" class="headerlink" title="4.3 作用域插槽"></a>4.3 作用域插槽</h4><p>概述：允许给子组件传递自定义内容，同时父组件也能拿到子组件的数据。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父组件 </span></span><br><span class="line"> &lt;<span class="title class_">TodoList</span></span><br><span class="line">   data=&#123;todoList&#125;</span><br><span class="line">   right=&#123;<span class="function">(<span class="params">item</span>) =&gt;</span> <span class="language-xml"><span class="tag">&lt;<span class="name">TodoButton</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> this.delTodo(item.id)&#125;&gt;删除<span class="tag">&lt;/<span class="name">TodoButton</span>&gt;</span></span>&#125;&gt;</span><br><span class="line"> &lt;/<span class="title class_">TodoList</span>&gt;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 子组件</span></span><br><span class="line"> <span class="keyword">const</span> lis = data.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">   <span class="keyword">return</span> (</span><br><span class="line">     <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;todo-item&#x27;</span> <span class="attr">key</span>=<span class="string">&#123;item.id&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;todo-item-text&#x27;</span>&gt;</span>&#123;item.text&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">       <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;this.props.right &amp;&amp; this.props.right(item)&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">   )</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure><h3 id="5-hooks"><a href="#5-hooks" class="headerlink" title="5. hooks"></a>5. hooks</h3><p>概述：可以让你在不编写 class 的情况下使用 state 以及其他的 React 特性。</p><p>注意：</p><ul><li>只能在函数顶层调用hooks</li><li>不能写在循环、条件判断中</li><li>只能是在函数组件中或者自定义hook函数中</li></ul><h4 id="5-1-useState"><a href="#5-1-useState" class="headerlink" title="5.1 useState"></a>5.1 useState</h4><p>概述：该方法用于定义函数组件的 state 的。 </p><p>语法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useState&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> [state, setState] = <span class="title function_">useState</span>(<span class="number">0</span>);</span><br><span class="line">      <span class="keyword">const</span> [msg, setMsg] = <span class="title function_">useState</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="5-2-useEffect"><a href="#5-2-useEffect" class="headerlink" title="5.2 useEffect"></a>5.2 useEffect</h4><p>概述：该函数可以看做是函数组件的生命周期，包含 <code>componentDidMount</code>，<code>componentDidUpdate</code>，<code>componentWillUnmount</code>，在render 之后执行。</p><p>语法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useEffect&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">useEffect</span>(callback, [dependencies])</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">useLayoutEffect会在渲染的内容更新到<span class="variable constant_">DOM</span>上之前进行,会阻塞<span class="variable constant_">DOM</span>的更新</span><br><span class="line">如果我们希望在某些操作发生之后再更新<span class="variable constant_">DOM</span>,那么应该将这个操作放在useLayoutEffect</span><br></pre></td></tr></table></figure><p><code>dependencies</code>：该参数是 <code>useEffect</code>的依赖，可以决定 <code>useEffect</code> 的<code>callback </code>什么时候执行。</p><ul><li><p>如果该参数不存在，则初始化、组件任意状态值改变都会导致 callback 执行</p></li><li><p>如果该参数传递一个 []，只有组件初始化和销毁的时候才会触发 callback</p></li><li><p>该参数传入 [a]。表示在依赖 a 发生变化时才会触发 callback</p></li><li><pre><code class="js">useEffect(() =&gt; &#123;      console.log(&#39;Counter&#39;);    &#125;, [count]);<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">`callback`：回调函数，一般用于发起请求、添加计时器、事件绑定，在该函数中可以return 一个函数，这个函数作为下一次 callback 执行前的调用，用于清除上一次 callback 产生的副作用。</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line"> useEffect(() =&gt; &#123;</span><br><span class="line">     console.log(&#x27;Counter&#x27;); // 组件加载的时候执行</span><br><span class="line"></span><br><span class="line">     return () =&gt; &#123;</span><br><span class="line">         // 组件卸载的时候执行</span><br><span class="line">         console.log(&#x27;useEffect 回调函数的返回值函数&#x27;);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;, []);</span><br><span class="line"></span><br><span class="line">// 没有设置依赖</span><br><span class="line">useEffect(() =&gt; &#123;</span><br><span class="line">      console.log(&#x27;Counter&#x27;);</span><br><span class="line">      const timer = setInterval(() =&gt; console.log(Date.now()), 1000)</span><br><span class="line"></span><br><span class="line">      return () =&gt; &#123;</span><br><span class="line">        console.log(&#x27;useEffect 回调函数的返回值函数&#x27;);</span><br><span class="line"></span><br><span class="line">        // 组件卸载之后需要干掉计时器</span><br><span class="line">        clearInterval(timer)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure></code></pre></li></ul><h4 id="5-3-useRef"><a href="#5-3-useRef" class="headerlink" title="5.3 useRef"></a>5.3 useRef</h4><p>概述：与<code>createRef</code>类似，用于获取 dom 元素或者组件实例</p><p>语法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useRef&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> myRef = <span class="title function_">useRef</span>();</span><br><span class="line"></span><br><span class="line">    <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myRef.<span class="property">current</span>); <span class="comment">// 需要通过 current 获取节点</span></span><br><span class="line">    &#125;, [])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">&#123;myRef&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5-n-自定义hooks"><a href="#5-n-自定义hooks" class="headerlink" title="5.n 自定义hooks"></a>5.n 自定义hooks</h4><h5 id="1-封装useTableList"><a href="#1-封装useTableList" class="headerlink" title="1. 封装useTableList"></a>1. 封装useTableList</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">listReq:api请求</span></span><br><span class="line"><span class="comment">option:obj</span></span><br><span class="line"><span class="comment">&#123;</span></span><br><span class="line"><span class="comment">    cur:当前页数</span></span><br><span class="line"><span class="comment">    size:一页多少条数据</span></span><br><span class="line"><span class="comment">    data:查询参数</span></span><br><span class="line"><span class="comment">    flag:是否自动请求</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useList</span>(<span class="params">listReq, option</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> [list, setList] = <span class="title function_">useState</span>([])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> flag = option?.<span class="property">flag</span> || <span class="literal">true</span> <span class="comment">// 默认自动请求</span></span><br><span class="line">    <span class="keyword">const</span> cur = option?.<span class="property">cur</span> || <span class="number">1</span></span><br><span class="line">    <span class="keyword">const</span> size = option?.<span class="property">size</span> || <span class="number">5</span></span><br><span class="line">    <span class="keyword">const</span> data = option?.<span class="property">data</span> || &#123;&#125;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">getList</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">const</span> payload = &#123; ...data, <span class="attr">current</span>: cur, <span class="attr">pageSize</span>: size &#125;</span><br><span class="line">        <span class="title function_">listReq</span>(payload)</span><br><span class="line">            .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">            <span class="keyword">if</span> (res.<span class="property">code</span> == <span class="string">&#x27;200&#x27;</span>) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>)</span><br><span class="line">                <span class="comment">//   setList(res.)</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;获取数据错误&#x27;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">            .<span class="title function_">catch</span>(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    flag &amp;&amp; <span class="title function_">getList</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        list,</span><br><span class="line">        getList,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="2-封装useLocalStorage"><a href="#2-封装useLocalStorage" class="headerlink" title="2. 封装useLocalStorage"></a>2. 封装useLocalStorage</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">useSessionStorage</span>(<span class="params">key</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> [state, setState] = <span class="title function_">useState</span>(<span class="function">() =&gt;</span> <span class="title function_">getStorage</span>())</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">getStorage</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> value = <span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(key)</span><br><span class="line">    <span class="keyword">if</span> (value) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(value)</span><br><span class="line">      &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">undefined</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">updateState</span> = (<span class="params">newState</span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 如果为undefined 则删除该键</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> newState == <span class="string">&#x27;undefined&#x27;</span>) &#123;</span><br><span class="line">      <span class="variable language_">sessionStorage</span>.<span class="title function_">removeItem</span>(key)</span><br><span class="line">      <span class="title function_">setState</span>(<span class="literal">undefined</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(key, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(newState))</span><br><span class="line">      <span class="title function_">setState</span>(newState)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123; state, updateState &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="6-重要属性"><a href="#6-重要属性" class="headerlink" title="6. 重要属性"></a>6. 重要属性</h3><h4 id="6-1-ref"><a href="#6-1-ref" class="headerlink" title="6.1 ref"></a>6.1 ref</h4><p>概述：用于获取DOM节点</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> ... &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>()</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">myRef</span> = <span class="title class_">React</span>.<span class="title function_">createRef</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">componentDidMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// 必须通过 current 获取节点</span></span><br><span class="line">        <span class="comment">// 即 this.myRef.current 表示 dom ，相当于 document.getElementById()</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">myRef</span>.<span class="property">current</span>.<span class="title function_">focus</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&#123;this.myRef&#125;</span> /&gt;</span></span></span><br><span class="line">)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="6-2-fragment"><a href="#6-2-fragment" class="headerlink" title="6.2 fragment"></a>6.2 fragment</h4><p>默认情况下 <code>react</code> 的render 只支持单标签渲染，如果想要渲染多标签，那么可以使用该组件，可以再不多增加标签嵌套的情况下，渲染节点。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">React</span>.<span class="property">Fragment</span>&gt;</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/<span class="title class_">React</span>.<span class="property">Fragment</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="6-3-portal"><a href="#6-3-portal" class="headerlink" title="6.3 portal"></a>6.3 portal</h4><p>概述：期望渲染的节点能够脱离父组件范围，可以将节点放在任意我期望的位置。</p><p>语法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">craetePortal</span>(child, container)</span><br><span class="line"></span><br><span class="line">      * child：任何有效的节点或者 <span class="title class_">React</span> 组件；</span><br><span class="line">      * container：希望将 child 放在什么位置，应该是一个 <span class="variable constant_">DOM</span> 节点；</span><br></pre></td></tr></table></figure><h4 id="6-4-createElement"><a href="#6-4-createElement" class="headerlink" title="6.4 createElement"></a>6.4 createElement</h4><p>概述：因为 JSX 语法中的元素底层就是调用该方法生成组件的。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myDiv = <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>, <span class="literal">null</span>, <span class="string">&#x27;标签之间的哦内容&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">myDiv</span> /&gt;</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="7-高阶组件-HOC"><a href="#7-高阶组件-HOC" class="headerlink" title="7. 高阶组件(HOC)"></a>7. 高阶组件(HOC)</h3><p>概述：以组件为参数，返回新组件的函数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">WithTable</span> = (<span class="params">Component</span>) =&gt; &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// props = &#123;loading: false, titile: &#x27;&#x27;&#125; = &#123;loading, ...otherProps&#125;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">NewComponent</span> = (<span class="params">&#123; loading, ...otherProps &#125;</span>) =&gt; &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;HOC 的 props：&#x27;</span>, otherProps);</span><br><span class="line"><span class="keyword">if</span> (loading) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>loading...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">Component</span> &#123;<span class="attr">...otherProps</span>&#125; /&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个新组件</span></span><br><span class="line"><span class="comment">// const Loading = () =&gt; &lt;div&gt;loading...&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="title class_">NewComponent</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">WithTable</span></span><br></pre></td></tr></table></figure><h3 id="8-性能优化"><a href="#8-性能优化" class="headerlink" title="8. 性能优化"></a>8. 性能优化</h3><p>父子组件嵌套：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 执行顺序</span></span><br><span class="line">    <span class="title class_">Father</span> render - </span><br><span class="line">    <span class="title class_">ClassA</span>.<span class="property">jsx</span>:<span class="number">14</span> <span class="title class_">ClassA</span> constructor</span><br><span class="line">    <span class="title class_">ClassA</span>.<span class="property">jsx</span>:<span class="number">23</span> <span class="title class_">ClassA</span> render</span><br><span class="line">    <span class="title class_">ClassA</span>.<span class="property">jsx</span>:<span class="number">17</span> <span class="title class_">ClassA</span> componentDidMount</span><br><span class="line">    <span class="title class_">Father</span> useEffect -</span><br></pre></td></tr></table></figure><p>子组件数据改变后：</p><ul><li><p>子组件 render;</p></li><li><p>父组件不变</p></li></ul><p>父组件状态改变：</p><ul><li>父组件 render</li><li>子组件无论与父组件的状态是否有关，都会render</li></ul><h4 id="8-1-class-组件优化"><a href="#8-1-class-组件优化" class="headerlink" title="8.1 class 组件优化"></a>8.1 class 组件优化</h4><h5 id="8-1-1-shouldComponentUpdate"><a href="#8-1-1-shouldComponentUpdate" class="headerlink" title="8.1.1 shouldComponentUpdate"></a>8.1.1 shouldComponentUpdate</h5><p>概述：针对 class 组件，如果 props 和 state 都没有改变</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">shouldComponentUpdate</span>(<span class="params">nextProps, nextState</span>) &#123;</span><br><span class="line">      <span class="comment">// 该生命周期必须返回一个布尔值，如果为 true，则render，否则不render</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ClassA shouldComponentUpdate&#x27;</span>, nextProps, nextState)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">num2</span> != nextProps.<span class="property">num2</span> || <span class="variable language_">this</span>.<span class="property">state</span> != nextState) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h5 id="8-1-2-PureComponent"><a href="#8-1-2-PureComponent" class="headerlink" title="8.1.2 PureComponent"></a>8.1.2 PureComponent</h5><p>概述：React.PureComponent 和 React.Component用法差不多，唯一不同的是 PureComponent 会浅比较 props 和 state 是否相同，从而决定是否重新渲染组件。</p><h4 id="8-2-函数组件优化"><a href="#8-2-函数组件优化" class="headerlink" title="8.2 函数组件优化"></a>8.2 函数组件优化</h4><h5 id="8-2-1-useMemo"><a href="#8-2-1-useMemo" class="headerlink" title="8.2.1 useMemo"></a>8.2.1 useMemo</h5><p>概述：这个函数的返回值会被缓存，在组建第一次渲染的时候执行，以后会在以来发生改变后在此次执行。缓存数据</p><p>语法：<code>useMemo(create.deps)</code></p><ul><li>create：是一个函数，函数的返回值作为缓存值</li><li>deps：依赖，是一个数组</li></ul><p>作用：一般用于比较复杂的运算或者耗时操作</p><h5 id="8-2-2-useCallback"><a href="#8-2-2-useCallback" class="headerlink" title="8.2.2 useCallback"></a>8.2.2 useCallback</h5><p>概述：useCallback 和 useMemo 接受参数一样，都是依赖发生改变后执行回调，否则返回缓存值，区别是 useCallback 是返回函数， useMemo 是返回运算结果。缓存函数</p><h4 id="8-3-memo-优化"><a href="#8-3-memo-优化" class="headerlink" title="8.3 memo 优化"></a>8.3 memo 优化</h4><p>概述：和 PureComponent 类似，用于性能调优，函数组件和类组件都可以使用，区别是 memo 只能判断 props 而不能处理 state 的改变。</p><p>语法：<code>memo(组件)</code></p><h3 id="9-路由"><a href="#9-路由" class="headerlink" title="9. 路由"></a>9. 路由</h3><p><code>npm install react-router-dom</code></p><h4 id="9-1-Route"><a href="#9-1-Route" class="headerlink" title="9.1 Route"></a>9.1 Route</h4><p>概述：用于匹配当前 url 要渲染的组件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Route</span> path=<span class="string">&quot;url&quot;</span> element=&#123;&lt;组件 /&gt;&#125; /&gt;</span><br></pre></td></tr></table></figure><p>index：表示默认路由，设置该属性后，Route 不能有子组件</p><h4 id="9-2-Routes"><a href="#9-2-Routes" class="headerlink" title="9.2 Routes"></a>9.2 Routes</h4><p>概述：作为 Route 的上一级组件，可以优化路径匹配</p><h4 id="9-3-Link"><a href="#9-3-Link" class="headerlink" title="9.3 Link"></a>9.3 Link</h4><p>用于连接跳转，最终会被渲染为a 标签</p><p><code>to</code>：链接的路径</p><p><code>&#123;pathname:&#39;/admin&#39;,query:&#39;111&#39;,state:&#39;111&#39;&#125;</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过this.props.location.state或this.props.location.query来获取即可</span></span><br></pre></td></tr></table></figure><h4 id="9-4-路由嵌套"><a href="#9-4-路由嵌套" class="headerlink" title="9.4 路由嵌套"></a>9.4 路由嵌套</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Route</span> path=<span class="string">&quot;/&quot;</span> element=&#123;<span class="language-xml"><span class="tag">&lt;<span class="name">Layout</span> /&gt;</span></span>&#125;&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Route</span> <span class="attr">index</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">Home</span> /&gt;</span>&#125; /&gt;</span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;about&quot;</span> <span class="attr">element</span>=<span class="string">&#123;</span>&lt;<span class="attr">About</span> /&gt;</span>&#125; /&gt;</span></span><br><span class="line">  &lt;/<span class="title class_">Route</span>&gt;</span><br><span class="line"></span><br><span class="line">在父组件中使用 &lt;<span class="title class_">Outlet</span> /&gt; 渲染子组件</span><br><span class="line">  <span class="comment">// Layout </span></span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Outlet</span> /&gt;</span></span></span><br><span class="line">  &lt;/div&gt;</span><br></pre></td></tr></table></figure><h4 id="9-5-useNavigate"><a href="#9-5-useNavigate" class="headerlink" title="9.5 useNavigate"></a>9.5 <code>useNavigate</code></h4><p>概述：用于返回一个类似 history 的对象，可用于编程式导航。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useNavigate &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> navigate = <span class="title function_">useNavigate</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 传递 url 参数</span></span><br><span class="line">  <span class="title function_">navigate</span>(<span class="string">&#x27;/home&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 传递数字来表示前进或者后退多少</span></span><br><span class="line">  <span class="title function_">navigate</span>(-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 替换历史记录</span></span><br><span class="line">  <span class="title function_">navigate</span>(<span class="string">&#x27;/&#x27;</span>, &#123;<span class="attr">replace</span>: <span class="literal">true</span>&#125;)</span><br></pre></td></tr></table></figure><h4 id="9-6-useSearchParams"><a href="#9-6-useSearchParams" class="headerlink" title="9.6 useSearchParams "></a>9.6 <code>useSearchParams </code></h4><p>概述：获取 url 的查询参数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useSearchParams &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> [searchParams, setSearchParams] = <span class="title function_">useSearchParams</span>()</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;获取查询参数：&#x27;</span>, searchParams.<span class="title function_">get</span>(<span class="string">&#x27;id&#x27;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//  this.props.location.search也可以获取</span></span><br></pre></td></tr></table></figure><h4 id="9-7-useParams"><a href="#9-7-useParams" class="headerlink" title="9.7 useParams"></a>9.7 <code>useParams</code></h4><p>概述：获取动态参数<code>path=&#39;/admin/:id&#39;</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useParams &#125; <span class="keyword">from</span> <span class="string">&quot;react-router-dom&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> params = <span class="title function_">useParams</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;获取动态参数：&#x27;</span>, params);</span><br><span class="line"></span><br><span class="line"><span class="comment">// this.props.match.params.id也可以获取</span></span><br></pre></td></tr></table></figure><h4 id="9-8-路由模式"><a href="#9-8-路由模式" class="headerlink" title="9.8 路由模式"></a>9.8 路由模式</h4><h5 id="1-hasn模式"><a href="#1-hasn模式" class="headerlink" title="1. hasn模式"></a>1. hasn模式</h5><ul><li><code>hash</code> 模式是一种把前端路由的路径用井号 <code>#</code> 拼接在真实 <code>url</code> 后面的模式。当井号 <code>#</code> 后面的路径发生变化时，浏览器并不会重新发起请求，而是会触发 <code>onhashchange</code> 事件。不会被包括在 <code>http</code> 请求中。</li><li>hash变化会触发网页跳转，即浏览器的前进和后退。</li><li><code>hash</code> 通过 <code>window.onhashchange</code> 的方式，来监听 <code>hash</code> 的改变，借此实现无刷新跳转的功能</li><li><code>hash</code> 可以改变 <code>url</code> ，但是不会触发页面重新加载，不会出现在&#96;&#96;http&#96;中</li><li>首先，<code>hash</code>本来是拿来做页面定位的，如果拿来做路由的话，原来的锚点功能就不能用了。其次，&#96;&#96;hash<code>的传参是基于</code>url&#96;的，如果要传递复杂的数据，会有体积的限制</li></ul><h5 id="2-history模式"><a href="#2-history模式" class="headerlink" title="2. history模式"></a>2. history模式</h5><ul><li>利用H5的 history中新增的两个API <code>pushState()</code> 和 <code>replaceState()</code> 和一个事件&#96;&#96;onpopstate&#96;监听URL变化</li><li><code>history</code>每次刷新会重新像后端请求整个网址，也就是重新请求服务器。如果后端没有及时响应，就会报错404！ </li><li><code>history</code>模式不仅可以在&#96;&#96;url&#96;里放参数，还可以将数据存放在一个特定的对象中。</li><li>修改历史状态：  包括了 HTML5 History Interface 中新增的 <code>pushState()</code> 和 <code>replaceState()</code> 方法，这两个方法应用于浏览器的历史记录栈，提供了对历史记录进行修改的功能。只是当他们进行修改时，虽然修改了 url，但浏览器不会立即向后端发送请求。如果要做到改变 url 但又不刷新页面的效果，就需要前端用上这两个 API。 </li><li>切换历史状态： 包括 <code>forward()</code>、<code>back()</code>、<code>go()</code> 三个方法，对应浏览器的前进，后退，跳转操作。</li></ul><h5 id="3-两种模式对比"><a href="#3-两种模式对比" class="headerlink" title="3. 两种模式对比"></a>3. 两种模式对比</h5><ul><li>history 模式的 pushState() 设置的新 URL 可以是与当前 URL 同源的任意 URL；而 hash 只可修改 # 后面的部分，因此只能设置与当前 URL 同文档的 URL；</li><li>pushState() 设置的新 URL 可以与当前 URL 一模一样，这样也会把记录添加到栈中；而 hash 设置的新值必须与原来不一样才会触发动作将记录添加到栈中；</li><li>pushState() 通过 stateObject 参数可以添加任意类型的数据到记录中；而 hash 只可添加短字符串；</li><li>pushState() 可额外设置 title 属性供后续使用。</li><li>hash 模式下，仅 hash 符号之前的 url 会被包含在请求中，后端如果没有做到对路由的全覆盖，也不会返回 404 错误；history 模式下，前端的 url 必须和实际向后端发起请求的 url一致，如果没有对用的路由处理，将返回 404 错误。</li></ul><h3 id="10-事件处理"><a href="#10-事件处理" class="headerlink" title="10. 事件处理"></a>10. 事件处理</h3><ul><li>React的事件是通过onXxx属性指定事件处理函数 </li><li>React使用的都是自定义的时间，而不是原生的事件 </li><li>React中的事件是通过事件委托方式处理的 </li><li>通过event.target得到发生事件的Dom元素对象 </li><li>事件中必须返回的是函数</li></ul><h4 id="10-1-受控和非受控组件"><a href="#10-1-受控和非受控组件" class="headerlink" title="10.1 受控和非受控组件"></a>10.1 受控和非受控组件</h4><p>受控： 对于受控组件来说，输入的值始终由 React 的 state 驱动。 </p><p>非受控： 表单元素的值不会更新state。输入数据都是现用现取的。 </p><h4 id="10-2-class-事件处理"><a href="#10-2-class-事件处理" class="headerlink" title="10.2 class 事件处理"></a>10.2 class 事件处理</h4><p>绑定事件：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 写法1：需要在构造函数中绑定 this</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Counter</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 绑定函数 this 指向</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">changeCount</span> = <span class="variable language_">this</span>.<span class="property">changeCount</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">changeCount</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onClick</span>=<span class="string">&#123;this.changeCount&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 写法2：在 render 中绑定 this </span></span><br><span class="line"><span class="comment">// 会存在一个问题：即每次视图更新，都会重新绑定</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Counter</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">changeCount</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onClick</span>=<span class="string">&#123;this.changeCount.bind(this)&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 写法3：使用箭头函数</span></span><br><span class="line"><span class="comment">// 会存在一个问题：即每次视图更新，都会重新绑定</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Counter</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">changeCount</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> this.changeCount()&#125;&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 写法4 - ES7写法（实验性质）</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Counter</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    changeCount = <span class="function">() =&gt;</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onClick</span>=<span class="string">&#123;this.changeCount&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参数传递：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方式1</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Counter</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">changeCount</span>(<span class="params">str</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onClick</span>=<span class="string">&#123;this.changeCount.bind(this,</span> &#x27;<span class="attr">abc</span>&#x27;)&#125;&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式2</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Counter</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">changeCount</span>(<span class="params">str</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> this.changeCount(&#x27;abc&#x27;)&#125;&gt;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式3 - 给标签自定义属性</span></span><br><span class="line">    &lt;button data-msg=<span class="string">&quot;hi&quot;</span> onClick=&#123;<span class="variable language_">this</span>.<span class="property">changeCount</span>&#125;&gt;&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">changeCount = <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="10-3-函数组件事件处理"><a href="#10-3-函数组件事件处理" class="headerlink" title="10.3 函数组件事件处理"></a>10.3 函数组件事件处理</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">onHandler</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;事件&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;onHandler&#125;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="11-Diff算法"><a href="#11-Diff算法" class="headerlink" title="11. Diff算法"></a>11. Diff算法</h3><h4 id="11-1-index"><a href="#11-1-index" class="headerlink" title="11.1 index"></a>11.1 index</h4><p>问题：</p><ul><li><p>若对数据进行:逆序添加、逆序删除等破坏顺序操作:</p><p> 会产生没有必要的真实DOM更新 界面效果没问题,但效率低。</p></li><li><p>如果结构中还包含输入类的DOM:会产生错误DOM更新 界面有问题。</p></li><li><p>注意! 如果不存在对数据的逆序添加、逆序删除等破坏顺序操作，仅用于渲染列表用于展示，使用index作为key是没有问题的。</p></li></ul><h4 id="11-2-diff"><a href="#11-2-diff" class="headerlink" title="11.2 diff"></a>11.2 diff</h4><p>Diff算法其实就是react生成的新虚拟DOM和以前的旧虚拟DOM的比较规则：</p><ul><li>如果旧的虚拟DOM中找到了与新虚拟DOM相同的key:<ul><li>如果内容没有变化，就直接只用之前旧的真实DOM</li><li>如果内容发生了变化，就生成新的真实DOM</li></ul></li><li>如果旧的虚拟DOM中没有找到了与新虚拟DOM相同的key:<ul><li>根据数据创建新的真实的DOM,随后渲染到页面上</li></ul></li></ul><h2 id="二、React-周边"><a href="#二、React-周边" class="headerlink" title="二、React 周边"></a>二、React 周边</h2><h3 id="1-css处理"><a href="#1-css处理" class="headerlink" title="1. css处理"></a>1. css处理</h3><h4 id="1-1-局部-css-样式"><a href="#1-1-局部-css-样式" class="headerlink" title="1.1 局部 css 样式"></a>1.1 局部 css 样式</h4><ol><li><p>要求新建：文件名.module.css</p><ol><li>在该文家中创建css代码</li></ol><p></p></li><li><p>导入样式：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">&#x27;文件名.module.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">className</span>=<span class="string">&#123;styles.btn_default&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li></ol><h4 id="1-2-引入sass"><a href="#1-2-引入sass" class="headerlink" title="1.2 引入sass"></a>1.2 引入sass</h4><p>概述：只需要在当前环境中安装以下模块就可以直接使用。</p><p><code>npm i sass</code></p><h3 id="2-antd-引入"><a href="#2-antd-引入" class="headerlink" title="2. antd 引入"></a>2. antd 引入</h3><p><code>npm i antd</code></p><p>配置模块安装：</p><p><code>npm i @craco/craco -D --legacy-peer-deps</code></p><p><code>npm i babel-plugin-import -D</code></p><p>修改package.json 里的 scripts</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;script&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;start&quot;</span>: <span class="string">&quot;craco start&quot;</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>根目录下创建配置文件 craco.config.js 文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">babel</span>: &#123;</span><br><span class="line">      <span class="attr">plugins</span>: [</span><br><span class="line">        [<span class="string">&quot;import&quot;</span>, &#123;</span><br><span class="line">          <span class="attr">libraryName</span>: <span class="string">&#x27;antd&#x27;</span>,</span><br><span class="line">          <span class="attr">libraryDirectory</span>: <span class="string">&#x27;es&#x27;</span>,</span><br><span class="line">          <span class="attr">style</span>: <span class="string">&#x27;css&#x27;</span></span><br><span class="line">        &#125;]</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">webpack</span>: &#123;</span><br><span class="line">      <span class="attr">alias</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;@&#x27;</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;src&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程 </tag>
            
            <tag> 前端 </tag>
            
            <tag> React </tag>
            
            <tag> 框架 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TS快速上手</title>
      <link href="/79333/2021/05/24/TS%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/"/>
      <url>/79333/2021/05/24/TS%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="TS快速上手"><a href="#TS快速上手" class="headerlink" title="TS快速上手"></a>TS快速上手</h1><h2 id="1-TS简介"><a href="#1-TS简介" class="headerlink" title="1. TS简介"></a>1. TS简介</h2><p>TS属于 JS 的超集，支持所有的 JS 的语法，然后新增了其他内容，比如类型约束，接口，泛型，枚举等等。</p><h2 id="2-TS环境搭建"><a href="#2-TS环境搭建" class="headerlink" title="2. TS环境搭建"></a>2. TS环境搭建</h2><p><code>npm i -g typescript</code></p><p>编译：<code>tsc index.ts</code></p><h2 id="3-TS语法"><a href="#3-TS语法" class="headerlink" title="3. TS语法"></a>3. TS语法</h2><h3 id="3-1-类型约束"><a href="#3-1-类型约束" class="headerlink" title="3.1 类型约束"></a>3.1 类型约束</h3><p>概述：在ts中生命的变量(或者函数的参数等)都会进行类型约束，不同类型的数据之间不能赋值。</p><h4 id="1-字符串类型"><a href="#1-字符串类型" class="headerlink" title="1. 字符串类型"></a>1. 字符串类型</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">str</span>:string = <span class="string">&#x27;abc&#x27;</span></span><br><span class="line">str = =<span class="string">&#x27;123&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="2-数值类型"><a href="#2-数值类型" class="headerlink" title="2. 数值类型"></a>2. 数值类型</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">num</span>:number = <span class="number">123</span></span><br></pre></td></tr></table></figure><h4 id="3-布尔值类型"><a href="#3-布尔值类型" class="headerlink" title="3. 布尔值类型"></a>3. 布尔值类型</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">bool</span>:boolean = <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="4-symbol类型"><a href="#4-symbol类型" class="headerlink" title="4. symbol类型"></a>4. symbol类型</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">sy</span>:symbol = <span class="title class_">Symbol</span>()</span><br></pre></td></tr></table></figure><h4 id="5-null和undefined类型"><a href="#5-null和undefined类型" class="headerlink" title="5. null和undefined类型"></a>5. null和undefined类型</h4><h4 id="6-any-类型"><a href="#6-any-类型" class="headerlink" title="6. any 类型"></a>6. any 类型</h4><p>该类型可以被赋予任何类型的值</p><h4 id="7-void类型"><a href="#7-void类型" class="headerlink" title="7. void类型"></a>7. void类型</h4><p>没有任何类型，在函数没有返回值的时候使用</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>):<span class="keyword">void</span> &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="8-never"><a href="#8-never" class="headerlink" title="8. never"></a>8. never</h4><p>永远不会存在值得类型</p><h4 id="9-unknown"><a href="#9-unknown" class="headerlink" title="9. unknown"></a>9. unknown</h4><h4 id="10-元组类型-Turple"><a href="#10-元组类型-Turple" class="headerlink" title="10. 元组类型(Turple)"></a>10. 元组类型(Turple)</h4><p>概述：用于定义具有有限数量的未命名属性的类型，适用元组时必须提供每个属性的值。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">tu</span>:[string,number] = [<span class="string">&#x27;abc&#x27;</span>,<span class="number">123</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 访问</span></span><br><span class="line">tu[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// push 不会报错但是push不进去</span></span><br><span class="line">tu.<span class="title function_">push</span>(<span class="number">123</span>)</span><br></pre></td></tr></table></figure><h4 id="11-枚举类型-enum"><a href="#11-枚举类型-enum" class="headerlink" title="11. 枚举类型(enum)"></a>11. 枚举类型(enum)</h4><p>概述：用于组织收集一组相关变量的方式，可以非常清晰的去表达意图</p><p>作用：给数值或其他数据进行语义化，提高代码的可读性。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数字枚举</span></span><br><span class="line">enum <span class="title class_">Color</span> &#123;</span><br><span class="line">    <span class="title class_">Red</span>, <span class="comment">// Color.Red表示0</span></span><br><span class="line">    <span class="title class_">Green</span>,<span class="comment">// Color.Green表示1</span></span><br><span class="line">    <span class="title class_">Blue</span>,<span class="comment">//Color.Blue表示2</span></span><br><span class="line">    <span class="title class_">Yellow</span><span class="comment">// Color.Yellow表示3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置初始值</span></span><br><span class="line">enum <span class="title class_">Color</span> &#123;</span><br><span class="line">      <span class="title class_">Red</span> = <span class="number">1</span>, <span class="comment">// Color.Red 表示 1</span></span><br><span class="line">      <span class="title class_">Green</span>, <span class="comment">// Color.Green 表示 2</span></span><br><span class="line">      <span class="title class_">Blue</span>, <span class="comment">// Color.Blue 表示 3</span></span><br><span class="line">      <span class="title class_">Yellow</span> <span class="comment">// Color.Yellow 表示 4</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串枚举 所有枚举成员都必须给初始值</span></span><br><span class="line">enmu <span class="title class_">Role</span> &#123;</span><br><span class="line">      <span class="title class_">Admin</span> = <span class="string">&#x27;admin&#x27;</span>,</span><br><span class="line">      <span class="title class_">User</span> = <span class="string">&#x27;user&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串枚举和数值枚举混合</span></span><br><span class="line">enum <span class="title class_">Hun</span> &#123;</span><br><span class="line">      A, <span class="comment">// 0</span></span><br><span class="line">      B, <span class="comment">// 1</span></span><br><span class="line">      C = <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">      D = <span class="string">&#x27;d&#x27;</span>,</span><br><span class="line">      E = <span class="number">6</span>, <span class="comment">// 在字符串枚举之后的数值必须给初始值</span></span><br><span class="line">      F <span class="comment">// 7</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="12-接口"><a href="#12-接口" class="headerlink" title="12. 接口"></a>12. 接口</h4><p>概述：接口是对行为抽象。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 语法</span></span><br><span class="line">interface 接口名 &#123;</span><br><span class="line">    属性：属性类型</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 约束对象</span></span><br><span class="line">interface <span class="title class_">Props</span> &#123;</span><br><span class="line">    <span class="attr">path</span>:string;</span><br><span class="line">    <span class="attr">name</span>:string</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>:<span class="title class_">Props</span> = &#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;login&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 约束数组</span></span><br><span class="line">interface <span class="title class_">Props</span> &#123;</span><br><span class="line">    [<span class="attr">key</span>:number]:string</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">obj</span>:<span class="title class_">Props</span> = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象方法的约束</span></span><br><span class="line">interface <span class="title class_">Props</span> &#123;</span><br><span class="line">    <span class="attr">path</span>:string;</span><br><span class="line">    <span class="attr">name</span>:string;</span><br><span class="line">    <span class="attr">foo</span>:<span class="function">()=&gt;</span><span class="keyword">void</span>; <span class="comment">//  foo 是一个方法，没有返回值，没有参数</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> objLProps = &#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;login&#x27;</span>,</span><br><span class="line">    <span class="title function_">foo</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可选属性</span></span><br><span class="line">interface <span class="title class_">Props</span> &#123;</span><br><span class="line">    <span class="attr">path</span>: string;</span><br><span class="line">    <span class="attr">name</span>: string;</span><br><span class="line">    title?: string;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// 只读属性</span></span><br><span class="line">interface <span class="title class_">Props</span> &#123;</span><br><span class="line">      <span class="attr">path</span>: string;</span><br><span class="line">      <span class="attr">name</span>: string;</span><br><span class="line">      readonly <span class="attr">title</span>: string;</span><br><span class="line"> &#125;</span><br><span class="line">    </span><br><span class="line"> <span class="comment">// 任意属性</span></span><br><span class="line">    interface <span class="title class_">Props</span> &#123;</span><br><span class="line">      <span class="attr">path</span>: string;</span><br><span class="line">      <span class="attr">name</span>: string;</span><br><span class="line">      [<span class="attr">key</span>: string]: any;</span><br><span class="line">    &#125;    </span><br><span class="line">    </span><br><span class="line">     <span class="comment">// 接口继承</span></span><br><span class="line">    interface <span class="title class_">PropsA</span> &#123;</span><br><span class="line">      <span class="attr">path</span>: string;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    interface <span class="title class_">PropsB</span> <span class="keyword">extends</span> <span class="title class_">PropsA</span> &#123;</span><br><span class="line">      <span class="attr">name</span>: string;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> <span class="attr">obj</span>: <span class="title class_">PropsB</span> = &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="13-类型别名"><a href="#13-类型别名" class="headerlink" title="13. 类型别名"></a>13. 类型别名</h4><p>概述：用于给一个类型去一个新的名字，和接口有点类似，可以用于原始类型、接口联合等等</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">type <span class="title class_">Name</span> = string;</span><br><span class="line">    type <span class="title class_">Name</span> = string | <span class="literal">null</span>; <span class="comment">// 联合类型，或者，两个类型之一</span></span><br><span class="line">    type <span class="title class_">Foo</span> = <span class="function">() =&gt;</span> string; <span class="comment">// 约束函数，没有参数，返回值是 string</span></span><br><span class="line">    type <span class="title class_">Resolve</span> = <span class="title class_">Name</span> | <span class="title class_">Foo</span>;</span><br><span class="line">    type <span class="title class_">IProps</span> = &#123;</span><br><span class="line">      <span class="attr">url</span>: string;</span><br><span class="line">      <span class="attr">foo</span>: <span class="function">() =&gt;</span> <span class="keyword">void</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 交叉类型</span></span><br><span class="line">    interface <span class="variable constant_">IPA</span> &#123;</span><br><span class="line">      <span class="attr">x</span>: number;</span><br><span class="line">    &#125;</span><br><span class="line">    interface <span class="variable constant_">IPB</span> &#123;</span><br><span class="line">      <span class="attr">y</span>: number;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    type <span class="variable constant_">IP</span> = <span class="variable constant_">IPA</span> &amp; <span class="variable constant_">IPB</span>;</span><br></pre></td></tr></table></figure><h4 id="14-函数类型"><a href="#14-函数类型" class="headerlink" title="14. 函数类型"></a>14. 函数类型</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">x: number, y: number</span>): number &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="attr">foo</span>: <span class="function">(<span class="params">x: number, y: number</span>) =&gt;</span> number = <span class="keyword">function</span> (<span class="params">x: number, y: number</span>): number &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 简写</span></span><br><span class="line">  <span class="keyword">const</span> <span class="attr">foo</span>: <span class="function">(<span class="params">x: number, y: number</span>) =&gt;</span> number = <span class="keyword">function</span>(<span class="params">x, y</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 结合 type </span></span><br><span class="line">  type <span class="title class_">FnProps</span> = <span class="function">(<span class="params">x: number, y: number</span>) =&gt;</span> number;</span><br><span class="line">  <span class="keyword">const</span> <span class="attr">foo</span>: <span class="title class_">FnProps</span> = <span class="keyword">function</span>(<span class="params">x, y</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 可选参数</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">x: number, y: number, z?: number</span>): number &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 参数默认值</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">x: number = <span class="number">0</span>, y: number = <span class="number">0</span></span>): number &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h4 id="15-数组"><a href="#15-数组" class="headerlink" title="15. 数组"></a>15. 数组</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 约束数组方式1</span></span><br><span class="line"> <span class="keyword">const</span> <span class="attr">arr</span>: string[] = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>];</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 约束数组方式2</span></span><br><span class="line"> <span class="keyword">const</span> <span class="attr">arr</span>: <span class="title class_">Array</span>&lt;string&gt; = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>];</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 约束数组方式3</span></span><br><span class="line"> interface <span class="variable constant_">AP</span> &#123;</span><br><span class="line">   [<span class="attr">key</span>: number]: string;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">const</span> <span class="attr">arr</span>: <span class="variable constant_">AP</span> = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>];</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 复杂数组</span></span><br><span class="line"> interface <span class="title class_">IProps</span> &#123;</span><br><span class="line">   <span class="attr">name</span>: string;</span><br><span class="line">   <span class="attr">path</span>: string;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">const</span> <span class="attr">arr</span>: <span class="title class_">IProps</span>[] = [&#123;</span><br><span class="line">   <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">   <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line"> &#125;];</span><br></pre></td></tr></table></figure><h3 id="3-2-运算符"><a href="#3-2-运算符" class="headerlink" title="3.2 运算符"></a>3.2 运算符</h3><h4 id="1-非空断言"><a href="#1-非空断言" class="headerlink" title="1. 非空断言 !"></a>1. 非空断言 !</h4><p>概述：一般用在变量名或者函数名之后，用于强调对应的元素时null 或者 undefined</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span> (callback?: ()=?<span class="keyword">void</span>) &#123;</span><br><span class="line">callback!()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-链运算符"><a href="#2-链运算符" class="headerlink" title="2. 链运算符 ?"></a>2. 链运算符 ?</h4><p>概述：用来判断左侧的表达式是否为null 或者 undefined ，如果为空就不执行，否则执行后面的代码。</p><p><code>a?.b()</code></p><p>类似</p><p><code>success &amp;&amp; success()</code></p><h4 id="3-类型断言"><a href="#3-类型断言" class="headerlink" title="3. 类型断言"></a>3. 类型断言</h4><p>概述：我确定的知道某个变量的类型</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isFish</span>(<span class="params">animal: Cat | Fish</span>) &#123;</span><br><span class="line">     <span class="keyword">if</span> (<span class="keyword">typeof</span> (animal <span class="keyword">as</span> <span class="title class_">Fish</span>).<span class="property">swim</span> === <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="3-3-class"><a href="#3-3-class" class="headerlink" title="3.3 class"></a>3.3 class</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: string; <span class="comment">// 默认公开属性</span></span><br><span class="line">    public <span class="attr">age</span>: number; <span class="comment">// public 表示公开属性</span></span><br><span class="line">    private <span class="attr">height</span>: number = <span class="number">160</span>; <span class="comment">// private 私有属性，只能在类的内部使用，子类和实例都不能使用</span></span><br><span class="line">    protected <span class="attr">city</span>: string = <span class="string">&quot;成都&quot;</span>; <span class="comment">// protected 受保护的，可以在子类中访问，但是实例不能访问</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> version = <span class="string">&quot;v1&quot;</span>; <span class="comment">// 静态属性，只能通过类名调用</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name: string, age: number</span>) &#123;</span><br><span class="line">      <span class="comment">// 构造函数</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">name</span> = name; <span class="comment">// name 是加在实例上的</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">height</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">birth</span>() &#123;</span><br><span class="line">      <span class="comment">// get 方法</span></span><br><span class="line">      <span class="keyword">return</span> <span class="number">1990</span> + <span class="variable language_">this</span>.<span class="property">age</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">birth</span>(<span class="params">a: number</span>) &#123;</span><br><span class="line">      <span class="comment">// set 方法</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">age</span> = a;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 继承</span></span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name: string, age: number</span>) &#123;</span><br><span class="line">      <span class="variable language_">super</span>(name, age);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 抽象类 - 只能被继承，不能被实例化，一般用于抽取类中的公共代码</span></span><br><span class="line">  abstract <span class="keyword">class</span> <span class="title class_">Animal</span> &#123; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span> &#123; &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 类也可以继承接口</span></span><br><span class="line">  interface <span class="title class_">PersonProps</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: string;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">Admin</span> implements <span class="title class_">PersonProps</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: string = <span class="string">&quot;admin&quot;</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="3-4-泛型"><a href="#3-4-泛型" class="headerlink" title="3.4 泛型"></a>3.4 泛型</h3><p>概述：泛型是指在定义函数、接口或者类的时候，不预先制定具体的类型，而是在使用的时候在指定类型的一种特性。简单理解就是给类型变成一个变量。</p><p>定义： 泛型使用 &lt;&gt; 进行定义，使用 A - Z 来定义泛型变量，常见的为 T, K, U</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">id</span>(<span class="params">value: number</span>): number &#123;</span><br><span class="line">      <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">id</span>(<span class="number">123</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">idS</span>(<span class="params">value: string</span>): string &#123;</span><br><span class="line">      <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">idS</span>(<span class="string">&#x27;abc&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">idA</span>(<span class="params">value: any</span>): any &#123;</span><br><span class="line">      <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 优化，使用一个 T 去表示一个类型</span></span><br><span class="line">    <span class="keyword">function</span> id&lt;T&gt;(<span class="attr">value</span>: T): T &#123;</span><br><span class="line">      <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 使用的时候在指定类型</span></span><br><span class="line">    id&lt;number&gt;(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    id&lt;string&gt;(<span class="string">&#x27;abc&#x27;</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; 其他泛型定义</span><br><span class="line">    <span class="keyword">function</span> foo&lt;T, U&gt;(<span class="attr">x</span>: T, <span class="attr">y</span>: U): <span class="keyword">void</span> &#123;</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    foo&lt;string, number&gt;(<span class="string">&#x27;abc&#x27;</span>, <span class="number">123</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> foo&lt;T&gt;(<span class="attr">arg</span>: <span class="title class_">Array</span>&lt;T&gt;) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    interface <span class="title class_">Props</span>&lt;T&gt; &#123;</span><br><span class="line">      <span class="attr">name</span>: string;</span><br><span class="line">      <span class="attr">children</span>: T;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Cat</span>&lt;T = any&gt; &#123; <span class="comment">// 泛型默认值</span></span><br><span class="line">      <span class="attr">type</span>: T;</span><br><span class="line">      <span class="title function_">constructor</span>(<span class="params">type: T</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">type</span> = type;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 泛型继承</span></span><br><span class="line">    <span class="keyword">function</span> foo&lt;T <span class="keyword">extends</span> <span class="title class_">Date</span>&gt;(<span class="attr">arg</span>: T) &#123;&#125;</span><br></pre></td></tr></table></figure><p>​                                                                                                                                                                                                                                                                                                                                                                                                      </p>]]></content>
      
      
      
        <tags>
            
            <tag> 编程 </tag>
            
            <tag> 笔记 </tag>
            
            <tag> TypeScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git笔记</title>
      <link href="/79333/2021/04/15/Git%E7%AC%94%E8%AE%B0/"/>
      <url>/79333/2021/04/15/Git%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="Git总结"><a href="#Git总结" class="headerlink" title="Git总结"></a>Git总结</h1><h3 id="1、配置用户"><a href="#1、配置用户" class="headerlink" title="1、配置用户"></a>1、配置用户</h3><p><code>git config --global user.name &quot;飞舟&quot;</code></p><p><code>git config --global user.email  “fay_chou@163.com&quot;</code></p><h3 id="2、关联"><a href="#2、关联" class="headerlink" title="2、关联"></a>2、关联</h3><p><code>git remote add origin git@gitee.com:faychou/w304_vue_cart.git</code></p><h3 id="3、拉取"><a href="#3、拉取" class="headerlink" title="3、拉取"></a>3、拉取</h3><p>保证远程端与本地端一致，有可能导致代码冲突</p><p><code>git pull --rebase</code></p><p><code> git pull origin 分支名</code></p><h3 id="4、暂存"><a href="#4、暂存" class="headerlink" title="4、暂存"></a>4、暂存</h3><p>将文件变动添加到暂存区</p><p><code>git add -A</code></p><h3 id="5、提交到本地"><a href="#5、提交到本地" class="headerlink" title="5、提交到本地"></a>5、提交到本地</h3><p><code>git commit -m &#39;提交说明&#39;</code></p><h3 id="6、推送"><a href="#6、推送" class="headerlink" title="6、推送"></a>6、推送</h3><p><code>git push -u origin master</code> &#x2F;&#x2F; 第一次推送可以加 -u 参数，以后推送至需要git push</p><h3 id="7、查看仓库状态"><a href="#7、查看仓库状态" class="headerlink" title="7、查看仓库状态"></a>7、查看仓库状态</h3><p><code>git status</code></p><h3 id="8、分支操作"><a href="#8、分支操作" class="headerlink" title="8、分支操作"></a>8、分支操作</h3><p>概念：分支操作就是生成一份现有代码的物理拷贝，然后在分支上进行操作，而不是直接在 master 上操作。</p><table><thead><tr><th align="center">命令名称</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>git branch</code></td><td align="center">查看本地分支</td></tr><tr><td align="center"><code>git branch -r</code></td><td align="center">查看远程分支</td></tr><tr><td align="center"><code>git branch --all</code></td><td align="center">查看所有分支，包括本地和远程端</td></tr><tr><td align="center"><code>git branch 分支名</code></td><td align="center">创建分支并命名</td></tr><tr><td align="center"><code>git checkout 分支名</code></td><td align="center">切换分支</td></tr><tr><td align="center"><code>git merge 分支名</code></td><td align="center">合并指定分支到当前分支</td></tr><tr><td align="center"><code>git branch -d 分支名</code></td><td align="center">删除分支</td></tr><tr><td align="center"><code>git branch -D 分支名</code></td><td align="center">强制删除</td></tr></tbody></table><h3 id="9、冲突"><a href="#9、冲突" class="headerlink" title="9、冲突"></a>9、冲突</h3><p>描述：因为不同的人改了同一个文件的代码</p><p>远程端：<code>git rebase --skip</code></p><p>本地端：<code>git rebase --continue</code></p>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程 </tag>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue3笔记</title>
      <link href="/79333/2021/01/25/Vue3%E7%AC%94%E8%AE%B0/"/>
      <url>/79333/2021/01/25/Vue3%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue3总结"><a href="#Vue3总结" class="headerlink" title="Vue3总结"></a>Vue3总结</h1><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://user-images.githubusercontent.com/499550/93624428-53932780-f9ae-11ea-8d16-af949e16a09f.png" style="width:200px" /><h2 id="1-Vue3简介"><a href="#1-Vue3简介" class="headerlink" title="1.Vue3简介"></a>1.Vue3简介</h2><ul><li>2020年9月18日，Vue.js发布3.0版本，代号：One Piece（海贼王）</li><li>耗时2年多、<a href="https://github.com/vuejs/vue-next/graphs/commit-activity">2600+次提交</a>、<a href="https://github.com/vuejs/rfcs/tree/master/active-rfcs">30+个RFC</a>、<a href="https://github.com/vuejs/vue-next/pulls?q=is:pr+is:merged+-author:app/dependabot-preview+">600+次PR</a>、<a href="https://github.com/vuejs/vue-next/graphs/contributors">99位贡献者</a> </li><li>github上的tags地址：<a href="https://github.com/vuejs/vue-next/releases/tag/v3.0.0">https://github.com/vuejs/vue-next/releases/tag/v3.0.0</a></li></ul><h2 id="2-Vue3带来了什么"><a href="#2-Vue3带来了什么" class="headerlink" title="2.Vue3带来了什么"></a>2.Vue3带来了什么</h2><h3 id="1-性能的提升"><a href="#1-性能的提升" class="headerlink" title="1.性能的提升"></a>1.性能的提升</h3><ul><li><p>打包大小减少41%</p></li><li><p>初次渲染快55%, 更新渲染快133%</p></li><li><p>内存减少54%</p><p>……</p></li></ul><h3 id="2-源码的升级"><a href="#2-源码的升级" class="headerlink" title="2.源码的升级"></a>2.源码的升级</h3><ul><li><p>使用Proxy代替defineProperty实现响应式</p></li><li><p>重写虚拟DOM的实现和Tree-Shaking</p><p>……</p></li></ul><h3 id="3-拥抱TypeScript"><a href="#3-拥抱TypeScript" class="headerlink" title="3.拥抱TypeScript"></a>3.拥抱TypeScript</h3><ul><li>Vue3可以更好的支持TypeScript</li></ul><h3 id="4-新的特性"><a href="#4-新的特性" class="headerlink" title="4.新的特性"></a>4.新的特性</h3><ol><li><p>Composition API（组合API）</p><ul><li>setup配置</li><li>ref与reactive</li><li>watch与watchEffect</li><li>provide与inject</li><li>……</li></ul></li><li><p>新的内置组件</p><ul><li>Fragment </li><li>Teleport</li><li>Suspense</li></ul></li><li><p>其他改变</p><ul><li>新的生命周期钩子</li><li>data 选项应始终被声明为一个函数</li><li>移除keyCode支持作为 v-on 的修饰符</li><li>……</li></ul></li></ol><h2 id="一、创建Vue3-0工程"><a href="#一、创建Vue3-0工程" class="headerlink" title="一、创建Vue3.0工程"></a>一、创建Vue3.0工程</h2><h3 id="1-使用-vue-cli-创建"><a href="#1-使用-vue-cli-创建" class="headerlink" title="1.使用 vue-cli 创建"></a>1.使用 vue-cli 创建</h3><p>官方文档：<a href="https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create">https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 查看@vue/cli版本，确保@vue/cli版本在4.5.0以上</span></span><br><span class="line">vue --version</span><br><span class="line"><span class="comment">## 安装或者升级你的@vue/cli</span></span><br><span class="line">npm install -g @vue/cli</span><br><span class="line"><span class="comment">## 创建</span></span><br><span class="line">vue create vue_test</span><br><span class="line"><span class="comment">## 启动</span></span><br><span class="line"><span class="built_in">cd</span> vue_test</span><br><span class="line">npm run serve</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-使用-vite-创建"><a href="#2-使用-vite-创建" class="headerlink" title="2.使用 vite 创建"></a>2.使用 vite 创建</h3><p>官方文档：<a href="https://v3.cn.vuejs.org/guide/installation.html#vite">https://v3.cn.vuejs.org/guide/installation.html#vite</a></p><p>vite官网：<a href="https://vitejs.cn/">https://vitejs.cn</a></p><ul><li>什么是vite？—— 新一代前端构建工具。</li><li>优势如下：<ul><li>开发环境中，无需打包操作，可快速的冷启动。</li><li>轻量快速的热重载（HMR）。</li><li>真正的按需编译，不再等待整个应用编译完成。</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 本地构建</span></span><br><span class="line"> npm init vue@latest</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建项目</span></span><br><span class="line">npm create vite@latest</span><br><span class="line">npm create vite@latest my-vue-app -- --template vue</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="二、常用-Composition-API"><a href="#二、常用-Composition-API" class="headerlink" title="二、常用 Composition API"></a>二、常用 Composition API</h2><p>官方文档: <a href="https://v3.cn.vuejs.org/guide/composition-api-introduction.html">https://v3.cn.vuejs.org/guide/composition-api-introduction.html</a></p><h3 id="1-拉开序幕的setup"><a href="#1-拉开序幕的setup" class="headerlink" title="1.拉开序幕的setup"></a>1.拉开序幕的setup</h3><ol><li>理解：Vue3.0中一个新的配置项，值为一个函数。</li><li>setup是所有<strong style="color:#DD5145">Composition API（组合API）</strong><i style="color:gray;font-weight:bold">“ 表演的舞台 ”</i>。</li><li>组件中所用到的：数据、方法等等，均要配置在setup中。</li><li>setup函数的两种返回值：<ol><li>若返回一个对象，则对象中的属性、方法, 在模板中均可以直接使用。（重点关注！）</li><li><span style="color:#aad">若返回一个渲染函数：则可以自定义渲染内容。（了解）</span></li></ol></li><li>注意点：<ol><li>尽量不要与Vue2.x配置混用<ul><li>Vue2.x配置（data、methos、computed…）中<strong style="color:#DD5145">可以访问到</strong>setup中的属性、方法。</li><li>但在setup中<strong style="color:#DD5145">不能访问到</strong>Vue2.x配置（data、methos、computed…）。</li><li>如果有重名, setup优先。</li></ul></li><li>setup不能是一个async函数，因为返回值不再是return的对象, 而是promise, 模板看不到return对象中的属性。（后期也可以返回一个Promise实例，但需要Suspense和异步组件的配合）</li></ol></li></ol><h3 id="2-ref函数"><a href="#2-ref函数" class="headerlink" title="2.ref函数"></a>2.ref函数</h3><ul><li>作用: 定义一个响应式的数据</li><li>语法: <code>const xxx = ref(initValue)</code> <ul><li>创建一个包含响应式数据的<strong style="color:#DD5145">引用对象（reference对象，简称ref对象）</strong>。</li><li>JS中操作数据： <code>xxx.value</code></li><li>模板中读取数据: 不需要.value，直接：<code>&lt;div&gt;&#123;&#123;xxx&#125;&#125;&lt;/div&gt;</code></li></ul></li><li>备注：<ul><li>接收的数据可以是：基本类型、也可以是对象类型。</li><li>基本类型的数据：响应式依然是靠<code>Object.defineProperty()</code>的<code>get</code>与<code>set</code>完成的。</li><li>对象类型的数据：内部 <i style="color:gray;font-weight:bold">“ 求助 ”</i> 了Vue3.0中的一个新函数—— <code>reactive</code>函数。</li></ul></li></ul><h3 id="3-reactive函数"><a href="#3-reactive函数" class="headerlink" title="3.reactive函数"></a>3.reactive函数</h3><ul><li>作用: 定义一个<strong style="color:#DD5145">对象类型</strong>的响应式数据（基本类型不要用它，要用<code>ref</code>函数）</li><li>语法：<code>const 代理对象= reactive(源对象)</code>接收一个对象（或数组），返回一个<strong style="color:#DD5145">代理对象（Proxy的实例对象，简称proxy对象）</strong></li><li>reactive定义的响应式数据是“深层次的”。</li><li>内部基于 ES6 的 Proxy 实现，通过代理对象操作源对象内部数据进行操作。</li></ul><h3 id="4-Vue3-0中的响应式原理"><a href="#4-Vue3-0中的响应式原理" class="headerlink" title="4.Vue3.0中的响应式原理"></a>4.Vue3.0中的响应式原理</h3><h4 id="vue2-x的响应式"><a href="#vue2-x的响应式" class="headerlink" title="vue2.x的响应式"></a>vue2.x的响应式</h4><ul><li><p>实现原理：</p><ul><li><p>对象类型：通过<code>Object.defineProperty()</code>对属性的读取、修改进行拦截（数据劫持）。</p></li><li><p>数组类型：通过重写更新数组的一系列方法来实现拦截。（对数组的变更方法进行了包裹）。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(data, <span class="string">&#x27;count&#x27;</span>, &#123;</span><br><span class="line">    get () &#123;&#125;, </span><br><span class="line">    set () &#123;&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul></li><li><p>存在问题：</p><ul><li>新增属性、删除属性, 界面不会更新。</li><li>直接通过下标修改数组, 界面不会自动更新。</li></ul></li></ul><h4 id="Vue3-0的响应式"><a href="#Vue3-0的响应式" class="headerlink" title="Vue3.0的响应式"></a>Vue3.0的响应式</h4><ul><li><p>实现原理: </p><ul><li><p>通过Proxy（代理）:  拦截对象中任意属性的变化, 包括：属性值的读写、属性的添加、属性的删除等。</p></li><li><p>通过Reflect（反射）:  对源对象的属性进行操作。</p></li><li><p>MDN文档中描述的Proxy与Reflect：</p><ul><li><p>Proxy：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy</a></p></li><li><p>Reflect：<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Proxy</span>(data, &#123;</span><br><span class="line"><span class="comment">// 拦截读取属性值</span></span><br><span class="line">    get (target, prop) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">get</span>(target, prop)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 拦截设置属性值或添加新属性</span></span><br><span class="line">    set (target, prop, value) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">set</span>(target, prop, value)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 拦截删除属性</span></span><br><span class="line">    deleteProperty (target, prop) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">deleteProperty</span>(target, prop)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">proxy.<span class="property">name</span> = <span class="string">&#x27;tom&#x27;</span>   </span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul></li></ul></li></ul><h3 id="5-reactive对比ref"><a href="#5-reactive对比ref" class="headerlink" title="5.reactive对比ref"></a>5.reactive对比ref</h3><ul><li>从定义数据角度对比：<ul><li>ref用来定义：<strong style="color:#DD5145">基本类型数据</strong>。</li><li>reactive用来定义：<strong style="color:#DD5145">对象（或数组）类型数据</strong>。</li><li>备注：ref也可以用来定义<strong style="color:#DD5145">对象（或数组）类型数据</strong>, 它内部会自动通过<code>reactive</code>转为<strong style="color:#DD5145">代理对象</strong>。</li></ul></li><li>从原理角度对比：<ul><li>ref通过<code>Object.defineProperty()</code>的<code>get</code>与<code>set</code>来实现响应式（数据劫持）。</li><li>reactive通过使用<strong style="color:#DD5145">Proxy</strong>来实现响应式（数据劫持）, 并通过<strong style="color:#DD5145">Reflect</strong>操作<strong style="color:orange">源对象</strong>内部的数据。</li></ul></li><li>从使用角度对比：<ul><li>ref定义的数据：操作数据<strong style="color:#DD5145">需要</strong><code>.value</code>，读取数据时模板中直接读取<strong style="color:#DD5145">不需要</strong><code>.value</code>。</li><li>reactive定义的数据：操作数据与读取数据：<strong style="color:#DD5145">均不需要</strong><code>.value</code>。</li></ul></li></ul><h3 id="6-setup的两个注意点"><a href="#6-setup的两个注意点" class="headerlink" title="6.setup的两个注意点"></a>6.setup的两个注意点</h3><ul><li><p>setup执行的时机</p><ul><li>在beforeCreate之前执行一次，this是undefined。</li></ul></li><li><p>setup的参数</p><ul><li>props：值为对象，包含：组件外部传递过来，且组件内部声明接收了的属性。</li><li>context：上下文对象<ul><li>attrs: 值为对象，包含：组件外部传递过来，但没有在props配置中声明的属性, 相当于 <code>this.$attrs</code>。</li><li>slots: 收到的插槽内容, 相当于 <code>this.$slots</code>。</li><li>emit: 分发自定义事件的函数, 相当于 <code>this.$emit</code>。</li></ul></li></ul></li></ul><h3 id="7-计算属性与监视"><a href="#7-计算属性与监视" class="headerlink" title="7.计算属性与监视"></a>7.计算属性与监视</h3><h4 id="1-computed函数"><a href="#1-computed函数" class="headerlink" title="1.computed函数"></a>1.computed函数</h4><ul><li><p>与Vue2.x中computed配置功能一致</p></li><li><p>写法</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;computed&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line">    ...</span><br><span class="line"><span class="comment">//计算属性——简写</span></span><br><span class="line">    <span class="keyword">let</span> fullName = <span class="title function_">computed</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> person.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + person.<span class="property">lastName</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">//计算属性——完整</span></span><br><span class="line">    <span class="keyword">let</span> fullName = <span class="title function_">computed</span>(&#123;</span><br><span class="line">        <span class="title function_">get</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> person.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + person.<span class="property">lastName</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">set</span>(<span class="params">value</span>)&#123;</span><br><span class="line">            <span class="keyword">const</span> nameArr = value.<span class="title function_">split</span>(<span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">            person.<span class="property">firstName</span> = nameArr[<span class="number">0</span>]</span><br><span class="line">            person.<span class="property">lastName</span> = nameArr[<span class="number">1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h4 id="2-watch函数"><a href="#2-watch函数" class="headerlink" title="2.watch函数"></a>2.watch函数</h4><ul><li><p>与Vue2.x中watch配置功能一致</p></li><li><p>两个小“坑”：</p><ul><li>监视reactive定义的响应式数据时：oldValue无法正确获取、强制开启了深度监视（deep配置失效）。</li><li>监视reactive定义的响应式数据中某个属性时：deep配置有效。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//情况一：监视ref定义的响应式数据</span></span><br><span class="line"><span class="title function_">watch</span>(sum,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;sum变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//情况二：监视多个ref定义的响应式数据</span></span><br><span class="line"><span class="title function_">watch</span>([sum,msg],<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;sum或msg变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;) </span><br><span class="line"></span><br><span class="line"><span class="comment">/* 情况三：监视reactive定义的响应式数据</span></span><br><span class="line"><span class="comment">若watch监视的是reactive定义的响应式数据，则无法正确获得oldValue！！</span></span><br><span class="line"><span class="comment">若watch监视的是reactive定义的响应式数据，则强制开启了深度监视 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="title function_">watch</span>(person,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;person变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>,<span class="attr">deep</span>:<span class="literal">false</span>&#125;) <span class="comment">//此处的deep配置不再奏效</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//情况四：监视reactive定义的响应式数据中的某个属性</span></span><br><span class="line"><span class="title function_">watch</span>(<span class="function">()=&gt;</span>person.<span class="property">job</span>,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;person的job变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>,<span class="attr">deep</span>:<span class="literal">true</span>&#125;) </span><br><span class="line"></span><br><span class="line"><span class="comment">//情况五：监视reactive定义的响应式数据中的某些属性</span></span><br><span class="line"><span class="title function_">watch</span>([<span class="function">()=&gt;</span>person.<span class="property">job</span>,<span class="function">()=&gt;</span>person.<span class="property">name</span>],<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;person的job变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">immediate</span>:<span class="literal">true</span>,<span class="attr">deep</span>:<span class="literal">true</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//特殊情况</span></span><br><span class="line"><span class="title function_">watch</span>(<span class="function">()=&gt;</span>person.<span class="property">job</span>,<span class="function">(<span class="params">newValue,oldValue</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;person的job变化了&#x27;</span>,newValue,oldValue)</span><br><span class="line">&#125;,&#123;<span class="attr">deep</span>:<span class="literal">true</span>&#125;) <span class="comment">//此处由于监视的是reactive素定义的对象中的某个属性，所以deep配置有效</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h4 id="3-watchEffect函数"><a href="#3-watchEffect函数" class="headerlink" title="3.watchEffect函数"></a>3.watchEffect函数</h4><ul><li><p>watch的套路是：既要指明监视的属性，也要指明监视的回调。</p></li><li><p>watchEffect的套路是：不用指明监视哪个属性，监视的回调中用到哪个属性，那就监视哪个属性。</p></li><li><p>watchEffect有点像computed：</p><ul><li>但computed注重的计算出来的值（回调函数的返回值），所以必须要写返回值。</li><li>而watchEffect更注重的是过程（回调函数的函数体），所以不用写返回值。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//watchEffect所指定的回调中用到的数据只要发生变化，则直接重新执行回调。</span></span><br><span class="line"><span class="title function_">watchEffect</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> x1 = sum.<span class="property">value</span></span><br><span class="line">    <span class="keyword">const</span> x2 = person.<span class="property">age</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;watchEffect配置的回调执行了&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h3 id="8-生命周期"><a href="#8-生命周期" class="headerlink" title="8.生命周期"></a>8.生命周期</h3><div style="border:1px solid black;width:380px;float:left;margin-right:20px;"><strong>vue2.x的生命周期</strong><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cn.vuejs.org/images/lifecycle.png" alt="lifecycle_2" style="zoom:33%;width:1200px" /></div><div style="border:1px solid black;width:510px;height:985px;float:left"><strong>vue3.0的生命周期</strong><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://v3.cn.vuejs.org/images/lifecycle.svg" alt="lifecycle_2" style="zoom:33%;width:2500px" /></div><p>1</p><ul><li>Vue3.0中可以继续使用Vue2.x中的生命周期钩子，但有有两个被更名：<ul><li><code>beforeDestroy</code>改名为 <code>beforeUnmount</code></li><li><code>destroyed</code>改名为 <code>unmounted</code></li></ul></li><li>Vue3.0也提供了 Composition API 形式的生命周期钩子，与Vue2.x中钩子对应关系如下：<ul><li><code>beforeCreate</code>&#x3D;&#x3D;&#x3D;&gt;<code>setup()</code></li><li><code>created</code>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>setup()</code></li><li><code>beforeMount</code> &#x3D;&#x3D;&#x3D;&gt;<code>onBeforeMount</code></li><li><code>mounted</code>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>onMounted</code></li><li><code>beforeUpdate</code>&#x3D;&#x3D;&#x3D;&gt;<code>onBeforeUpdate</code></li><li><code>updated</code> &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>onUpdated</code></li><li><code>beforeUnmount</code> &#x3D;&#x3D;&gt;<code>onBeforeUnmount</code></li><li><code>unmounted</code> &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&gt;<code>onUnmounted</code></li></ul></li></ul><h3 id="9-自定义hook函数"><a href="#9-自定义hook函数" class="headerlink" title="9.自定义hook函数"></a>9.自定义hook函数</h3><ul><li><p>什么是hook？—— 本质是一个函数，把setup函数中使用的Composition API进行了封装。</p></li><li><p>类似于vue2.x中的mixin。</p></li><li><p>自定义hook的优势: 复用代码, 让setup中的逻辑更清楚易懂。</p></li></ul><h3 id="10-toRef"><a href="#10-toRef" class="headerlink" title="10.toRef"></a>10.toRef</h3><ul><li><p>作用：创建一个 ref 对象，其value值指向另一个对象中的某个属性。</p></li><li><p>语法：<code>const name = toRef(person,&#39;name&#39;)</code></p></li><li><p>应用:   要将响应式对象中的某个属性单独提供给外部使用时。</p></li><li><p>扩展：<code>toRefs</code> 与<code>toRef</code>功能一致，但可以批量创建多个 ref 对象，语法：<code>toRefs(person)</code></p></li></ul><h2 id="三、其它-Composition-API"><a href="#三、其它-Composition-API" class="headerlink" title="三、其它 Composition API"></a>三、其它 Composition API</h2><h3 id="1-shallowReactive-与-shallowRef"><a href="#1-shallowReactive-与-shallowRef" class="headerlink" title="1.shallowReactive 与 shallowRef"></a>1.shallowReactive 与 shallowRef</h3><ul><li><p>shallowReactive：只处理对象最外层属性的响应式（浅响应式）。</p></li><li><p>shallowRef：只处理基本数据类型的响应式, 不进行对象的响应式处理。</p></li><li><p>什么时候使用?</p><ul><li>如果有一个对象数据，结构比较深, 但变化时只是外层属性变化 &#x3D;&#x3D;&#x3D;&gt; shallowReactive。</li><li>如果有一个对象数据，后续功能不会修改该对象中的属性，而是生新的对象来替换 &#x3D;&#x3D;&#x3D;&gt; shallowRef。</li></ul></li></ul><h3 id="2-readonly-与-shallowReadonly"><a href="#2-readonly-与-shallowReadonly" class="headerlink" title="2.readonly 与 shallowReadonly"></a>2.readonly 与 shallowReadonly</h3><ul><li>readonly: 让一个响应式数据变为只读的（深只读）。</li><li>shallowReadonly：让一个响应式数据变为只读的（浅只读）。</li><li>应用场景: 不希望数据被修改时。</li></ul><h3 id="3-toRaw-与-markRaw"><a href="#3-toRaw-与-markRaw" class="headerlink" title="3.toRaw 与 markRaw"></a>3.toRaw 与 markRaw</h3><ul><li>toRaw：<ul><li>作用：将一个由<code>reactive</code>生成的<strong style="color:orange">响应式对象</strong>转为<strong style="color:orange">普通对象</strong>。</li><li>使用场景：用于读取响应式对象对应的普通对象，对这个普通对象的所有操作，不会引起页面更新。</li></ul></li><li>markRaw：<ul><li>作用：标记一个对象，使其永远不会再成为响应式对象。</li><li>应用场景:<ol><li>有些值不应被设置为响应式的，例如复杂的第三方类库等。</li><li>当渲染具有不可变数据源的大列表时，跳过响应式转换可以提高性能。</li></ol></li></ul></li></ul><h3 id="4-customRef"><a href="#4-customRef" class="headerlink" title="4.customRef"></a>4.customRef</h3><ul><li><p>作用：创建一个自定义的 ref，并对其依赖项跟踪和更新触发进行显式控制。</p></li><li><p>实现防抖效果：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; v-model=&quot;keyword&quot;&gt;</span><br><span class="line">&lt;h3&gt;&#123;&#123;keyword&#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;ref,customRef&#125; from &#x27;vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;Demo&#x27;,</span><br><span class="line">setup()&#123;</span><br><span class="line">// let keyword = ref(&#x27;hello&#x27;) //使用Vue准备好的内置ref</span><br><span class="line">//自定义一个myRef</span><br><span class="line">function myRef(value,delay)&#123;</span><br><span class="line">let timer</span><br><span class="line">//通过customRef去实现自定义</span><br><span class="line">return customRef((track,trigger)=&gt;&#123;</span><br><span class="line">return&#123;</span><br><span class="line">get()&#123;</span><br><span class="line">track() //告诉Vue这个value值是需要被“追踪”的</span><br><span class="line">return value</span><br><span class="line">&#125;,</span><br><span class="line">set(newValue)&#123;</span><br><span class="line">clearTimeout(timer)</span><br><span class="line">timer = setTimeout(()=&gt;&#123;</span><br><span class="line">value = newValue</span><br><span class="line">trigger() //告诉Vue去更新界面</span><br><span class="line">&#125;,delay)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">let keyword = myRef(&#x27;hello&#x27;,500) //使用程序员自定义的ref</span><br><span class="line">return &#123;</span><br><span class="line">keyword</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h3 id="5-provide-与-inject"><a href="#5-provide-与-inject" class="headerlink" title="5.provide 与 inject"></a>5.provide 与 inject</h3><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://v3.cn.vuejs.org/images/components_provide.png" style="width:300px" /><ul><li><p>作用：实现<strong style="color:#DD5145">祖与后代组件间</strong>通信</p></li><li><p>套路：父组件有一个 <code>provide</code> 选项来提供数据，后代组件有一个 <code>inject</code> 选项来开始使用这些数据</p></li><li><p>具体写法：</p><ol><li><p>祖组件中：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params"></span>)&#123;</span><br><span class="line">......</span><br><span class="line">    <span class="keyword">let</span> car = <span class="title function_">reactive</span>(&#123;<span class="attr">name</span>:<span class="string">&#x27;奔驰&#x27;</span>,<span class="attr">price</span>:<span class="string">&#x27;40万&#x27;</span>&#125;)</span><br><span class="line">    <span class="title function_">provide</span>(<span class="string">&#x27;car&#x27;</span>,car)</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>后代组件中：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setup</span>(<span class="params">props,context</span>)&#123;</span><br><span class="line">......</span><br><span class="line">    <span class="keyword">const</span> car = <span class="title function_">inject</span>(<span class="string">&#x27;car&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> &#123;car&#125;</span><br><span class="line">......</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol></li></ul><h3 id="6-响应式数据的判断"><a href="#6-响应式数据的判断" class="headerlink" title="6.响应式数据的判断"></a>6.响应式数据的判断</h3><ul><li>isRef: 检查一个值是否为一个 ref 对象</li><li>isReactive: 检查一个对象是否是由 <code>reactive</code> 创建的响应式代理</li><li>isReadonly: 检查一个对象是否是由 <code>readonly</code> 创建的只读代理</li><li>isProxy: 检查一个对象是否是由 <code>reactive</code> 或者 <code>readonly</code> 方法创建的代理</li></ul><h2 id="四、Composition-API-的优势"><a href="#四、Composition-API-的优势" class="headerlink" title="四、Composition API 的优势"></a>四、Composition API 的优势</h2><h3 id="1-Options-API-存在的问题"><a href="#1-Options-API-存在的问题" class="headerlink" title="1.Options API 存在的问题"></a>1.Options API 存在的问题</h3><p>使用传统OptionsAPI中，新增或者修改一个需求，就需要分别在data，methods，computed里修改 。<br><a href="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f84e4e2c02424d9a99862ade0a2e4114~tplv-k3u1fbpfcp-watermark.image">https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f84e4e2c02424d9a99862ade0a2e4114~tplv-k3u1fbpfcp-watermark.image</a><br><a href="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5ac7e20d1784887a826f6360768a368~tplv-k3u1fbpfcp-watermark.image">https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5ac7e20d1784887a826f6360768a368~tplv-k3u1fbpfcp-watermark.image</a></p><h2 id="2-Composition-API-的优势"><a href="#2-Composition-API-的优势" class="headerlink" title="2.Composition API 的优势"></a>2.Composition API 的优势</h2><p>我们可以更加优雅的组织我们的代码，函数。让相关功能的代码更加有序的组织在一起。<br><a href="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc0be8211fc54b6c941c036791ba4efe~tplv-k3u1fbpfcp-watermark.image">https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc0be8211fc54b6c941c036791ba4efe~tplv-k3u1fbpfcp-watermark.image</a><br><a href="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6cc55165c0e34069a75fe36f8712eb80~tplv-k3u1fbpfcp-watermark.image">https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6cc55165c0e34069a75fe36f8712eb80~tplv-k3u1fbpfcp-watermark.image</a></p><h2 id="五、新的组件"><a href="#五、新的组件" class="headerlink" title="五、新的组件"></a>五、新的组件</h2><h3 id="1-Fragment"><a href="#1-Fragment" class="headerlink" title="1.Fragment"></a>1.Fragment</h3><ul><li>在Vue2中: 组件必须有一个根标签</li><li>在Vue3中: 组件可以没有根标签, 内部会将多个标签包含在一个Fragment虚拟元素中</li><li>好处: 减少标签层级, 减小内存占用</li></ul><h3 id="2-Teleport"><a href="#2-Teleport" class="headerlink" title="2.Teleport"></a>2.Teleport</h3><ul><li><p>什么是Teleport？—— <code>Teleport</code> 是一种能够将我们的<strong style="color:#DD5145">组件html结构</strong>移动到指定位置的技术。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;teleport to=&quot;移动位置&quot;&gt;</span><br><span class="line">&lt;div v-if=&quot;isShow&quot; class=&quot;mask&quot;&gt;</span><br><span class="line">&lt;div class=&quot;dialog&quot;&gt;</span><br><span class="line">&lt;h3&gt;我是一个弹窗&lt;/h3&gt;</span><br><span class="line">&lt;button @click=&quot;isShow = false&quot;&gt;关闭弹窗&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/teleport&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h3 id="3-Suspense"><a href="#3-Suspense" class="headerlink" title="3.Suspense"></a>3.Suspense</h3><ul><li><p>等待异步组件时渲染一些额外内容，让应用有更好的用户体验</p></li><li><p>使用步骤：</p><ul><li><p>异步引入组件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;defineAsyncComponent&#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Child</span> = <span class="title function_">defineAsyncComponent</span>(<span class="function">()=&gt;</span><span class="keyword">import</span>(<span class="string">&#x27;./components/Child.vue&#x27;</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>使用<code>Suspense</code>包裹组件，并配置好<code>default</code> 与 <code>fallback</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;app&quot;&gt;</span><br><span class="line">&lt;h3&gt;我是App组件&lt;/h3&gt;</span><br><span class="line">&lt;Suspense&gt;</span><br><span class="line">&lt;template v-slot:default&gt;</span><br><span class="line">&lt;Child/&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;template v-slot:fallback&gt;</span><br><span class="line">&lt;h3&gt;加载中.....&lt;/h3&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;/Suspense&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul></li></ul><h2 id="六、其他"><a href="#六、其他" class="headerlink" title="六、其他"></a>六、其他</h2><h3 id="1-全局API的转移"><a href="#1-全局API的转移" class="headerlink" title="1.全局API的转移"></a>1.全局API的转移</h3><ul><li><p>Vue 2.x 有许多全局 API 和配置。</p><ul><li><p>例如：注册全局组件、注册全局指令等。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注册全局组件</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;MyButton&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">data</span>: <span class="function">() =&gt;</span> (&#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="attr">template</span>: <span class="string">&#x27;&lt;button @click=&quot;count++&quot;&gt;Clicked &#123;&#123; count &#125;&#125; times.&lt;/button&gt;&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//注册全局指令</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;focus&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">inserted</span>: <span class="function"><span class="params">el</span> =&gt;</span> el.<span class="title function_">focus</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul></li><li><p>Vue3.0中对这些API做出了调整：</p><ul><li><p>将全局的API，即：<code>Vue.xxx</code>调整到应用实例（<code>app</code>）上</p><table><thead><tr><th>2.x 全局 API（<code>Vue</code>）</th><th>3.x 实例 API (<code>app</code>)</th></tr></thead><tbody><tr><td>Vue.config.xxxx</td><td>app.config.xxxx</td></tr><tr><td>Vue.config.productionTip</td><td><strong style="color:#DD5145">移除</strong></td></tr><tr><td>Vue.component</td><td>app.component</td></tr><tr><td>Vue.directive</td><td>app.directive</td></tr><tr><td>Vue.mixin</td><td>app.mixin</td></tr><tr><td>Vue.use</td><td>app.use</td></tr><tr><td>Vue.prototype</td><td>app.config.globalProperties</td></tr></tbody></table></li></ul></li></ul><h3 id="2-其他改变"><a href="#2-其他改变" class="headerlink" title="2.其他改变"></a>2.其他改变</h3><ul><li><p>data选项应始终被声明为一个函数。</p></li><li><p>过度类名的更改：</p><ul><li><p>Vue2.x写法</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.v-enter</span>,</span><br><span class="line"><span class="selector-class">.v-leave-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.v-leave</span>,</span><br><span class="line"><span class="selector-class">.v-enter-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>Vue3.x写法</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.v-enter-from</span>,</span><br><span class="line"><span class="selector-class">.v-leave-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.v-leave-from</span>,</span><br><span class="line"><span class="selector-class">.v-enter-to</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong style="color:#DD5145">移除</strong>keyCode作为 v-on 的修饰符，同时也不再支持<code>config.keyCodes</code></p></li><li><p><strong style="color:#DD5145">移除</strong><code>v-on.native</code>修饰符</p><ul><li><p>父组件中绑定事件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;my-component</span><br><span class="line">  v-on:close=&quot;handleComponentEvent&quot;</span><br><span class="line">  v-on:click=&quot;handleNativeClickEvent&quot;</span><br><span class="line">/&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>子组件中声明自定义事件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    emits: [&#x27;close&#x27;]</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong style="color:#DD5145">移除</strong>过滤器（filter）</p><blockquote><p>过滤器虽然这看起来很方便，但它需要一个自定义语法，打破大括号内表达式是 “只是 JavaScript” 的假设，这不仅有学习成本，而且有实现成本！建议用方法调用或计算属性去替换过滤器。</p></blockquote></li><li><p>……</p></li></ul><h2 id="七、pinia"><a href="#七、pinia" class="headerlink" title="七、pinia"></a>七、pinia</h2><h3 id="1-安装"><a href="#1-安装" class="headerlink" title="1. 安装"></a>1. 安装</h3><p><code>npm i pinia</code></p><h3 id="2-挂载"><a href="#2-挂载" class="headerlink" title="2. 挂载"></a>2. 挂载</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createApp &#125; <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; createPinia &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pinia = <span class="title function_">createPinia</span>()</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">App</span>)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(pinia)</span><br><span class="line">app.<span class="title function_">mount</span>(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-创建store"><a href="#3-创建store" class="headerlink" title="3. 创建store"></a>3. 创建store</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">/ store/index.<span class="property">js</span></span><br><span class="line"><span class="keyword">import</span> &#123; defineStore &#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// defineStore 函数返回 store</span></span><br><span class="line"><span class="comment">// defineStore 参数1为 store 的 id，唯一</span></span><br><span class="line"><span class="comment">// defineStore 参数2是一个对象，包含 state、 getters、actions</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mainStore = <span class="title function_">defineStore</span>(<span class="string">&#x27;main&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">state</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">count</span>: <span class="number">0</span> &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 也可以这样定义</span></span><br><span class="line">  <span class="comment">// state: () =&gt; (&#123; count: 0 &#125;)</span></span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="title function_">doubleCount</span>(<span class="params">state</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">count</span> * <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123; <span class="comment">// 在这里修改数据，无论同步异步</span></span><br><span class="line">    <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">count</span>++</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 异步处理</span></span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">getList</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">await</span> <span class="title function_">axios</span>()</span><br><span class="line">      ...</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="4-使用"><a href="#4-使用" class="headerlink" title="4. 使用"></a>4. 使用</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;store.count&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123;store.doubleCount&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;foo&quot;</span>&gt;</span>按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">import</span> &#123;mainStore&#125; <span class="keyword">from</span> <span class="string">&#x27;@/store/index.js&#x27;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">const</span> store = <span class="title function_">mainStore</span>(); <span class="comment">// 获取 store 实例</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="keyword">const</span> <span class="title function_">foo</span> = (<span class="params"></span>) =&gt; &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    store.<span class="title function_">increment</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-state"><a href="#5-state" class="headerlink" title="5. state"></a>5. state</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> store = <span class="title function_">mainStore</span>();</span><br><span class="line"><span class="comment">// 访问 state</span></span><br><span class="line">store.<span class="property">count</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 重置 state</span></span><br><span class="line">store.$reset();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 默认情况下 state 不能解构的</span></span><br><span class="line"><span class="comment">// const &#123;count&#125; = store; 解构后会失去响应式</span></span><br><span class="line"><span class="keyword">import</span> &#123;storeToRefs&#125; <span class="keyword">from</span> <span class="string">&#x27;pinia&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> &#123;count&#125; = <span class="title function_">storeToRefs</span>(store); <span class="comment">// 此时解构会保证响应式</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方式1 - 简单的数据直接操作 store 就可以了</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">mainStore</span>();</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">add</span> = (<span class="params"></span>) =&gt; store.<span class="property">count</span>++;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式2 - 通过 action</span></span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="attr">actions</span>: &#123; <span class="comment">// 在这里修改数据，无论同步异步</span></span><br><span class="line">    <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">count</span>++</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法3 - 同时修改多个数据，使用 $patch 去修改，该方式是经过优化的</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">mainStore</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数形式</span></span><br><span class="line">store.$patch(<span class="function">(<span class="params">state</span>) =&gt;</span> &#123;</span><br><span class="line">  state.<span class="property">count</span> = <span class="number">0</span>;</span><br><span class="line">  state.<span class="property">msg</span> = <span class="string">&#x27;Hi&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象的形式</span></span><br><span class="line">store.$patch(&#123;</span><br><span class="line">  <span class="attr">count</span>: store.<span class="property">count</span> + <span class="number">2</span>,</span><br><span class="line">  <span class="attr">msg</span>: <span class="string">&#x27;哈哈哈&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="八、element-ui-plus"><a href="#八、element-ui-plus" class="headerlink" title="八、element-ui plus"></a>八、element-ui plus</h2><p>按需引入</p><p><code>npm i element-plus --save</code></p><p>按需加载模块的安装</p><p><code>npm install -D unplugin-vue-components unplugin-auto-import</code></p><p>处理图标的按需加载</p><p><code>npm i -D unplugin-icons</code></p><p>修改 vite.config.ts文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">AutoImport</span> <span class="keyword">from</span> <span class="string">&quot;unplugin-auto-import/vite&quot;</span>;</span><br><span class="line">  <span class="keyword">import</span> <span class="title class_">Components</span> <span class="keyword">from</span> <span class="string">&quot;unplugin-vue-components/vite&quot;</span>;</span><br><span class="line">  <span class="keyword">import</span> <span class="title class_">Icons</span> <span class="keyword">from</span> <span class="string">&quot;unplugin-icons/vite&quot;</span>;</span><br><span class="line">  <span class="keyword">import</span> <span class="title class_">IconsResolver</span> <span class="keyword">from</span> <span class="string">&quot;unplugin-icons/resolver&quot;</span>;</span><br><span class="line">  <span class="keyword">import</span> &#123; <span class="title class_">ElementPlusResolver</span> &#125; <span class="keyword">from</span> <span class="string">&quot;unplugin-vue-components/resolvers&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">vue</span>(),</span><br><span class="line">    <span class="title class_">AutoImport</span>(&#123;</span><br><span class="line">      <span class="attr">resolvers</span>: [</span><br><span class="line">        <span class="title class_">ElementPlusResolver</span>(), <span class="comment">// 自动导入 Element ui 相关函数</span></span><br><span class="line">        <span class="title class_">IconsResolver</span>(), <span class="comment">// 自动导入图标组件</span></span><br><span class="line">      ],</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="title class_">Components</span>(&#123;</span><br><span class="line">      <span class="attr">resolvers</span>: [</span><br><span class="line">        <span class="title class_">IconsResolver</span>(&#123;</span><br><span class="line">          <span class="attr">enabledCollections</span>: [<span class="string">&quot;ep&quot;</span>],</span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="title class_">ElementPlusResolver</span>(), <span class="comment">// 自动导入elemnt 组件</span></span><br><span class="line">      ],</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="title class_">Icons</span>(&#123;</span><br><span class="line">      <span class="attr">autoInstall</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="string">&quot;@&quot;</span>: <span class="title function_">fileURLToPath</span>(<span class="keyword">new</span> <span class="title function_">URL</span>(<span class="string">&quot;./src&quot;</span>, <span class="keyword">import</span>.<span class="property">meta</span>.<span class="property">url</span>)),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> 前端 </tag>
            
            <tag> Vue3 </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mysql笔记</title>
      <link href="/79333/2021/01/18/Mysql%E7%AC%94%E8%AE%B0/"/>
      <url>/79333/2021/01/18/Mysql%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="数据库操作"><a href="#数据库操作" class="headerlink" title="数据库操作"></a>数据库操作</h1><h3 id="1-数据库常用命令"><a href="#1-数据库常用命令" class="headerlink" title="1. 数据库常用命令"></a>1. 数据库常用命令</h3><h5 id="1-连接数据库"><a href="#1-连接数据库" class="headerlink" title="1. 连接数据库"></a>1. <strong>连接数据库</strong></h5><p><code>mysql-u用户名-p密码</code></p><h5 id="2-显示已有的数据库"><a href="#2-显示已有的数据库" class="headerlink" title="2. 显示已有的数据库"></a>2. 显示已有的数据库</h5><p><code>show database</code> </p><h5 id="3-创建数据库"><a href="#3-创建数据库" class="headerlink" title="3. 创建数据库"></a>3. 创建数据库</h5><p><code>create database sqlName</code></p><h5 id="4-选择数据库"><a href="#4-选择数据库" class="headerlink" title="4. 选择数据库"></a>4. <strong>选择数据库</strong></h5><p><code>use database sqlNaame</code></p><h5 id="5-显示数据库中的表（-先选择数据库）"><a href="#5-显示数据库中的表（-先选择数据库）" class="headerlink" title="5. 显示数据库中的表（ 先选择数据库）"></a>5. <strong>显示数据库中的表（ 先选择数据库）</strong></h5><p><code>show tables</code></p><h5 id="6-显示当前数据库的版本以及连接用户名"><a href="#6-显示当前数据库的版本以及连接用户名" class="headerlink" title="6. 显示当前数据库的版本以及连接用户名"></a>6. <strong>显示当前数据库的版本以及连接用户名</strong></h5><p><code>select version() ,user()</code></p><h5 id="7-删除数据库"><a href="#7-删除数据库" class="headerlink" title="7. 删除数据库"></a>7. <strong>删除数据库</strong></h5><p><code>drop database sqlName</code></p><h3 id="2-数据库表命令"><a href="#2-数据库表命令" class="headerlink" title="2. 数据库表命令"></a>2. 数据库表命令</h3><h5 id="1-创建表"><a href="#1-创建表" class="headerlink" title="1. 创建表"></a>1. 创建表</h5><p>语法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">create database sqlName(</span><br><span class="line">字段1 数据类型 字段属性</span><br><span class="line">字段2...</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h5 id="2-字段约束和属性"><a href="#2-字段约束和属性" class="headerlink" title="2. 字段约束和属性"></a>2. 字段约束和属性</h5><ul><li>非空 <code>not null</code></li><li>默认 <code>default</code>(设置默认值)</li><li>唯一约束<code>unique key</code></li><li>主键约束<code>primary key</code></li><li>外键约束<code>foreign key</code>( 在数据库的存储引擎中<code>InnoDB</code>支持外键，<code>MyISAM</code>不支持外键。 )</li><li>添加外键约束</li></ul><p><code>constraint foreign key (主表Id) references 从表(Id)</code></p><ul><li>设置自增<code>auto increment=n</code>从n开始</li><li>多字段设置主键：<code>primary key(字段1，字段2,..)</code></li></ul><h5 id="3-修改表"><a href="#3-修改表" class="headerlink" title="3. 修改表"></a>3. 修改表</h5><ul><li>修改表名</li></ul><p> <code>alter table 旧表名 rename 新表名；</code></p><ul><li>添加字段</li></ul><p> <code>*alter table 表名 add 字段名 数据类型…;(添加新的字段)* </code></p><ul><li>修改字段</li></ul><p><code>*alter table 表名 change 原字段名 新字段名 数据类型…;*</code></p><ul><li>删除字段</li></ul><p><code>*alter table 表名 drop 字段名;*</code></p><ul><li>创建完成标后再添加主键约束</li></ul><p><code>alter table 表名 add constraint 主键名 primary key 表名(主键字段)</code></p><ul><li>创建完成标后再添加外键约束</li></ul><p><code>  alter table 表名 add constraint 外键名 foreign key(外键字段) references 关联表名 (关联字段)</code></p><h5 id="4-删除表"><a href="#4-删除表" class="headerlink" title="4. 删除表"></a>4. 删除表</h5><p><code>*drop table ‘tablename’*</code></p><h3 id="3-数据库操作命令"><a href="#3-数据库操作命令" class="headerlink" title="3. 数据库操作命令"></a>3. 数据库操作命令</h3><h5 id="1-新增数据"><a href="#1-新增数据" class="headerlink" title="1. 新增数据"></a>1. 新增数据</h5><ol><li>插入单行数据</li></ol><p><code>insert into 表名 values (值列表,逗号隔开)</code></p><ol start="2"><li>插入多行数据</li></ol><p><code>insert into 表名(字段名) values ((值列表,逗号隔开),(值列表2))</code></p><ol start="3"><li>将查询结果插入到新表中</li></ol><p><code> create table 新表(select 字段1, … ,from 原表)</code></p><h5 id="2-删除数据"><a href="#2-删除数据" class="headerlink" title="2. 删除数据"></a>2. 删除数据</h5><p><code> delete from 表名 where 删除条件</code></p><p><code>truncate table 表名 where 删除条件</code></p><h5 id="3-修改数据"><a href="#3-修改数据" class="headerlink" title="3. 修改数据"></a>3. 修改数据</h5><p><code>update 表名 set 列名=更新值 where 更新条件</code></p><h5 id="4-查询数据"><a href="#4-查询数据" class="headerlink" title="4. 查询数据"></a>4. 查询数据</h5><p><code>select 字段名列表 form 表名 where 约束条件 group by分组的字段名 order by 排序列名 limit 位置偏移量,行数;</code></p><ul><li><p><code>where 查询条件</code></p></li><li><p><code>group by... 分组查询（字段）</code></p></li><li><p><code>having... 过滤分组的记录</code></p></li><li><p><code>limit a,b 从a开始，查询b条数据</code></p></li><li><p><code>order by 按照一定顺序进行排列，asc升序，desc降序</code></p></li></ul><h6 id="1-模糊查询-like"><a href="#1-模糊查询-like" class="headerlink" title="1. 模糊查询(like)"></a>1. 模糊查询(like)</h6><pre><code>      `SELECT * FROM student WHERE stuname LIKE  &#39;曹%&#39; `</code></pre><p><strong>_ 代表一个字符  % 后面后字符  或者前面有字符</strong></p><p>​<code>SELECT * FROM student WHERE stuname LIKE  &#39;%曹_&#39; </code><br>​<code>SELECT * FROM student WHERE stuname LIKE  &#39;曹_&#39; </code></p><h6 id="2-范围查询"><a href="#2-范围查询" class="headerlink" title="2. 范围查询"></a>2. 范围查询</h6><ol><li><p>and并且</p><p><code>SELECT * FROM student WHERE stuAge&gt;15 AND stuAge&lt;20</code></p><p>BETWEEN 是要包含15和20的<br><code>SELECT * FROM student WHERE stuAge BETWEEN 15 AND 20</code></p></li><li><p>或者</p><p><code>SELECT * FROM student WHERE stuAge = 15 OR stuname = &#39;曹铁牛&#39;</code></p></li><li><p>in &#x2F;not in</p><p><code>SELECT * FROM student WHERE stuAge IN(15,16,19)</code></p></li><li><p>查询不为空</p><p><code>SELECT * FROM student WHERE stuAge IS NULL</code></p></li></ol><h6 id="3-聚合函数"><a href="#3-聚合函数" class="headerlink" title="3. 聚合函数"></a>3. 聚合函数</h6><ol><li><p>统计个数</p><p><code>SELECT COUNT(*) FROM student</code></p></li><li><p>求和</p><p><code>SELECT SUM(stuAge)/COUNT(*) FROM student</code></p></li><li><p>求平均值</p><p><code>SELECT AVG(IFNULL(stuAge,0)) FROM student</code></p></li><li><p>求最大值&#x2F;最小值</p><p><code>SELECT MAX(stuAge),MIN(stuAge) FROM student</code></p></li></ol><h6 id="4-子查询"><a href="#4-子查询" class="headerlink" title="4. 子查询"></a>4. 子查询</h6><ol><li>相关子查询(不能单独查询)<br><code>SELECT *,(SELECT classname FROM class WHERE cid = classId) FROM student</code></li><li>非相关子查询(能单独查询)<br>   <code>SELECT * FROM student WHERE  classId = (SELECT cid FROM class WHERE classname = &#39;一班&#39;)</code></li></ol><h6 id="5-表连接"><a href="#5-表连接" class="headerlink" title="5. 表连接"></a>5. 表连接</h6><p><code>SELECT * FROM biao1 JOIN (SELECT * FROM student s1 JOIN class c1 ON s1.cid = c1.cid) biao3  ON biao1.外键字段 = biao3.外键字段</code></p>]]></content>
      
      
      <categories>
          
          <category> 数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程 </tag>
            
            <tag> Mysql </tag>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue2笔记</title>
      <link href="/79333/2021/01/15/Vue2%E7%AC%94%E8%AE%B0/"/>
      <url>/79333/2021/01/15/Vue2%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="Vue2总结"><a href="#Vue2总结" class="headerlink" title="Vue2总结"></a>Vue2总结</h1><h2 id="一、Vue核心"><a href="#一、Vue核心" class="headerlink" title="一、Vue核心"></a>一、Vue核心</h2><p>官网：<a href="https://cn.vuejs.org/">https://cn.vuejs.org/</a></p><h3 id="1-Vue简介"><a href="#1-Vue简介" class="headerlink" title="1. Vue简介"></a>1. Vue简介</h3><h4 id="1-1-介绍和描述"><a href="#1-1-介绍和描述" class="headerlink" title="1.1 介绍和描述"></a>1.1 介绍和描述</h4><p>Vue是一套用来动态构建用户界面的渐进式<code>JavaScript</code>框架</p><h4 id="1-2-vue特点"><a href="#1-2-vue特点" class="headerlink" title="1.2 vue特点"></a>1.2 vue特点</h4><ul><li>遵循MVVM模式</li><li>编码简介，体积小，运行效率高，适合移动&#x2F;pc端开发</li><li>本身只关注UI，可以引入其他第三方库开发项目</li><li>采用组件化模式，提高代码复用率、且让代码更好维护</li></ul><h4 id="1-3-SPA页面"><a href="#1-3-SPA页面" class="headerlink" title="1.3 SPA页面"></a>1.3 SPA页面</h4><p>单页面应用程序，也就是整个应用只有一个html文件</p><p><strong>优点</strong></p><ul><li>即时性</li><li>不需要加载整个页面就可以修改内容</li><li>页面之间的切换不会出现白屏的现象</li><li>服务器压力小</li></ul><p><strong>缺点</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- 首次加载耗时比较多(因为首次需要一次性加载完所有的资源)</span><br><span class="line">- 不利于 SEO</span><br><span class="line">- CSS 命名冲突</span><br><span class="line">- 前进后退功能复杂度较高</span><br></pre></td></tr></table></figure><h3 id="2-Vue初识"><a href="#2-Vue初识" class="headerlink" title="2. Vue初识"></a>2. Vue初识</h3><h4 id="2-1-模板语法"><a href="#2-1-模板语法" class="headerlink" title="2.1 模板语法"></a>2.1 模板语法</h4><h5 id="1-插值语法"><a href="#1-插值语法" class="headerlink" title="1. 插值语法"></a>1. 插值语法</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">描述：在标签之间使用后 &#123;&#123;&#125;&#125; 进行插值，页面渲染后，&#123;&#123;&#125;&#125; 内的语法会替换为 data 中的数据。</span><br><span class="line"></span><br><span class="line">应用：</span><br><span class="line"></span><br><span class="line">- 直接渲染：&lt;h1&gt;&#123;&#123;msg&#125;&#125;&lt;/h1&gt;</span><br><span class="line">- 简单的加减乘除：&#123;&#123;num + 1&#125;&#125;</span><br><span class="line">- 调用函数：&#123;&#123;new Date() &#125;&#125;</span><br><span class="line">- 三元运算符：&#123;&#123;条件？真：假 &#125;&#125;</span><br></pre></td></tr></table></figure><p>注意：不能使用 if else 、switch、for </p><h5 id="2-v-bind"><a href="#2-v-bind" class="headerlink" title="2. v-bind"></a>2. v-bind</h5><p>描述：用于解析标签</p><p>应用：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;p v-<span class="attr">bind</span>:title=<span class="string">&quot;myTitle&quot;</span>&gt;&lt;/p&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-bind:id</span>=<span class="string">&quot;&#x27;list&#x27; + myId&quot;</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 简写</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">:title</span>=<span class="string">&quot;myTitle&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">:id</span>=<span class="string">&quot;&#x27;list&#x27; + myId&quot;</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 样式绑定</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active: isActive&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span> <span class="comment">// active生效</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active: isActive, text-danger: hasError&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span> <span class="comment">// 多个 class 控制</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">:class</span>=<span class="string">&quot;[class1, class2]&quot;</span>&gt;</span>数组 class<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>  <span class="comment">// 数组</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">:class</span>=<span class="string">&quot;[isActive ? &#x27;danger&#x27; : &#x27;success&#x27;]&quot;</span>&gt;</span>三元运算<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">:style</span>=<span class="string">&quot;myStyle&quot;</span>&gt;</span>style绑定对象<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">:style</span>=<span class="string">&quot;[myStyle1, myStyle2]&quot;</span>&gt;</span>style绑定对象<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h5 id="3-v-once"><a href="#3-v-once" class="headerlink" title="3. v-once"></a>3. v-once</h5><p>描述：表示只执行一次插值，当数据改变后，插值处的内容不会更新</p><p>应用：<code>&lt;p v-once&gt;&#123;&#123;msg&#125;&#125;&lt;/p&gt;</code></p><h5 id="4-v-text-和-v-html"><a href="#4-v-text-和-v-html" class="headerlink" title="4. v-text 和 v-html"></a>4. v-text 和 v-html</h5><p>描述：类似于 <code>innerText</code> 和 <code>innerHTML</code></p><p>应用：<code>&lt;p v-text=&quot;myText&quot;&gt;&lt;/p&gt;</code></p><p><code>&lt;p v-html=&quot;myText&quot;&gt;&lt;/p&gt;</code></p><h5 id="5-template模板编译"><a href="#5-template模板编译" class="headerlink" title="5. template模板编译"></a>5. template模板编译</h5><p> vue中的模板template无法被浏览器解析并渲染，因为这不属于浏览器的标准，不是正确的HTML语法，所有需要将template转化成一个JavaScript函数，这样浏览器就可以执行这一个函数并渲染出对应的HTML元素，就可以让视图跑起来了，这一个转化的过程，就成为模板编译。模板编译又分三个阶段：</p><ul><li><strong>解析阶段</strong>： 使用大量的正则表达式对template字符串进行解析，将标签、指令、属性等转化为抽象语法树AST。 </li><li><strong>优化阶段</strong>： 遍历AST，找到其中的一些静态节点并进行标记，方便在页面重渲染的时候进行diff比较时，直接跳过这一些静态节点，优化runtime的性能。 </li><li><strong>生成阶段</strong>： 将最终的AST转化为render函数字符串。</li></ul><h4 id="2-2-数据绑定"><a href="#2-2-数据绑定" class="headerlink" title="2.2 数据绑定"></a>2.2 数据绑定</h4><h5 id="1-单向绑定-v-bind"><a href="#1-单向绑定-v-bind" class="headerlink" title="1. 单向绑定 v-bind"></a>1. 单向绑定 v-bind</h5><p><code>v-bind</code> 数据只能从 data 流向页面</p><h5 id="2-双向绑定-v-model"><a href="#2-双向绑定-v-model" class="headerlink" title="2. 双向绑定 v-model"></a>2. 双向绑定 v-model</h5><p><code>v-model</code> 数据不仅能从 data 流向页面，还可以从页面流向 data</p><p><code>&lt;input v-model=&quot;text&quot; /&gt;</code>相当于</p><p><code>&lt;input :value=&quot;text&quot; @input=&quot;text = $event.target.value&quot;/&gt;</code></p><p>组件绑定<code>v-model</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父组件</span></span><br><span class="line">&lt;<span class="title class_">Component</span> v-model=<span class="string">&#x27;data&#x27;</span>&gt;&lt;/<span class="title class_">Component</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 子组件</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;input</span><br><span class="line">      type=&quot;checkbox&quot;</span><br><span class="line">      v-bind:checked=&quot;checked&quot;</span><br><span class="line">      v-on:change=&quot;$emit(&#x27;change&#x27;, $event.target.checked)&quot;</span><br><span class="line">    &gt;</span><br><span class="line"> &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">name:&#x27;Component&#x27;,</span><br><span class="line">        model:&#123;</span><br><span class="line">           prop: &#x27;checked&#x27;,</span><br><span class="line">    event: &#x27;change&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        props:&#123;</span><br><span class="line">            checked:Boolean</span><br><span class="line">        &#125;,</span><br><span class="line">            data() &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-3-MVVM模型"><a href="#2-3-MVVM模型" class="headerlink" title="2.3 MVVM模型"></a>2.3 MVVM模型</h4><h5 id="1-模型介绍"><a href="#1-模型介绍" class="headerlink" title="1. 模型介绍"></a>1. 模型介绍</h5><p>M：模型Model，data中的数据</p><p>V：视图View，模板代码</p><p>VM：视图模型ViewModel，Vue实例</p><p>总结：</p><ul><li>data中所有的属性，最后都会出现在 vm 身上</li><li>vm 身上所有的属性及 Vue原型 身上所有的属性，在Vue 模板 中都可以直接使用</li></ul><h5 id="2-响应式原理"><a href="#2-响应式原理" class="headerlink" title="2. 响应式原理"></a>2. 响应式原理</h5><p><code>Object.defineproperty</code> 方法</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;jack&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 参数：劫持对象，对象属性，属性值</span></span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;age&#x27;</span>, &#123;</span><br><span class="line">      <span class="comment">//value:18, // 属性值</span></span><br><span class="line">      <span class="comment">//writeable:true, // 是否可以被修改 默认为false,不可以</span></span><br><span class="line">      <span class="attr">configurable</span>: <span class="literal">true</span>, <span class="comment">// 是否可以被删除</span></span><br><span class="line">      <span class="attr">enumerable</span>: <span class="literal">true</span>, <span class="comment">// 是否可以枚举</span></span><br><span class="line">      <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="comment">// 访问 age 属性时会调用该方法，返回值就是age的值</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">20</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="comment">// 修改age的值得时候，会调用该方法</span></span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br></pre></td></tr></table></figure><p>原理：</p><p>vue是采用数据劫持配合发布者-订阅者的模式的方式，通过Object.defineProperty()来劫持各个属性的getter和setter，在数据发生变动时发布消息给订阅者，触发相应的监听回调。具体为：对data中的属性进行递归遍历，并将之转化为getter和setter，同时watcher实例对象会在组件渲染时将属性添加到Dep中，负责管理数据的依赖列表，compile解析模板指令，生成指令对象，然后数据更新时就会触发setter，这时候相应的watcher就会重新计算，如果值确实发生变化了，就会通知相应的指令，调用指令的update方法，由对DOM做更新，这就实现了数据驱动DOM的变化。同时vue还会对DOM做事件监听，如果DOM发生变化，vue监听到，就会修改相应的data。</p><h4 id="2-4-条件渲染"><a href="#2-4-条件渲染" class="headerlink" title="2.4 条件渲染"></a>2.4 条件渲染</h4><h5 id="1-v-if"><a href="#1-v-if" class="headerlink" title="1. v-if"></a>1. v-if</h5><p><code>&lt;button v-if=&quot;isShow&quot;&gt;按钮&lt;/button&gt;</code></p><h5 id="2-v-else-if-v-else"><a href="#2-v-else-if-v-else" class="headerlink" title="2. v-else-if  v-else"></a>2. v-else-if  v-else</h5><p>v-else-if 必须跟在 v-if 或者 v-else-if 的后面</p><p>同时控制多个节点的渲染</p><template v-if="isShow">    <p>第一个节点</p>    <p>第二个节点</p>    <p>第三个节点</p></template><h5 id="3-v-show"><a href="#3-v-show" class="headerlink" title="3. v-show"></a>3. v-show</h5><p><code>&lt;p v-show=&quot;isShow&quot;&gt;&lt;/p&gt;</code></p><h5 id="4-区别"><a href="#4-区别" class="headerlink" title="4. 区别"></a>4. 区别</h5><ul><li>v-if 是真正的渲染，会有插入节点和移除节点的过程</li><li>v-show 任何情况下都会被渲染，只是切换 display 属性</li><li>v-if 有比较高的切换开销，而 v-show 有更高的初始化渲染开销</li></ul><h4 id="2-5-列表渲染"><a href="#2-5-列表渲染" class="headerlink" title="2.5 列表渲染"></a>2.5 列表渲染</h4><h5 id="1-v-for"><a href="#1-v-for" class="headerlink" title="1. v-for"></a>1. v-for</h5><p>用于展示列表数据，可用于遍历数组，对象</p><p><code>&lt;li v-for=&quot;(item, index) in items&quot; :key=&quot;index&quot;&gt;</code></p><p>key 属性唯一值，从而重用和重新排序现有元素，建议使用唯一id</p><h4 id="2-6-事件处理"><a href="#2-6-事件处理" class="headerlink" title="2.6 事件处理"></a>2.6 事件处理</h4><h5 id="1-v-on"><a href="#1-v-on" class="headerlink" title="1. v-on"></a>1. v-on</h5><p>使用 v-on:xxx 或者 @xxx 绑定事件，xxx为事件名称</p><p>事件的回调需要配置在methods对象中，最终挂载到 vm 组件实例对象上</p><p><code>&lt;button v-on:click=&quot;sayHi&quot;&gt;&lt;/button&gt;</code></p><p>简写<code>&lt;button @click=&quot;sayHi&quot;&gt;&lt;/button&gt;</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line"><span class="title function_">sayHi</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>传递参数并注入事件对象：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;button v-<span class="attr">on</span>:click=<span class="string">&quot;getOther2(123, $event)&quot;</span>&gt;传递参数及事件对象&lt;/button&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;，</span><br><span class="line">    <span class="attr">methods</span>:&#123;</span><br><span class="line">        <span class="title function_">getOther2</span>(<span class="params">num, e</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(e, num)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="2-修饰符"><a href="#2-修饰符" class="headerlink" title="2. 修饰符"></a>2. 修饰符</h5><p>事件修饰符</p><ul><li>.stop  阻止事件冒泡（常用） </li><li>.precent  阻止默认事件（常用） </li><li>.once  事件只触发一次（常用） </li><li>.self  事件只在元素本身触发，子元素不会触发</li><li>.sync 字组件可修改父组件的传的数据，实现简单的双向绑定</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父组件</span></span><br><span class="line">&lt;zi :price.<span class="property">sync</span>=<span class="string">&quot;price&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 子组件</span></span><br><span class="line"> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>子&#123;&#123;price&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"> <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$emit(&#x27;update:price&#x27;, price - 100)&quot;</span>&gt;</span>花钱<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>键盘修饰符</p><ul><li>.enter 回车键</li><li>.space 空格键</li></ul><h4 id="2-7-自定义指令"><a href="#2-7-自定义指令" class="headerlink" title="2.7 自定义指令"></a>2.7 自定义指令</h4><h5 id="1-局部指令"><a href="#1-局部指令" class="headerlink" title="1. 局部指令"></a>1. 局部指令</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 局部指令</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;&#125;,</span><br><span class="line">    <span class="attr">directives</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;big-number&#x27;</span>(element,binding) &#123;</span><br><span class="line">element.<span class="property">innerText</span> = binding.<span class="property">value</span> * <span class="number">10</span></span><br><span class="line">&#125;,</span><br><span class="line">         <span class="attr">focus</span>: &#123;</span><br><span class="line">        <span class="comment">// 指令的定义</span></span><br><span class="line">        <span class="attr">inserted</span>: <span class="keyword">function</span> (<span class="params">el</span>) &#123;</span><br><span class="line">          el.<span class="title function_">focus</span>()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line">&lt;span v-big-number=<span class="string">&quot;n&quot;</span>&gt;&lt;/span&gt;</span><br></pre></td></tr></table></figure><h5 id="2-全局指令"><a href="#2-全局指令" class="headerlink" title="2. 全局指令"></a>2. 全局指令</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;fbind&#x27;</span>, &#123;</span><br><span class="line">    <span class="comment">// 指令与元素成功绑定时（一上来）</span></span><br><span class="line">    <span class="title function_">bind</span>(<span class="params">element, binding</span>) &#123;<span class="comment">// element就是DOM元素，binding就是要绑定的</span></span><br><span class="line">      element.<span class="property">value</span> = binding.<span class="property">value</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 指令所在元素被插入页面时</span></span><br><span class="line">    <span class="title function_">inserted</span>(<span class="params">element, binding</span>) &#123;</span><br><span class="line">      element.<span class="title function_">focus</span>()</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 指令所在的模板被重新解析时</span></span><br><span class="line">    <span class="title function_">update</span>(<span class="params">element, binding</span>) &#123;</span><br><span class="line">      element.<span class="property">value</span> = binding.<span class="property">value</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="3-Vue核心"><a href="#3-Vue核心" class="headerlink" title="3. Vue核心"></a>3. Vue核心</h3><h4 id="3-1-脚手架"><a href="#3-1-脚手架" class="headerlink" title="3.1. 脚手架"></a>3.1. 脚手架</h4><h5 id="1-安装"><a href="#1-安装" class="headerlink" title="1. 安装"></a>1. 安装</h5><p><code>npm install -g @vue/cli</code></p><h5 id="2-检查安装"><a href="#2-检查安装" class="headerlink" title="2. 检查安装"></a>2. 检查安装</h5><p><code>vue --version</code></p><h5 id="3-搭建项目"><a href="#3-搭建项目" class="headerlink" title="3. 搭建项目"></a>3. 搭建项目</h5><p><code>vue create 项目名</code></p><p>根据需求进行项目配置</p><h5 id="4-启动项目"><a href="#4-启动项目" class="headerlink" title="4. 启动项目"></a>4. 启动项目</h5><p><code>cd 项目名称</code></p><p><code>npm run serve</code></p><h4 id="3-2-组件化编程"><a href="#3-2-组件化编程" class="headerlink" title="3.2 组件化编程"></a>3.2 组件化编程</h4><h5 id="1-概念"><a href="#1-概念" class="headerlink" title="1. 概念"></a>1. 概念</h5><p>组件就是一个提供特定功能的一段代码，包含html，css，js，用来实现局部功能的代码和资源的集合。</p><h5 id="2-作用"><a href="#2-作用" class="headerlink" title="2. 作用"></a>2. 作用</h5><p>解决代码高耦合、低内聚、无重用的问题。</p><h5 id="3-单文件组件"><a href="#3-单文件组件" class="headerlink" title="3. 单文件组件"></a>3. 单文件组件</h5><p>该组件是一个文件，以.vue结尾</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">这里编写html代码，并且只能有一个根标签</span><br><span class="line">&lt;template/&gt;</span><br><span class="line">    </span><br><span class="line">&lt;script&gt;</span><br><span class="line">    这里编写js代码</span><br><span class="line">&lt;script/&gt;</span><br><span class="line">    </span><br><span class="line">&lt;style&gt;</span><br><span class="line">    这里编写css代码</span><br><span class="line">&lt;style/&gt;</span><br></pre></td></tr></table></figure><p>注：data 必须是一个函数，如果组件中 data 写为对象，那么每一个组件的data都会互相影响。</p><h5 id="4-使用组件"><a href="#4-使用组件" class="headerlink" title="4. 使用组件"></a>4. 使用组件</h5><ul><li>创建子组件</li><li>通过import from 引入子组件</li><li>注册子组件</li><li>在 template 中直接当做标签使用</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 局部组件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">MyModal</span> <span class="keyword">from</span> <span class="string">&#x27;./MyModal.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">components</span>: &#123; <span class="title class_">MyModal</span>&#125;,</span><br><span class="line">    </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">MyModal</span> /&gt;</span></span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// 全局组件</span></span><br><span class="line"><span class="comment">//main.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">MyModal</span> <span class="keyword">from</span> <span class="string">&#x27;./MyModal.vue&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;MyModal&#x27;</span>, <span class="title class_">MyModal</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在其他任意组件内不需要在 components 中注册了，而是直接使用</span></span><br><span class="line">&lt;<span class="title class_">MyModal</span> /&gt;</span><br></pre></td></tr></table></figure><h5 id="5-动态组件"><a href="#5-动态组件" class="headerlink" title="5. 动态组件"></a>5. 动态组件</h5><p>概述：渲染一个元组件，根据is 的值来决定渲染那一个组件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-button @click=<span class="string">&quot;changeLogin&quot;</span>&gt;切换&lt;/el-button&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;whichWay&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">import</span> <span class="title class_">QrUser</span> <span class="keyword">from</span> <span class="string">&#x27;../components/QrUser.vue&#x27;</span></span><br><span class="line">    <span class="keyword">import</span> <span class="title class_">UserAccount</span> <span class="keyword">from</span> <span class="string">&#x27;../components/UserAccount.vue&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;LoginKeep&#x27;</span>,</span><br><span class="line">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          <span class="attr">whichWay</span>: <span class="string">&#x27;UserAccount&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">components</span>: &#123;</span><br><span class="line">        <span class="title class_">UserAccount</span>,</span><br><span class="line">        <span class="title class_">QrUser</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">changeLogin</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">whichWay</span> === <span class="string">&#x27;UserAccount&#x27;</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">whichWay</span> = <span class="string">&#x27;QrUser&#x27;</span></span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">whichWay</span> = <span class="string">&#x27;UserAccount&#x27;</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h5 id="6-组件缓存"><a href="#6-组件缓存" class="headerlink" title="6. 组件缓存"></a>6. 组件缓存</h5><p>概述：通过 keep-alive 组件去包裹组件，那么会将当前组件缓存，切换组件时就不会销毁组件了。</p><p>语法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive&gt;</span><br><span class="line">      组件</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 缓存时，默认是缓存所有已经渲染的组件 </span></span><br><span class="line"><span class="comment">// 现在只想缓存部分组件，那么使用 include 属性来决定只缓存哪些组件 </span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">include</span>=<span class="string">&quot;UserAccount&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;whichWay&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者使用 exclude 来决定哪些组件不缓存。</span></span><br></pre></td></tr></table></figure><h4 id="3-3-组件间通信"><a href="#3-3-组件间通信" class="headerlink" title="3.3 组件间通信"></a>3.3 组件间通信</h4><h5 id="1-props"><a href="#1-props" class="headerlink" title="1. props"></a>1. props</h5><p>概述：props 是父组件传递给子组件的数据，子组件只能使用，而不能修改。</p><p>使用：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父组件 app.vue</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">TodoMvc</span> <span class="attr">title</span>=<span class="string">&quot;代办列表&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">TodoMvc</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 子组件 接受title</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;todo&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">name</span>: <span class="string">&#x27;TodoMvc&#x27;</span>, <span class="comment">// 组件名</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">props</span>: [<span class="string">&#x27;title&#x27;</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>第二种接受数据类型</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">props</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="title class_">String</span>, <span class="comment">// 类型</span></span><br><span class="line">        <span class="attr">required</span>: <span class="literal">true</span>,<span class="comment">// 必要性</span></span><br><span class="line">        <span class="attr">default</span>: <span class="string">&#x27;cess&#x27;</span><span class="comment">// 默认值</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="2-emit"><a href="#2-emit" class="headerlink" title="2. $emit"></a>2. $emit</h5><p>概述：子组件向父组件传递数据。</p><p>实现方法：父组件向子组件传递方法，子组件通过$emit去触发这个方法</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">  // 父组件</span><br><span class="line">  &lt;template&gt;</span><br><span class="line">    &lt;MyBrotherA @add=&quot;addText&quot; /&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">  import MyBrotherA from &#x27;./MyBrotherA.vue&#x27;</span><br><span class="line"></span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &#x27;MyFather&#x27;,</span><br><span class="line">    components: &#123;</span><br><span class="line">      MyBrotherA</span><br><span class="line">    &#125;,</span><br><span class="line">    data() &#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      addText(text) &#123;</span><br><span class="line">        console.log(&#x27;接收到子组件传递的数据：&#x27;,text);</span><br><span class="line"></span><br><span class="line">        this.list.push(text);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line"></span><br><span class="line">// 子组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; v-model=&quot;text&quot; placeholder=&quot;子组件A 输入框&quot; @keydown.enter=&quot;addChild&quot;&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">  export default &#123;</span><br><span class="line">    name: &#x27;MyBrotherA&#x27;,</span><br><span class="line">    data() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        text: &#x27;&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      addChild() &#123;</span><br><span class="line">        // 父组件给子组件添加了一个自定义事件，事件名为 add，那么该事件可以在子组件中通过 $emit 去触发</span><br><span class="line">        this.$emit(&#x27;add&#x27;, this.text);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure><h5 id="3-sync"><a href="#3-sync" class="headerlink" title="3. .sync"></a>3. .sync</h5><p>概述：字组件可修改父组件的传的数据，实现简单的双向绑定。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// 父组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;buttn @click=&quot;show&quot;&gt;点我显示子组件&lt;/button&gt;</span><br><span class="line">// 引入的子组件</span><br><span class="line">    &lt;child :isShow=&quot;isShow&quot; @closeShow=&quot;closeShow&quot; v-show=&quot;!show&quot;&gt;&lt;/child&gt;</span><br><span class="line">      // 相当于</span><br><span class="line">      &lt;child :isShow.sync=&quot;isShow&quot; @closeShow=&quot;closeShow&quot; v-show=&quot;!show&quot;&gt;&lt;/child&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">// 子组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;button @click=&quot;changeShow&quot; v-show=&quot;show&quot;&gt;点我隐藏自己&lt;/button&gt;  </span><br><span class="line">        // 相当于</span><br><span class="line">        &lt;button @click=&quot;$emit(&#x27;update:isShow&#x27;,isShow)&quot; v-show=&quot;show&quot;&gt;点我隐藏自己&lt;/button&gt; </span><br><span class="line">    &lt;div&gt;      </span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><h5 id="4-EventBus"><a href="#4-EventBus" class="headerlink" title="4. EventBus"></a>4. EventBus</h5><p>概述：又称为中央事件总线，作为Vue 组件沟通的桥梁，所有的组件会共同使用一个事件中心，可以向该中心去注册事件或者发送事件。</p><h6 id="1-实现"><a href="#1-实现" class="headerlink" title="1. 实现"></a>1. 实现</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一步、创建一个单独的空 Vue 实例作为事件中心</span></span><br><span class="line"><span class="comment">// Bus.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vue</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二步、在组件 A 中监听事件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Bus</span> <span class="keyword">from</span> <span class="string">&#x27;./Bus.js&#x27;</span></span><br><span class="line"></span><br><span class="line">exoprt <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 监听 Bus 中的一个叫 send 的事件</span></span><br><span class="line">    <span class="title class_">Bus</span>.$on(<span class="string">&#x27;send&#x27;</span>, <span class="keyword">function</span>(<span class="params">arg</span>) &#123;</span><br><span class="line">      <span class="comment">// 监听到该事件后，怎么处理，该回调函数，可以接受参数，参数是触发该事件时传递的</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 在组件销毁前取消事件监听，否则可能会出现多次监听同一个事件</span></span><br><span class="line">  <span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Bus</span>.$off(<span class="string">&#x27;text&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 第三步、在组件 B 中触发组件 A 监听的事件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Bus</span> <span class="keyword">from</span> <span class="string">&#x27;./Bus.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">sendMsg</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title class_">Bus</span>.$emit(<span class="string">&#x27;send&#x27;</span>, 参数)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="2-优缺点"><a href="#2-优缺点" class="headerlink" title="2. 优缺点"></a>2. 优缺点</h6><p>优点：</p><ul><li>可以全局使用</li><li>比较灵活，代码量少</li></ul><p>缺点：</p><ul><li>时间必须成对出现(监听，触发)</li><li>事件只能单向传递</li><li>事件监听须在事件触发之前完成</li><li>一定要在组件销毁之前取消事件监听，否侧会出现多次监听的效果</li></ul><h5 id="5-Vuex"><a href="#5-Vuex" class="headerlink" title="5. Vuex"></a>5. Vuex</h5><p>概述：集中式存储管理当前应用的所有组件状态，保证状态以一种可预测的方式进行变化。</p><p>应用场景：任何两个组件甚至是多个组件之间传递数据。</p><h6 id="1-store"><a href="#1-store" class="headerlink" title="1. store"></a>1. store</h6><p>概述：每一个Vue实例只能包含一个<code>store</code>实例，该<code>store</code>相当于一个仓库，所有需要跨组件通信的组件都从<code>store</code>中读取数据，修改数据的时候也通过<code>store</code>提供的方法来修改。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    <span class="attr">state</span>: &#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">getters</span>: &#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mutations</span>: &#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">actions</span>: &#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">modules</span>: &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h6 id="2-state"><a href="#2-state" class="headerlink" title="2. state"></a>2. state</h6><p>理解：作为store中的数据，所有跨组件的数据都可以放在这里</p><p>语法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// store中</span></span><br><span class="line"><span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="comment">// 这里存放组件通信的数据</span></span><br><span class="line">    <span class="attr">num</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">msg</span>:<span class="string">&#x27;hi&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">      </span><br><span class="line"><span class="comment">// 组件中</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">num</span></span><br><span class="line"><span class="comment">// 或者 mapState辅助函数</span></span><br><span class="line"> <span class="keyword">import</span> &#123;mapState&#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">      <span class="attr">computed</span>: <span class="title function_">mapState</span>(&#123;</span><br><span class="line">        <span class="comment">// 简化方式1 - 函数返回需要用到的 state</span></span><br><span class="line">        <span class="attr">num</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">num</span>,</span><br><span class="line">        <span class="comment">// 方式2 - 直接传入字符串，将 store 中的 num 映射为当前组件的 numStr</span></span><br><span class="line">        <span class="attr">numStr</span>: <span class="string">&#x27;num&#x27;</span>,</span><br><span class="line">      &#125;),</span><br><span class="line">      <span class="comment">// 方式3 - 字符串的写法，如果属性名与属性值一致</span></span><br><span class="line">      <span class="attr">computed</span>: &#123;</span><br><span class="line">          ...<span class="title function_">mapState</span>([</span><br><span class="line">        <span class="string">&#x27;num&#x27;</span></span><br><span class="line">      ])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="3-getters"><a href="#3-getters" class="headerlink" title="3. getters"></a>3. getters</h6><p>理解：可以认为是<code>Vuex</code>的计算属性，<code>getters</code>的返回值会根据他的依赖被<code>缓存</code>起来，只有他的以来发生了改变才会重新被计算。</p><p>语法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// store中</span></span><br><span class="line"><span class="attr">getters</span>: &#123;</span><br><span class="line">      <span class="title function_">doubleNum</span>(<span class="params">state</span>) &#123; <span class="comment">// 调用 getters 可以得到 num 的2倍值，但是 num 的值是没有改变的</span></span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">num</span> * <span class="number">2</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// getters 没有第二个参数，但是可以在一个函数中返回一个 geeter，这样该函数就可以设置 参数了</span></span><br><span class="line">      <span class="title function_">countNumN</span>(<span class="params">state</span>) &#123; <span class="comment">// 此时调用 getter 返回的是一个函数而不是值</span></span><br><span class="line">        <span class="keyword">return</span> <span class="function">(<span class="params">n</span>) =&gt;</span> state.<span class="property">num</span> * n</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">        </span><br><span class="line"><span class="comment">// 组件中 </span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>.<span class="property">doubleNum</span></span><br><span class="line"><span class="comment">// 或者 mapGetters辅助函数</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">      <span class="attr">computed</span>: &#123;</span><br><span class="line">          ...<span class="title function_">mapState</span>([</span><br><span class="line">        <span class="string">&#x27;num&#x27;</span></span><br><span class="line">      ])&#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h6 id="4-mutations"><a href="#4-mutations" class="headerlink" title="4. mutations"></a>4. mutations</h6><p>理解：修改<code>store</code>中的数据必须通过<code>mutations</code>修改</p><p>该函数内部只能是<code>同步操作</code>，不能有其他与数据修改无关的操作，比如请求、计时器、本地存储等等。</p><p>语法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// store中</span></span><br><span class="line"> <span class="attr">mutations</span>: &#123; <span class="comment">// 定义修改数据的方法</span></span><br><span class="line">      <span class="title function_">increment</span>(<span class="params">state</span>) &#123; <span class="comment">// 参数 state 就是状态</span></span><br><span class="line">        state.<span class="property">num</span> += <span class="number">1</span>;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">incrementPayload</span>(<span class="params">state, payload</span>) &#123; <span class="comment">// 参数2 就是调用 mutation 时传递的数据</span></span><br><span class="line">        state.<span class="property">num</span> += payload;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">        </span><br><span class="line"><span class="comment">// 组件中调用</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;increment&#x27;</span>)</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;incrementPayload&#x27;</span>, <span class="number">5</span>)   <span class="comment">// 传参</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者 mapMutation</span></span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">    ...<span class="title function_">mapMutations</span>([</span><br><span class="line">      <span class="string">&#x27;increment&#x27;</span>, <span class="comment">// 将 `this.increment()` 映射为 `this.$store.commit(&#x27;increment&#x27;)`</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// `mapMutations` 也支持载荷：</span></span><br><span class="line">      <span class="string">&#x27;incrementPayload&#x27;</span> <span class="comment">// 将 `this.incrementPayload(5)` 映射为 `this.$store.commit(&#x27;incrementPayload&#x27;, 5)`</span></span><br><span class="line">    ]),</span><br><span class="line">    ...<span class="title function_">mapMutations</span>(&#123;</span><br><span class="line">      <span class="attr">add</span>: <span class="string">&#x27;increment&#x27;</span> <span class="comment">// 将 `this.add()` 映射为 `this.$store.commit(&#x27;increment&#x27;)`</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h6 id="5-actions"><a href="#5-actions" class="headerlink" title="5. actions"></a>5. actions</h6><p>理解：可以用于<code>异步操作</code>、或者其他<code>非纯函数操作</code>（本地存储），当异步完成后，可以去提交 <code>mutations </code>，从而改变状态。</p><p><code>actions</code>不能修改数据，但是可以在actions中国提交<code>mutation</code>。</p><p>语法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// store 中</span></span><br><span class="line"><span class="attr">actions</span>: &#123;</span><br><span class="line">      <span class="comment">// 异步操作、需要在 1s 之后修改 num</span></span><br><span class="line">      <span class="title function_">incrementAsync</span>(<span class="params">context</span>) &#123; <span class="comment">// context 是一个与 store 实例具有相同方法和属性的对象</span></span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// 调用 mutataion</span></span><br><span class="line">          context.<span class="title function_">commit</span>(<span class="string">&#x27;increment&#x27;</span>)</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">incrementAsyncP</span>(<span class="params">context, payload</span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          context.<span class="title function_">commit</span>(<span class="string">&#x27;incrementPayload&#x27;</span>, payload)</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">        </span><br><span class="line"><span class="comment">// 组件中 </span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;incrementAsync&#x27;</span>);</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;incrementAsyncP&#x27;</span>, <span class="number">5</span>)</span><br><span class="line"><span class="comment">// 或者 mapActions </span></span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">      ...<span class="title function_">mapActions</span>([<span class="string">&#x27;incrementAsync&#x27;</span>]),</span><br><span class="line">    &#125;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">incrementAsync</span>(<span class="params"></span>) &#123;</span><br><span class="line">          ...</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><h6 id="6-modules"><a href="#6-modules" class="headerlink" title="6. modules"></a>6. modules</h6><p>语法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// store index.js文件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">import</span> serviceOrder <span class="keyword">from</span> <span class="string">&#x27;./create&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    <span class="attr">state</span>: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">modules</span>: &#123;</span><br><span class="line">    serviceOrder,</span><br><span class="line">    <span class="attr">banner</span>: bannerStore,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// create index.js文件</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">namespaced</span>:<span class="literal">true</span> <span class="comment">// 命名空间 自己的作用域</span></span><br><span class="line">    <span class="attr">state</span>:&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 组件中</span></span><br><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">    ...<span class="title function_">mapState</span>(</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">tableData</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">serviceOrder</span>.<span class="property">tableData</span>,</span><br><span class="line">            <span class="attr">total</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">serviceOrder</span>.<span class="property">total</span>,</span><br><span class="line">            <span class="attr">count</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">serviceOrder</span>.<span class="property">count</span></span><br><span class="line">        &#125;),</span><br><span class="line"></span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">    ...<span class="title function_">mapActions</span>(&#123;</span><br><span class="line">        <span class="attr">getData</span>: <span class="string">&#x27;serviceOrder/getDataAction&#x27;</span>,</span><br><span class="line">        <span class="attr">findOrder</span>: <span class="string">&#x27;serviceOrder/searchOrderAction&#x27;</span>,</span><br><span class="line">        <span class="attr">findService</span>: <span class="string">&#x27;serviceOrder/searchServiceAction&#x27;</span>,</span><br><span class="line">        <span class="attr">findCounselor</span>: <span class="string">&#x27;serviceOrder/searchCounselorAction&#x27;</span>,</span><br><span class="line">        <span class="attr">changeTab</span>: <span class="string">&#x27;serviceOrder/changeTabAction&#x27;</span></span><br><span class="line">    &#125;),</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><h5 id="6-root"><a href="#6-root" class="headerlink" title="6. $root"></a>6. $root</h5><p>所有组件通过 this.$root 访问根组件。</p><h5 id="7-parent"><a href="#7-parent" class="headerlink" title="7. $parent"></a>7. $parent</h5><p>子组件通过 this.$parent 可以获取父组件实例</p><h5 id="8-children"><a href="#8-children" class="headerlink" title="8. $children"></a>8. $children</h5><p>父组件通过 this.$children 获取子组件实例</p><h5 id="9-ref"><a href="#9-ref" class="headerlink" title="9. $ref"></a>9. $ref</h5><p> 获取 DOM 节点 或者 组件实例的</p><h4 id="3-4-生命周期"><a href="#3-4-生命周期" class="headerlink" title="3.4 生命周期"></a>3.4 生命周期</h4><p>概述：每一个Vue实例被创建时都要经历的一系列的初始化过程，在这个过程中自动运行的一系列的函数。</p><h6 id="1-vue生命周期"><a href="#1-vue生命周期" class="headerlink" title="1. vue生命周期"></a>1. vue生命周期</h6><ul><li>beforeCreate：实例初始化完成后，在数据观测和事件配置之前调用，在当前阶段 data、methods等还无法被访问</li><li>created：实力已经创建，可以访问data，但是不能访问dom节点，可以用于在这里发送请求</li><li>beforeMount：在节点挂载之前调用，此时页面呈现的都是未经Vue编译的Dom结构。在这里对所有的DOM的操作，都是不奏效的。</li><li>mounted：节点挂载完成后调用，可以访问data，也可以访问节点，可以用于在这里发送请求。</li><li>beforeUpdate：数据更新之前调用</li><li>updated：发生在更新之后。注意：不能再此修改数据，因为修改数据后又会导致该函数调用，就会陷入死循环。</li><li>beforeDestroy：实例销毁前，一般在这里进行一些计时器、事件的清除工作。</li><li>destroyed：实例销毁后。</li></ul><h6 id="2-组件生命周期"><a href="#2-组件生命周期" class="headerlink" title="2. 组件生命周期"></a>2. 组件生命周期</h6><p>加载渲染过程：</p><p><code>⽗ beforeCreate -&gt; ⽗ created -&gt; ⽗ beforeMount -&gt; ⼦ beforeCreate -&gt; ⼦ created -&gt; ⼦ beforeMount -&gt; ⼦ mounted -&gt; ⽗ mounted</code></p><p>子组件更新过程：</p><p><code> ⽗ beforeUpdate -&gt; ⼦ beforeUpdate -&gt; ⼦ updated -&gt; ⽗ updated</code></p><p>父组件更新过程：</p><p><code>⽗ beforeUpdate -&gt; ⽗ updated</code></p><p>销毁过程：</p><p><code>⽗ beforeDestroy -&gt; ⼦ beforeDestroy -&gt; ⼦ destroyed -&gt; ⽗ destroyed</code></p><h4 id="3-5-计算属性和监听属性"><a href="#3-5-计算属性和监听属性" class="headerlink" title="3.5 计算属性和监听属性"></a>3.5 计算属性和监听属性</h4><h5 id="1-计算属性-computed"><a href="#1-计算属性-computed" class="headerlink" title="1. 计算属性 computed"></a>1. 计算属性 computed</h5><p>概述：主要用于对数据进行改造输出的，适用于复杂数据的转换，统计，格式编辑等等场景。</p><p>原理：底层借助了<code>Object.defineproperty()</code>方法提供的get和set</p><p>优势：计算属性会在调用后对结果进行缓存，如果再次调用，依赖的数据没有发生改变，那么直接从缓存中取出之前的结果使用，如果依赖的数据发生了改变，再重新计算，然后再次缓存。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">data</span>: &#123;</span><br><span class="line">     <span class="attr">firstName</span>:<span class="string">&#x27;张&#x27;</span>,</span><br><span class="line">     <span class="attr">lastName</span>:<span class="string">&#x27;三&#x27;</span>,</span><br><span class="line">     <span class="attr">x</span>:<span class="string">&#x27;你好&#x27;</span></span><br><span class="line">   &#125;,</span><br><span class="line">   <span class="attr">computed</span>: &#123;</span><br><span class="line">     <span class="comment">//完整写法</span></span><br><span class="line">     <span class="comment">// fullName: &#123;</span></span><br><span class="line">     <span class="comment">// get() &#123;</span></span><br><span class="line">     <span class="comment">// console.log(&#x27;get被调用了&#x27;)</span></span><br><span class="line">     <span class="comment">// return this.firstName + &#x27;-&#x27; + this.lastName</span></span><br><span class="line">     <span class="comment">// &#125;,</span></span><br><span class="line">     <span class="comment">// set(value) &#123;</span></span><br><span class="line">     <span class="comment">// console.log(&#x27;set&#x27;, value)</span></span><br><span class="line">     <span class="comment">// const arr = value.split(&#x27;-&#x27;)</span></span><br><span class="line">     <span class="comment">// this.firstName = arr[0]</span></span><br><span class="line">     <span class="comment">// this.lastName = arr[1]</span></span><br><span class="line">     <span class="comment">// &#125;</span></span><br><span class="line">     <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">// 简写</span></span><br><span class="line">     <span class="title function_">fullName</span>(<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;get被调用了&#x27;</span>)</span><br><span class="line">       <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">firstName</span> + <span class="string">&#x27;-&#x27;</span> + <span class="variable language_">this</span>.<span class="property">lastName</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h5 id="2-监听属性-watch"><a href="#2-监听属性-watch" class="headerlink" title="2. 监听属性 watch"></a>2. 监听属性 watch</h5><p>概述：监控已有的属性，一单属性发生改变就会自动调用相应的方法。</p><p>应用场景：根据数据变化去请求。监控用户输入。分页页码发生改变需要请求新的数据。</p><p>配置项属性 <code>**immediate:false** </code>，改为true，则初始化时调用一次。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">data</span>: &#123;</span><br><span class="line">      <span class="attr">isHot</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;,</span><br><span class="line">    </span><br><span class="line"> <span class="attr">watch</span>:&#123;</span><br><span class="line">     <span class="attr">isHot</span>:&#123;</span><br><span class="line">         <span class="attr">immediate</span>:<span class="literal">true</span>,</span><br><span class="line">             <span class="title function_">handler</span>(<span class="params">newValue,oldValue</span>)&#123;</span><br><span class="line">             <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;isHot被修改了&#x27;</span>,newValue,oldValue)</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;   </span><br></pre></td></tr></table></figure><p>深度监听：Vue中的watch默认不检测对象内部属性值的改变。为了提高效率。</p><p>在watch中配置deep:true可以监听对象内部属性值的改变</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">watch</span>: &#123;</span><br><span class="line">    <span class="comment">// 监视多级结构中某个属性的变化</span></span><br><span class="line">    <span class="comment">/* &#x27;numbers.a&#x27;:&#123;</span></span><br><span class="line"><span class="comment">handler()&#123;</span></span><br><span class="line"><span class="comment">console.log(&#x27;a被改变了&#x27;)</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">&#125; */</span></span><br><span class="line">    <span class="comment">// 监视多级结构中所有属性的变化</span></span><br><span class="line">    <span class="attr">numbers</span>: &#123;</span><br><span class="line">        <span class="attr">deep</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="title function_">handler</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;numbers改变了&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="3-区别"><a href="#3-区别" class="headerlink" title="3. 区别"></a>3. 区别</h5><ul><li>computed能完成的功能，watch都能完成，但watch能完成的，但computed不一定能完成。</li><li>computed一般应用于tabs切换列表数据</li><li>computed只能执行同步操作，watch能执行异步操作。</li><li>computed处理的数据有缓存，只有依赖的 data 或者 props 发生改变后才会重复执行，</li></ul><h4 id="3-5-插槽"><a href="#3-5-插槽" class="headerlink" title="3.5 插槽"></a>3.5 插槽</h4><p>概述：允许开发者进行组件的扩展，可以更好的复用组件以及定制化处理</p><h5 id="1-匿名插槽"><a href="#1-匿名插槽" class="headerlink" title="1. 匿名插槽"></a>1. 匿名插槽</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">父组件中：</span><br><span class="line">        &lt;Category&gt;</span><br><span class="line">           &lt;div&gt;html结构1&lt;/div&gt;</span><br><span class="line">        &lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">子组件中：</span><br><span class="line">        &lt;template&gt;</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">               &lt;!-- 定义插槽 --&gt;</span><br><span class="line">               &lt;slot&gt;插槽默认内容...&lt;/slot&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/template&gt;</span><br></pre></td></tr></table></figure><h5 id="2-具名插槽"><a href="#2-具名插槽" class="headerlink" title="2. 具名插槽"></a>2. 具名插槽</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> ：</span><br><span class="line">        &lt;Category&gt;</span><br><span class="line">            &lt;template slot=&quot;center&quot;&gt;</span><br><span class="line">              &lt;div&gt;html结构1&lt;/div&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">            &lt;template v-slot:footer&gt;</span><br><span class="line">               &lt;div&gt;html结构2&lt;/div&gt;</span><br><span class="line">            &lt;/template&gt;</span><br><span class="line">        &lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">子组件中：</span><br><span class="line">        &lt;template&gt;</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">               &lt;!-- 定义插槽 --&gt;</span><br><span class="line">               &lt;slot name=&quot;center&quot;&gt;插槽默认内容...&lt;/slot&gt;</span><br><span class="line">               &lt;slot name=&quot;footer&quot;&gt;插槽默认内容...&lt;/slot&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/template&gt;</span><br></pre></td></tr></table></figure><h5 id="3-作用域插槽"><a href="#3-作用域插槽" class="headerlink" title="3. 作用域插槽"></a>3. 作用域插槽</h5><p>概述：数据在子组件自身，但根据数据生产翁的结构需要组件的使用者(父组件)来决定。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">父组件中：</span><br><span class="line">&lt;Category&gt;</span><br><span class="line">&lt;template scope=&quot;scopeData&quot;&gt;</span><br><span class="line">&lt;!-- 生成的是ul列表 --&gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">&lt;li v-for=&quot;g in scopeData.games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">&lt;Category&gt;</span><br><span class="line">&lt;template slot-scope=&quot;scopeData&quot;&gt;</span><br><span class="line">&lt;!-- 生成的是h4标题 --&gt;</span><br><span class="line">&lt;h4 v-for=&quot;g in scopeData.games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/h4&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;/Category&gt;</span><br><span class="line">子组件中：</span><br><span class="line">        &lt;template&gt;</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;slot :games=&quot;games&quot;&gt;&lt;/slot&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            export default &#123;</span><br><span class="line">                name:&#x27;Category&#x27;,</span><br><span class="line">                props:[&#x27;title&#x27;],</span><br><span class="line">                //数据在子组件自身</span><br><span class="line">                data() &#123;</span><br><span class="line">                    return &#123;</span><br><span class="line">                        games:[&#x27;红色警戒&#x27;,&#x27;穿越火线&#x27;,&#x27;劲舞团&#x27;,&#x27;超级玛丽&#x27;]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/script&gt;</span><br></pre></td></tr></table></figure><p>应用场景：一般情况应用于编辑，删除等按钮来获取这一行的数据。</p><h4 id="3-6-vue-router"><a href="#3-6-vue-router" class="headerlink" title="3.6 vue-router"></a>3.6 vue-router</h4><p>概述：前端路由理解为单页开发中，负责页面内容的开发，根据不同的url地址去展示不同的内容。</p><h5 id="1-配置："><a href="#1-配置：" class="headerlink" title="1. 配置："></a>1. 配置：</h5><ol><li>main.js配置：</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure><ol start="2"><li>router配置：</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">LayoutView</span> <span class="keyword">from</span> <span class="string">&#x27;../views/LayoutView.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>) <span class="comment">// vue 中所有使用的三方模块引入后都必须注册</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [ <span class="comment">// 路由配置</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>, <span class="comment">// 路径</span></span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;home&#x27;</span>, <span class="comment">// 路由名</span></span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">HomeView</span> <span class="comment">// 当前路径匹配的组件，即访问当前路径时，显示该组件</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;about&#x27;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../views/AboutView.vue&#x27;</span>) <span class="comment">// 路由懒加载，表示当访问该路径时，才去执行该函数，然后加载该组件，用于优化</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123; <span class="comment">// 路由实例化</span></span><br><span class="line">    <span class="attr">mode</span>: <span class="string">&#x27;history&#x27;</span>, <span class="comment">// 路由模式，另一种模式是 hash</span></span><br><span class="line">    <span class="attr">base</span>: process.<span class="property">env</span>.<span class="property">BASE_URL</span>,</span><br><span class="line">    routes</span><br><span class="line">  &#125;)</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 路由守卫</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 用户登录的凭证</span></span><br><span class="line">  <span class="keyword">const</span> token = store.<span class="property">state</span>.<span class="property">token</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (to.<span class="property">meta</span>.<span class="property">auth</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (token) &#123;</span><br><span class="line">      <span class="title function_">next</span>()</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">next</span>(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">next</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure><h5 id="2-实现切换"><a href="#2-实现切换" class="headerlink" title="2. 实现切换"></a>2. 实现切换</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><h5 id="3-指定展示位置"><a href="#3-指定展示位置" class="headerlink" title="3. 指定展示位置"></a>3. 指定展示位置</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-view&gt;&lt;/router-view&gt;</span><br></pre></td></tr></table></figure><h5 id="4-注意点"><a href="#4-注意点" class="headerlink" title="4. 注意点"></a>4. 注意点</h5><ul><li>路由组件通常存放在<code>pages</code>文件夹，一般组件q 通常存放在<code>components</code>文件夹。</li><li>通过切换，“隐藏”了的路由组件，默认是被销毁掉的，需要的时候再去挂载。</li><li>每个组件都有自己的<code>$route</code>属性，里面存储着自己的路由信息。</li><li>整个应用只有一个router，可以通过组件的<code>$router</code>属性获取到。</li></ul><h5 id="5-多级路由"><a href="#5-多级路由" class="headerlink" title="5. 多级路由"></a>5. 多级路由</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">routes</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">About</span>,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Home</span>,</span><br><span class="line"><span class="attr">children</span>:[ <span class="comment">//通过children配置子级路由</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;news&#x27;</span>, <span class="comment">//此处一定不要写：/news</span></span><br><span class="line"><span class="attr">component</span>:<span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../views/NewView.vue&#x27;</span>)</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;message&#x27;</span>,<span class="comment">//此处一定不要写：/message</span></span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Message</span></span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>跳转：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><h5 id="6-路由传参"><a href="#6-路由传参" class="headerlink" title="6. 路由传参"></a>6. 路由传参</h5><h6 id="1-query传参"><a href="#1-query传参" class="headerlink" title="1. query传参"></a>1. query传参</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 跳转并携带query参数，to的字符串写法 --&gt;</span><br><span class="line">&lt;router-link :to=&quot;/home/message/detail?id=666&amp;title=你好&quot;&gt;跳转&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 跳转并携带query参数，to的对象写法 --&gt;</span><br><span class="line">&lt;router-link </span><br><span class="line">:to=&quot;&#123;</span><br><span class="line">path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">query:&#123;</span><br><span class="line">   id:666,</span><br><span class="line">            title:&#x27;你好&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&#125;&quot;</span><br><span class="line">&gt;跳转&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">// 接受参数</span><br><span class="line">$route.query.id</span><br><span class="line">$route.query.title</span><br></pre></td></tr></table></figure><h6 id="2-params传参"><a href="#2-params传参" class="headerlink" title="2. params传参"></a>2. params传参</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!-- 跳转并携带params参数，to的对象写法 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">router-link</span> </span></span></span><br><span class="line"><span class="tag"><span class="language-xml"><span class="attr">:to</span>=<span class="string">&quot;&#123;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">name:&#x27;/home/message/detail&#x27;,</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">params:&#123;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">   id:666,</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">            title:&#x27;你好&#x27;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">&#125;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">&#125;&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">&gt;</span>跳转<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 接受参数</span></span><br><span class="line">$route.<span class="property">query</span>.<span class="property">id</span></span><br><span class="line">$route.<span class="property">query</span>.<span class="property">title</span></span><br></pre></td></tr></table></figure><h5 id="3-动态路由"><a href="#3-动态路由" class="headerlink" title="3. 动态路由"></a>3. 动态路由</h5><p>在router目录下的index.js文件中，对path属性加上&#x2F;:id。使用router对象的params.id获取动态参数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&#x27;student/:id&#x27;</span>, <span class="comment">// 表示匹配 /student/ 下任意路径，比如 /student/abc, /student/123</span></span><br><span class="line">          <span class="attr">name</span>: <span class="string">&#x27;ViewStudent&#x27;</span>,</span><br><span class="line">          <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../views/ViewStudent.vue&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 路径跳转</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/student/&#x27;</span> + id);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取参数</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">params</span>.<span class="property">id</span></span><br></pre></td></tr></table></figure><h6 id="4-query和params区别"><a href="#4-query和params区别" class="headerlink" title="4. query和params区别"></a>4. query和params区别</h6><p><strong>params 传参类似于网络请求中的 post 请求，params 传过去的参数不会显示在地址栏中（但是不能刷新）, params 传参后，刷新页面会失去拿到的参数。params 只能配合 name 使用，如果提供了 path，params 会失效。</strong></p><p><strong>query 传参类似于网络请求中的 get 请求，query 传过去的参数会拼接在地址栏中（?name&#x3D;xx）。query 较为灵活既可以配合 path 使用，也能配合 name 使用（亲测可用）。</strong></p><h5 id="7-编程式路由导航"><a href="#7-编程式路由导航" class="headerlink" title="7. 编程式路由导航"></a>7. 编程式路由导航</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// params传参</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line"><span class="attr">params</span>:&#123;</span><br><span class="line"><span class="attr">id</span>:xxx,</span><br><span class="line"><span class="attr">title</span>:xxx</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">replace</span>(&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line"><span class="attr">params</span>:&#123;</span><br><span class="line"><span class="attr">id</span>:xxx,</span><br><span class="line"><span class="attr">title</span>:xxx</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// query传参</span></span><br><span class="line">his.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/xiangqing&#x27;</span>,</span><br><span class="line"><span class="attr">query</span>:&#123;</span><br><span class="line"><span class="attr">id</span>:xxx,</span><br><span class="line"><span class="attr">title</span>:xxx</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">replace</span>(&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line"><span class="attr">query</span>:&#123;</span><br><span class="line"><span class="attr">id</span>:xxx,</span><br><span class="line"><span class="attr">title</span>:xxx</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">forward</span>() <span class="comment">//前进</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">back</span>() <span class="comment">//后退</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">go</span>() <span class="comment">//可前进也可后退</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 接收参数 query</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span></span><br><span class="line"><span class="comment">// 接受参数 params</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">params</span></span><br></pre></td></tr></table></figure><p><strong>router-link的replace属性</strong>：控制路由跳转时操作浏览器历史记录的模式，浏览器的历史记录有两种写入方式：分别为<code>push</code>和<code>replace</code>，<code>push</code>是追加历史记录，<code>replace</code>是替换当前记录。路由跳转时候默认为<code>push</code>如何开启<code>replace</code>模式：&#96;&#96;&#96;&lt;router-link replace …….&gt;News</router-link>&#96;&#96;</p><h5 id="8-路由组件钩子"><a href="#8-路由组件钩子" class="headerlink" title="8. 路由组件钩子"></a>8. 路由组件钩子</h5><p>概述：<code>keep-alive</code> 让步展示的路由组建保持挂载，不被销毁</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive include=<span class="string">&quot;News&quot;</span>&gt; </span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span></span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure><p><strong>activated和deactivated</strong></p><p>作用：路由组件所独有的两个钩子，用于捕获路由组件的激活状态。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```deactivated```路由组件失活时触发。</span><br><span class="line"></span><br><span class="line">应用：可以将定时器写在被激活时里，销毁定时器写在失活里，组件跳转时会被触发</span><br><span class="line"></span><br><span class="line">##### 9. 路由守卫</span><br><span class="line"></span><br><span class="line">###### 1. 全局守卫</span><br><span class="line"></span><br><span class="line">概述：对路由进行权限控制</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">//全局前置守卫：初始化时执行、每次路由切换前执行</span><br><span class="line">router.beforeEach((to,from,next)=&gt;&#123;</span><br><span class="line">console.log(&#x27;beforeEach&#x27;,to,from)</span><br><span class="line">if(to.meta.isAuth)&#123; //判断当前路由是否需要进行权限控制</span><br><span class="line">if(localStorage.getItem(&#x27;school&#x27;) === &#x27;atguigu&#x27;)&#123; //权限控制的具体规则</span><br><span class="line">next() //放行</span><br><span class="line">&#125;else&#123;</span><br><span class="line">alert(&#x27;暂无权限查看&#x27;)</span><br><span class="line">// next(&#123;name:&#x27;guanyu&#x27;&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">next() //放行</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//全局后置守卫：初始化时执行、每次路由切换后执行</span><br><span class="line">router.afterEach((to,from)=&gt;&#123;</span><br><span class="line">console.log(&#x27;afterEach&#x27;,to,from)</span><br><span class="line">if(to.meta.title)&#123; </span><br><span class="line">document.title = to.meta.title //修改网页的title</span><br><span class="line">&#125;else&#123;</span><br><span class="line">document.title = &#x27;vue_test&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h6 id="2-独享守卫"><a href="#2-独享守卫" class="headerlink" title="2. 独享守卫"></a>2. 独享守卫</h6><p>概述：当前路由独享的守卫，可判断当前路由是否需要权限控制</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">beforeEnter</span>(<span class="params">to,<span class="keyword">from</span>,next</span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beforeEnter&#x27;</span>,to,<span class="keyword">from</span>)</span><br><span class="line"><span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">isAuth</span>)&#123; <span class="comment">//判断当前路由是否需要进行权限控制</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;school&#x27;</span>) === <span class="string">&#x27;atguigu&#x27;</span>)&#123;</span><br><span class="line"><span class="title function_">next</span>()</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;暂无权限查看&#x27;</span>)</span><br><span class="line"><span class="comment">// next(&#123;name:&#x27;guanyu&#x27;&#125;)</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="title function_">next</span>()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="3-组件内守卫"><a href="#3-组件内守卫" class="headerlink" title="3. 组件内守卫"></a>3. 组件内守卫</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//进入守卫：通过路由规则，进入该组件时被调用</span></span><br><span class="line">beforeRouteEnter (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//离开守卫：通过路由规则，离开该组件时被调用</span></span><br><span class="line">beforeRouteLeave (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="10-路由模式"><a href="#10-路由模式" class="headerlink" title="10. 路由模式"></a>10. 路由模式</h5><h6 id="1-hasn模式"><a href="#1-hasn模式" class="headerlink" title="1. hasn模式"></a>1. hasn模式</h6><ul><li><code>hash</code> 模式是一种把前端路由的路径用井号 <code>#</code> 拼接在真实 <code>url</code> 后面的模式。当井号 <code>#</code> 后面的路径发生变化时，浏览器并不会重新发起请求，而是会触发 <code>onhashchange</code> 事件。不会被包括在 <code>http</code> 请求中。</li><li>hash变化会触发网页跳转，即浏览器的前进和后退。</li><li><code>hash</code> 通过 <code>window.onhashchange</code> 的方式，来监听 <code>hash</code> 的改变，借此实现无刷新跳转的功能</li><li><code>hash</code> 可以改变 <code>url</code> ，但是不会触发页面重新加载，不会出现在&#96;&#96;http&#96;中</li><li>首先，<code>hash</code>本来是拿来做页面定位的，如果拿来做路由的话，原来的锚点功能就不能用了。其次，&#96;&#96;hash<code>的传参是基于</code>url&#96;的，如果要传递复杂的数据，会有体积的限制</li></ul><h6 id="2-history模式"><a href="#2-history模式" class="headerlink" title="2. history模式"></a>2. history模式</h6><ul><li>利用H5的 history中新增的两个API <code>pushState()</code> 和 <code>replaceState()</code> 和一个事件&#96;&#96;onpopstate&#96;监听URL变化</li><li><code>history</code>每次刷新会重新像后端请求整个网址，也就是重新请求服务器。如果后端没有及时响应，就会报错404！ </li><li><code>history</code>模式不仅可以在&#96;&#96;url&#96;里放参数，还可以将数据存放在一个特定的对象中。</li><li>修改历史状态：  包括了 HTML5 History Interface 中新增的 <code>pushState()</code> 和 <code>replaceState()</code> 方法，这两个方法应用于浏览器的历史记录栈，提供了对历史记录进行修改的功能。只是当他们进行修改时，虽然修改了 url，但浏览器不会立即向后端发送请求。如果要做到改变 url 但又不刷新页面的效果，就需要前端用上这两个 API。 </li><li>切换历史状态： 包括 <code>forward()</code>、<code>back()</code>、<code>go()</code> 三个方法，对应浏览器的前进，后退，跳转操作。</li></ul><h6 id="3-两种模式对比"><a href="#3-两种模式对比" class="headerlink" title="3. 两种模式对比"></a>3. 两种模式对比</h6><ul><li>history 模式的 pushState() 设置的新 URL 可以是与当前 URL 同源的任意 URL；而 hash 只可修改 # 后面的部分，因此只能设置与当前 URL 同文档的 URL；</li><li>pushState() 设置的新 URL 可以与当前 URL 一模一样，这样也会把记录添加到栈中；而 hash 设置的新值必须与原来不一样才会触发动作将记录添加到栈中；</li><li>pushState() 通过 stateObject 参数可以添加任意类型的数据到记录中；而 hash 只可添加短字符串；</li><li>pushState() 可额外设置 title 属性供后续使用。</li><li>hash 模式下，仅 hash 符号之前的 url 会被包含在请求中，后端如果没有做到对路由的全覆盖，也不会返回 404 错误；history 模式下，前端的 url 必须和实际向后端发起请求的 url一致，如果没有对用的路由处理，将返回 404 错误。</li></ul><h4 id="3-7-过滤器-v3已删"><a href="#3-7-过滤器-v3已删" class="headerlink" title="3.7 过滤器(v3已删)"></a>3.7 过滤器(v3已删)</h4><p>概述：Vue 为开发者提供了一个方法，帮助我们进行数据的筛选处理，一般应用在模板上的。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in arr&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="comment">&lt;!-- 使用过滤器语法 --&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>运输状态:&#123;&#123; item.expressState | showState &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">// data ...... 篇幅有限直接省略掉</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">// 在组件内定义，然后根据不同的状态返回不同的值内容</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">filters</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">showState</span>(<span class="params">state</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">switch</span> (state) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">case</span> <span class="string">&quot;1&quot;</span>:</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">return</span> <span class="string">&quot;待发货&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">break</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">case</span> <span class="string">&quot;2&quot;</span>:</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">return</span> <span class="string">&quot;已发货&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">break</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">case</span> <span class="string">&quot;3&quot;</span>:</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">return</span> <span class="string">&quot;运输中&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">break</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">case</span> <span class="string">&quot;4&quot;</span>:</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">return</span> <span class="string">&quot;派件中&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">break</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">case</span> <span class="string">&quot;5&quot;</span>:</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">return</span> <span class="string">&quot;已收货&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">break</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">default</span>:</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">return</span> <span class="string">&quot;快递信息丢失&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>删除原因：在v3中为了精简代码，删除了过滤器，因为在computed计算属性和methods方法中也可以对数据进行加工。</p><h3 id="4-Vue-引入"><a href="#4-Vue-引入" class="headerlink" title="4. Vue 引入"></a>4. Vue 引入</h3><h4 id="4-1-图片引入"><a href="#4-1-图片引入" class="headerlink" title="4.1 图片引入"></a>4.1 图片引入</h4><h5 id="1-相对路径"><a href="#1-相对路径" class="headerlink" title="1. 相对路径"></a>1. 相对路径</h5><p><code>&lt;img src=&quot;@/assets/images/g1.jpeg&quot; alt=&quot;&quot;&gt;</code></p><p>最终图片路径会发生改变</p><h5 id="2-require"><a href="#2-require" class="headerlink" title="2. require"></a>2. require</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;img :src=<span class="string">&quot;logo&quot;</span> alt=<span class="string">&quot;&quot;</span>&gt;</span><br><span class="line">    &#123;</span><br><span class="line">      ...</span><br><span class="line">      <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          <span class="attr">logo</span>: <span class="built_in">require</span>(<span class="string">&#x27;../assets/pic.jpg&#x27;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h5 id="3-import"><a href="#3-import" class="headerlink" title="3. import"></a>3. import</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// import</span></span><br><span class="line">   &lt;img :src=<span class="string">&quot;logo&quot;</span> alt=<span class="string">&quot;&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">import</span> logo <span class="keyword">from</span> <span class="string">&#x27;../assets/logo.png&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="4-2-动画引入"><a href="#4-2-动画引入" class="headerlink" title="4.2 动画引入"></a>4.2 动画引入</h4><p>概述：Vue 中可以实现在 插入、更新、移除 DOM 的时候，添加过度效果。</p><h6 id="条件："><a href="#条件：" class="headerlink" title="条件："></a>条件：</h6><ul><li>条件渲染（v-if，v-show）</li><li>动态组件</li><li>列表渲染</li></ul><h6 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h6><p>需要添加动画的标签或者组件，在外部添加 transition 组件包装。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;transition&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;/transition&gt;</span><br><span class="line"></span><br><span class="line">    v-<span class="attr">enter</span>: 表示开始进入过度</span><br><span class="line"></span><br><span class="line">    v-enter-active：正在进入过度</span><br><span class="line"></span><br><span class="line">    v-enter-to：进入过度结束</span><br><span class="line"></span><br><span class="line">    v-leave：准备离开的过度</span><br><span class="line"></span><br><span class="line">    v-leave-active：正在离开的过度</span><br><span class="line"></span><br><span class="line">    v-leave-to：已经离开</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-Vue属性"><a href="#5-Vue属性" class="headerlink" title="5. Vue属性"></a>5. Vue属性</h3><h4 id="1-scoped-属性"><a href="#1-scoped-属性" class="headerlink" title="1. scoped 属性"></a>1. scoped 属性</h4><p>概述： 因为 css 没有局部和全局的概念，所有的css都是全局css，所以默认情况下 <code>&lt;style&gt;</code> 就是全局，各个组件之间如果 class 名字相同，则会相互影响。</p><p>解决：给 style 添加 <code>scoped</code> 属性，则当前 style 中的 css 会变为局部 css。</p><p>作用：组件样式不相互污染。</p><p>原理：</p><ul><li>给&#96;&#96;HTML<code>的dom节点添加一个不重复的</code>data&#96;属性(例如: data-v-5558831a)来唯一标识这个dom 元素</li><li>在每句<code>css</code>选择器的末尾(编译后生成的css语句)加一个当前组件的<code>data</code>属性选择器(例如：[data-v-5558831a])来私有化样式</li></ul><p>样式穿透： 当我们引入第三方组件库时，需要在局部组件中修改第三方组件库的样式，而又不想去除scoped属性造成组件之间的样式覆盖。 </p><p>使用：</p><ul><li>stylus的样式穿透 使用&gt;&gt;&gt; <code>外层 &gt;&gt;&gt; 第三方组件</code></li><li>sass和less的样式穿透 使用&#x2F;deep&#x2F;  <code>外层 /deep/ 第三方组件</code></li></ul><h4 id="2-nextTick"><a href="#2-nextTick" class="headerlink" title="2. nextTick"></a>2. nextTick</h4><p>概述：等待下一次 DOM 更新刷新的方法</p><p>Vue有个<code>异步更新策略</code>，意思是如果数据变化，Vue不会立刻更新DOM，而是<code>开启一个队列</code>，把<code>组件更新函数保存在队列中</code>，在同一时间循环发生的<code>所有数据变更会异步的批量更新</code>。这一策略导致我们对数据的修改<code>不会立刻</code>体现在<code>DOM</code>上，此时如果想要获取更新后的<code>DOM状态</code>，就需要使用<code>nextTick.</code></p><p>使用场景： <code>created</code>中想要获取DOM时，<code>响应式数据变化</code>后获取<code>DOM</code>更新后的状态，比如希望获取<code>列表更新后的高度</code>。 </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">created</span>(<span class="params"></span>)&#123;</span><br><span class="line">   <span class="keyword">let</span> that=<span class="variable language_">this</span>;</span><br><span class="line">   that.$nextTick(<span class="keyword">function</span>(<span class="params"></span>)&#123;  <span class="comment">//不使用this.$nextTick()方法会报错</span></span><br><span class="line">       that.<span class="property">$refs</span>.<span class="property">aa</span>.<span class="property">innerHTML</span>=<span class="string">&quot;created中更改了按钮内容&quot;</span>;  <span class="comment">//写入到DOM元素</span></span><br><span class="line">   &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="二、Vue-周边"><a href="#二、Vue-周边" class="headerlink" title="二、Vue 周边"></a>二、Vue 周边</h2><h3 id="1-element-ui"><a href="#1-element-ui" class="headerlink" title="1. element-ui"></a>1. element-ui</h3><h4 id="1-1-环境安装"><a href="#1-1-环境安装" class="headerlink" title="1.1 环境安装"></a>1.1 环境安装</h4><p><code>npm i element-ui -S</code></p><h4 id="1-2-引入框架"><a href="#1-2-引入框架" class="headerlink" title="1.2 引入框架"></a>1.2 引入框架</h4><h5 id="1-全局引入"><a href="#1-全局引入" class="headerlink" title="1. 全局引入"></a>1. 全局引入</h5><p>main.js文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">ElementUI</span> <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">ElementUI</span>);</span><br></pre></td></tr></table></figure><h5 id="2-按需加载"><a href="#2-按需加载" class="headerlink" title="2. 按需加载"></a>2. 按需加载</h5><p>安装模块：<code>npm install babel-plugin-component -D</code></p><p>babel.config.js文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">      <span class="string">&quot;presets&quot;</span>: [<span class="string">&#x27;@vue/cli-plugin-babel/preset&#x27;</span>],</span><br><span class="line">      <span class="string">&quot;plugins&quot;</span>: [</span><br><span class="line">        [</span><br><span class="line">          <span class="string">&quot;component&quot;</span>,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="string">&quot;libraryName&quot;</span>: <span class="string">&quot;element-ui&quot;</span>,</span><br><span class="line">            <span class="string">&quot;styleLibraryName&quot;</span>: <span class="string">&quot;theme-chalk&quot;</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>main.js中：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Button</span>, <span class="title class_">Select</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Button</span>)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Select</span>)</span><br></pre></td></tr></table></figure><h3 id="2-sass"><a href="#2-sass" class="headerlink" title="2. sass"></a>2. sass</h3><p>概述：属于 css 的扩展语言、支持所有 css 的语法，然后新增语法。</p><h4 id="1-安装-1"><a href="#1-安装-1" class="headerlink" title="1. 安装"></a>1. 安装</h4><p><code>npm i sass/node-sass/dart-sass</code></p><h4 id="2-sass-语法"><a href="#2-sass-语法" class="headerlink" title="2. sass 语法"></a>2. sass 语法</h4><h5 id="1-变量"><a href="#1-变量" class="headerlink" title="1. 变量"></a>1. 变量</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义：以 $ 开头，后面跟上变量名</span></span><br><span class="line">    $theme-<span class="attr">color</span>: #ff0;</span><br><span class="line">    <span class="attr">$b</span>: border;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"> nav &#123;</span><br><span class="line">      <span class="attr">background</span>: $theme-color;</span><br><span class="line">    &#125;</span><br><span class="line"> footer &#123;</span><br><span class="line">      <span class="attr">border</span>: 1px solid $theme-color;</span><br></pre></td></tr></table></figure><h5 id="2-插值"><a href="#2-插值" class="headerlink" title="2. 插值"></a>2. 插值</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p .#&#123;$b&#125; &#123;</span><br><span class="line">      #&#123;$b&#125;-<span class="attr">left</span>: 1px solid $theme-color;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h5 id="3-导入"><a href="#3-导入" class="headerlink" title="3. 导入"></a>3. 导入</h5><p>@import ‘文件名’; &#x2F;&#x2F; 文件后缀如果是 .scss 那么可以省略不写</p><h5 id="4-嵌套"><a href="#4-嵌套" class="headerlink" title="4. 嵌套"></a>4. 嵌套</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">body</span> &#123;</span><br><span class="line">    <span class="attr">width</span>: 200px;</span><br><span class="line"></span><br><span class="line">    p &#123;</span><br><span class="line">      text-<span class="attr">align</span>: center;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    a &#123;</span><br><span class="line">      <span class="attr">color</span>: red;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h5 id="5-混合"><a href="#5-混合" class="headerlink" title="5. 混合"></a>5. 混合</h5><p>概述：当出现大段重复的代码时，就可以使用混合趋势线打断样式的复用</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义混合 - 此段代码可以重复利用</span></span><br><span class="line">  @mixin center &#123;</span><br><span class="line">    <span class="attr">width</span>: 800px;</span><br><span class="line">    margin-<span class="attr">left</span>: auto;</span><br><span class="line">    margin-<span class="attr">right</span>: auto;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 - 通过 @include 来标识</span></span><br><span class="line">  .<span class="property">content</span> &#123;</span><br><span class="line">    @include center;</span><br><span class="line">    <span class="attr">background</span>: red;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 混合允许使用变量 - 类似混合是函数，函数也可以接受参数，并且参数可以有默认值</span></span><br><span class="line">  @mixin <span class="title function_">center</span>(<span class="params">$w</span>) &#123; <span class="comment">// $w 就是参数</span></span><br><span class="line">    <span class="attr">width</span>: $w;</span><br><span class="line">    margin-<span class="attr">left</span>: auto;</span><br><span class="line">    margin-<span class="attr">right</span>: auto;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 使用 </span></span><br><span class="line">  .<span class="property">content</span> &#123;</span><br><span class="line">    @include <span class="title function_">center</span>(1000px);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">@mixin <span class="title function_">center</span>(<span class="params">$w:800px</span>) &#123; <span class="comment">// 默认值</span></span><br><span class="line">    <span class="attr">width</span>: $w;</span><br><span class="line">    margin-<span class="attr">left</span>: auto;</span><br><span class="line">    margin-<span class="attr">right</span>: auto;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 使用 </span></span><br><span class="line">  .<span class="property">content</span> &#123;</span><br><span class="line">    @include <span class="title function_">center</span>(); <span class="comment">// 没有传值就是默认值</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h5 id="6-继承"><a href="#6-继承" class="headerlink" title="6. 继承"></a>6. 继承</h5><p>概述：一个选择器继承另外一个选择器。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">error</span> &#123;</span><br><span class="line">    <span class="attr">background</span>: red;</span><br><span class="line">    <span class="attr">color</span>: #fff;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .<span class="property">seriousError</span> &#123;</span><br><span class="line">    @extend .<span class="property">error</span>; <span class="comment">// 通过 @extend 去继承另外一个选择器中所有的 css 代码</span></span><br><span class="line">    <span class="attr">background</span>: darkred;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="3-axios"><a href="#3-axios" class="headerlink" title="3. axios"></a>3. axios</h3><p>概述：axios 是一个基于 Promise 的 HTTP 请求库，可以在浏览器和 nodejs 中使用。有非常多的特性：请求拦截和响应拦截、取消请求、客户端 XSRF 防御。</p><h4 id="1-安装-2"><a href="#1-安装-2" class="headerlink" title="1. 安装"></a>1. 安装</h4><p><code>npm i axios</code></p><h4 id="2-使用axios"><a href="#2-使用axios" class="headerlink" title="2. 使用axios"></a>2. 使用axios</h4><p><code>npm i axios vue-axios</code></p><p>main.js配置</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> http <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$http</span> = http</span><br></pre></td></tr></table></figure><p>使用：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// GET 请求，参数放在 url 中 </span></span><br><span class="line">  axios.<span class="title function_">get</span>(<span class="string">&#x27;/user?ID=12345&#x27;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="comment">// 处理成功情况</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="comment">// 处理错误情况</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">  &#125;)</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// GET请求 参数放在params中</span></span><br><span class="line">  axios.<span class="title function_">get</span>(<span class="string">&#x27;/user&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">params</span>: &#123;</span><br><span class="line">      <span class="attr">ID</span>: <span class="number">12345</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// axios 发送 get</span></span><br><span class="line">    <span class="title function_">axios</span>(&#123;</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;/user/12345&#x27;</span>,</span><br><span class="line">      <span class="attr">params</span>: &#123;</span><br><span class="line">        <span class="attr">firstName</span>: <span class="string">&#x27;Fred&#x27;</span>,</span><br><span class="line">        <span class="attr">lastName</span>: <span class="string">&#x27;Flintstone&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// POST 请求 </span></span><br><span class="line">  axios.<span class="title function_">post</span>(<span class="string">&#x27;/user&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">firstName</span>: <span class="string">&#x27;Fred&#x27;</span>,</span><br><span class="line">    <span class="attr">lastName</span>: <span class="string">&#x27;Flintstone&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(error);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// axios 发送 post</span></span><br><span class="line">    <span class="title function_">axios</span>(&#123;</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;/user/12345&#x27;</span>,</span><br><span class="line">      <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">firstName</span>: <span class="string">&#x27;Fred&#x27;</span>,</span><br><span class="line">        <span class="attr">lastName</span>: <span class="string">&#x27;Flintstone&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 并发请求</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">getUserAccount</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;/user/12345&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">getUserPermissions</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> axios.<span class="title function_">get</span>(<span class="string">&#x27;/user/12345/permissions&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// promise.all 此实例参数内所有的promise都完成，如果有一个失败，则实例回调失败，失败原因的是第一个失败的原因</span></span><br><span class="line">  <span class="title class_">Promise</span>.<span class="title function_">all</span>([<span class="title function_">getUserAccount</span>(), <span class="title function_">getUserPermissions</span>()])</span><br><span class="line">    .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">results</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> acct = results[<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">const</span> perm = results[<span class="number">1</span>];</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><h4 id="3-封装"><a href="#3-封装" class="headerlink" title="3. 封装"></a>3. 封装</h4><p>原因：</p><ul><li>方便修改baseUrl</li><li>loading 处理</li><li>token 处理</li><li>错误处理</li><li>返回数据过虑</li><li>取消请求</li><li>过滤相同请求</li></ul><p>具体封装见axios总结</p>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 笔记 </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Canvas笔记</title>
      <link href="/79333/2021/01/11/Canvas%E7%AC%94%E8%AE%B0/"/>
      <url>/79333/2021/01/11/Canvas%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="canvas总结"><a href="#canvas总结" class="headerlink" title="canvas总结"></a>canvas总结</h1><h2 id="一、canvas简介"><a href="#一、canvas简介" class="headerlink" title="一、canvas简介"></a>一、canvas简介</h2><h3 id="1-概念"><a href="#1-概念" class="headerlink" title="1. 概念"></a>1. 概念</h3><p>canvas是HTML5提出来的，支持IE9以上的浏览器。</p><p>是一块画布，可以通过 JS 在上面进行各种图示图表、图像、动画的绘制。</p><h3 id="2-应用场景"><a href="#2-应用场景" class="headerlink" title="2. 应用场景"></a>2. 应用场景</h3><ul><li>验证码</li><li>Echarts</li><li>网页游戏</li><li>图片、视频处理</li><li>图片裁剪</li></ul><h2 id="二、canvas使用"><a href="#二、canvas使用" class="headerlink" title="二、canvas使用"></a>二、canvas使用</h2><h3 id="1-创建画布"><a href="#1-创建画布" class="headerlink" title="1. 创建画布"></a>1. 创建画布</h3><h4 id="1-1-创建画布"><a href="#1-1-创建画布" class="headerlink" title="1.1 创建画布"></a>1.1 创建画布</h4><p>在 html 中创建指定大小的画布，默认 300 * 150px</p><p>注：宽高必须设置在标签属性上，如果写在css中，name是对原来的图像尺寸进行缩放</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 您当前的浏览器不支持 (不支持该语法的就是显示文字，支持的就不会显示出来)</span></span><br><span class="line">&lt;canvas id=<span class="string">&quot;myCanvas&quot;</span> width=<span class="string">&quot;400&quot;</span> height=<span class="string">&quot;300&quot;</span>&gt;&lt;/canvas&gt;</span><br></pre></td></tr></table></figure><h4 id="1-2-获取并渲染"><a href="#1-2-获取并渲染" class="headerlink" title="1.2 获取并渲染"></a>1.2 获取并渲染</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">     <span class="keyword">const</span> canvas = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myCanvas&#x27;</span>);</span><br><span class="line">     <span class="keyword">const</span> ctx = canvas.<span class="title function_">getContext</span>(<span class="string">&#x27;2d&#x27;</span>); <span class="comment">// 2D 渲染上下文</span></span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="1-3-绘制图形"><a href="#1-3-绘制图形" class="headerlink" title="1.3 绘制图形"></a>1.3 绘制图形</h4><h6 id="绘制填充矩形，默认颜色是黑色"><a href="#绘制填充矩形，默认颜色是黑色" class="headerlink" title="绘制填充矩形，默认颜色是黑色"></a>绘制填充矩形，默认颜色是黑色</h6><p> <code>ctx.fillRect(x,y,width,height)</code></p><p>参数：x：x 轴坐标，正方向是向右，坐标原点是 canvas 的左上角</p><p>​y：y 轴坐标，正方向是向下</p><p>​width：矩形宽度，单位 像素</p><p>​height：矩形高度 </p><h6 id="绘制边框矩形"><a href="#绘制边框矩形" class="headerlink" title="绘制边框矩形"></a>绘制边框矩形</h6><p> <code>ctx.strokeRect(x, y, width, height)</code></p><h6 id="擦除指定大小区域的矩形"><a href="#擦除指定大小区域的矩形" class="headerlink" title="擦除指定大小区域的矩形"></a>擦除指定大小区域的矩形</h6><p><code>ctx.clearRect(x, y, width, height)</code></p><h4 id="1-4-样式控制"><a href="#1-4-样式控制" class="headerlink" title="1.4 样式控制"></a>1.4 样式控制</h4><h6 id="设置图形的填充颜色"><a href="#设置图形的填充颜色" class="headerlink" title="设置图形的填充颜色"></a>设置图形的填充颜色</h6><p><code>ctx.fillStyle = color;</code></p><h6 id="设置图形的边框颜色"><a href="#设置图形的边框颜色" class="headerlink" title="设置图形的边框颜色"></a>设置图形的边框颜色</h6><p><code>ctx.strokeStyle = color;</code></p><h6 id="设置边框线条的粗细"><a href="#设置边框线条的粗细" class="headerlink" title="设置边框线条的粗细"></a>设置边框线条的粗细</h6><p><code>ctx.lineWidth = 值</code></p><h3 id="2-路径"><a href="#2-路径" class="headerlink" title="2. 路径"></a>2. 路径</h3><h4 id="1-简介"><a href="#1-简介" class="headerlink" title="1. 简介"></a>1. 简介</h4><p>在canvas中，除了矩形之外，其他的图形都必须通过路径绘制，然后再选择是描边还是填充</p><h4 id="2-路径绘制"><a href="#2-路径绘制" class="headerlink" title="2. 路径绘制"></a>2. 路径绘制</h4><table><thead><tr><th align="center">语法</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>ctx.beginPath()</code></td><td align="center">表示开始进行路径绘制，每次调用该方法后，将会绘制新的路径</td></tr><tr><td align="center"><code>ctx.moveTo(x,y)</code></td><td align="center">路径的起始点坐标</td></tr><tr><td align="center"><code>ctx.lineTo</code>(x,y)</td><td align="center">从上一点绘制到当前坐标，两点连成直线</td></tr><tr><td align="center">ctx.closePath()</td><td align="center">结束路径绘制，自动将起点坐标和结束点坐标链接</td></tr><tr><td align="center"><code>ctx.fill()</code></td><td align="center">填充路径</td></tr><tr><td align="center"><code>ctx.stroke</code></td><td align="center">描边路径</td></tr><tr><td align="center"><code>ctx.arc(x, y, r, startAngle, endAngle, bool)</code></td><td align="center">圆弧路径绘制(x轴，y轴，圆的半径，开始绘制圆的角度，结束绘制圆的角度，默认逆时针)</td></tr><tr><td align="center"><code>ctx.quadraticCurveTo(cp1x, cp1y, x, y)</code></td><td align="center">贝塞尔二次曲线，绘制一般曲线(控制点x轴的坐标，控制点y轴的坐标，x轴坐标，y轴坐标)</td></tr></tbody></table><h4 id="3-完整代码"><a href="#3-完整代码" class="headerlink" title="3. 完整代码"></a>3. 完整代码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myCanvas = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myCanvas&#x27;</span>)</span><br><span class="line">      <span class="keyword">const</span> ctx = myCanvas.<span class="title function_">getContext</span>(<span class="string">&#x27;2d&#x27;</span>)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 绘制矩形</span></span><br><span class="line">      ctx.<span class="property">fillStyle</span> = <span class="string">&#x27;#ffff00&#x27;</span></span><br><span class="line">      <span class="comment">// 填充矩形</span></span><br><span class="line">      ctx.<span class="title function_">fillRect</span>(<span class="number">50</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">      ctx.<span class="property">strokeStyle</span> = <span class="string">&#x27;#ff0000&#x27;</span></span><br><span class="line">      ctx.<span class="property">lineWidth</span> = <span class="number">5</span></span><br><span class="line">      <span class="comment">// 边框举行</span></span><br><span class="line">      ctx.<span class="title function_">strokeRect</span>(<span class="number">200</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">100</span>)</span><br><span class="line">      ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">400</span>, <span class="number">300</span>)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 案例</span></span><br><span class="line">      <span class="comment">// for (var i = 0; i &lt; 6; i++) &#123;</span></span><br><span class="line">      <span class="comment">//     for (var j = 0; j &lt; 6; j++) &#123;</span></span><br><span class="line">      <span class="comment">//         ctx.fillStyle = &#x27;rgb(&#x27; + Math.floor(255 - 42.5 * i) + &#x27;,&#x27; + Math.floor(255 - 42.5 * j) + &#x27;,0)&#x27;;</span></span><br><span class="line">      <span class="comment">//         ctx.fillRect(j * 50, i * 50, 50, 50);</span></span><br><span class="line">      <span class="comment">//     &#125;</span></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// 路径绘制</span></span><br><span class="line">      <span class="comment">// ctx.beginPath()</span></span><br><span class="line">      <span class="comment">// ctx.moveTo(50, 50)</span></span><br><span class="line">      <span class="comment">// ctx.lineTo(100, 100)</span></span><br><span class="line">      <span class="comment">// ctx.lineTo(50, 100)</span></span><br><span class="line">      <span class="comment">// ctx.closePath()</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// 绘图</span></span><br><span class="line">      <span class="comment">// ctx.stroke()</span></span><br><span class="line">      <span class="comment">// ctx.fill()</span></span><br><span class="line"></span><br><span class="line">      ctx.<span class="title function_">beginPath</span>()</span><br><span class="line">      ctx.<span class="title function_">arc</span>(<span class="number">200</span>, <span class="number">150</span>, <span class="number">50</span>, <span class="number">0</span>, <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">2</span>, <span class="literal">true</span>)</span><br><span class="line">      ctx.<span class="title function_">stroke</span>()</span><br><span class="line"></span><br><span class="line">      ctx.<span class="title function_">beginPath</span>()</span><br><span class="line">      ctx.<span class="title function_">arc</span>(<span class="number">60</span>, <span class="number">150</span>, <span class="number">50</span>, <span class="number">0</span>, <span class="title class_">Math</span>.<span class="property">PI</span>, <span class="literal">false</span>)</span><br><span class="line">      ctx.<span class="title function_">closePath</span>()</span><br><span class="line">      ctx.<span class="title function_">stroke</span>()</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 曲线绘制</span></span><br><span class="line">      ctx.<span class="title function_">beginPath</span>()</span><br><span class="line">      ctx.<span class="title function_">moveTo</span>(<span class="number">100</span>, <span class="number">100</span>)</span><br><span class="line">      ctx.<span class="title function_">quadraticCurveTo</span>(<span class="number">50</span>, <span class="number">200</span>, <span class="number">200</span>, <span class="number">100</span>)</span><br><span class="line">      ctx.<span class="title function_">stroke</span>()</span><br></pre></td></tr></table></figure><h3 id="3-图像绘制"><a href="#3-图像绘制" class="headerlink" title="3. 图像绘制"></a>3. 图像绘制</h3><h4 id="1-简介-1"><a href="#1-简介-1" class="headerlink" title="1. 简介"></a>1. 简介</h4><p>将图片绘制到 canvas 中</p><h4 id="2-语法"><a href="#2-语法" class="headerlink" title="2. 语法"></a>2. 语法</h4><p><code>ctx.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);</code></p><p><strong>参数：</strong></p><ul><li>image：图片源(图像、画布或视频)</li><li>dx：绘制到画布中的 x 坐标点</li><li>dy：绘制到画布中的 y 坐标点</li><li>sx：可选，截取源图的 x 坐标点</li><li>sy：可选，截取源图的 y 坐标点</li><li>sWidth：可选，截取源图的宽度，实现对源图的截取</li><li>sHeight：可选，截取源图的高度</li><li>dWidth：可选，绘制到画布中图片宽度，可以实现图片的缩放</li><li>dHeight：可选，绘制到画布中图片高度，可以实现图片的缩放</li></ul><p><strong>注</strong>：通过 canvas 绘制图形时，该图像必须在网页中加载出来，否则无法绘制</p><h4 id="3-获取像素点信息"><a href="#3-获取像素点信息" class="headerlink" title="3. 获取像素点信息"></a>3. 获取像素点信息</h4><p><code>ctx.getImageData(sx, sy, sw, sh);</code></p><p><strong>参数</strong>：四个参数依次为获取像素点的 x、y 轴坐标及其宽高。</p><p><strong>注</strong>：该方法返回 ImageData 对象，是一个数组，该数组中依次保存了像素点信息（RGBA）。必须通过服务器访问网页才可以调用。</p><h4 id="4-绘制位图"><a href="#4-绘制位图" class="headerlink" title="4. 绘制位图"></a>4. 绘制位图</h4><p>将 getImageData 对象数据绘制到 canvas 中。</p><p><code>ctx.putImageData(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);</code></p><h4 id="5-代码事例1"><a href="#5-代码事例1" class="headerlink" title="5. 代码事例1"></a>5. 代码事例1</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// html</span></span><br><span class="line">&lt;canvas id=<span class="string">&quot;myCanvas&quot;</span> width=<span class="string">&quot;600&quot;</span> height=<span class="string">&quot;500&quot;</span>&gt;&lt;/canvas&gt;</span><br><span class="line"><span class="comment">// js</span></span><br><span class="line"><span class="keyword">const</span> myCanvas = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myCanvas&#x27;</span>)</span><br><span class="line">      <span class="keyword">const</span> ctx = myCanvas.<span class="title function_">getContext</span>(<span class="string">&#x27;2d&#x27;</span>)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 通过 js 动态创建图片节点</span></span><br><span class="line">      <span class="keyword">const</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>()</span><br><span class="line">      img.<span class="property">src</span> = <span class="string">&#x27;h.jpg&#x27;</span></span><br><span class="line">      <span class="comment">// 保证图片加载完成后再去绘制</span></span><br><span class="line">      img.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">          ctx.<span class="title function_">drawImage</span>(img, <span class="number">0</span>, <span class="number">0</span>) <span class="comment">// 原图输出</span></span><br><span class="line">          <span class="comment">// 对原图进行缩放</span></span><br><span class="line">          <span class="comment">// ctx.drawImage(img, 0, 0, 500, 500)</span></span><br><span class="line">          <span class="comment">// 截取原图在绘制</span></span><br><span class="line">          <span class="comment">// ctx.drawImage(img, 200, 150, 100, 100, 0, 0, 100, 100)</span></span><br><span class="line"></span><br><span class="line">          <span class="keyword">const</span> imgData = ctx.<span class="title function_">getImageData</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">480</span>, <span class="number">480</span>)</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(imgData);</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><h4 id="6-代码事例2"><a href="#6-代码事例2" class="headerlink" title="6. 代码事例2"></a>6. 代码事例2</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=<span class="string">&quot;myCanvas&quot;</span> width=<span class="string">&quot;600&quot;</span> height=<span class="string">&quot;500&quot;</span>&gt;&lt;/canvas&gt;</span><br><span class="line"></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn1&quot;</span>&gt;</span>载入图像<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn2&quot;</span>&gt;</span>灰图<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">const</span> myCanvas = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;myCanvas&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">const</span> btn1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn1&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">const</span> btn2 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn2&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">const</span> ctx = myCanvas.<span class="title function_">getContext</span>(<span class="string">&#x27;2d&#x27;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 先通过 js 动态创建图片节点</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">const</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>(); <span class="comment">// 创建 img 对象</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       img.<span class="property">src</span> = <span class="string">&#x27;h.jpg&#x27;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       btn1.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           ctx.<span class="title function_">drawImage</span>(img, <span class="number">0</span>, <span class="number">0</span>, <span class="number">200</span>, <span class="number">200</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       btn2.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">const</span> imageData = ctx.<span class="title function_">getImageData</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">200</span>, <span class="number">200</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">const</span> data = imageData.<span class="property">data</span>; <span class="comment">// 像素点数据</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="comment">// 灰图</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="comment">// 求每个像素点 rgb 的平均值，然后再把平均值 覆盖到 rgb</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="comment">// data 中每四个元素表示一个像素点，分别是 r g b a</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="comment">// for (var i = 0; i &lt; data.length; i += 4) &#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="comment">//   var avg = (data[i] + data[i + 1] + data[i + 2]) / 3;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="comment">//   data[i] = avg;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="comment">//   data[i + 1] = avg;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="comment">//   data[i + 2] = avg;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="comment">// &#125;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.<span class="property">length</span>; i += <span class="number">4</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">               <span class="comment">// var avg = (data[i] + data[i + 1] + data[i + 2]) / 3;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">               data[i] = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * data[i]);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">               data[i + <span class="number">1</span>] = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * data[i + <span class="number">1</span>]);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">               data[i + <span class="number">2</span>] = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * data[i + <span class="number">2</span>]);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="comment">// 其他调整：补色、反色、调整色环</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="comment">// 再将像素点信息绘制为图像</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           ctx.<span class="title function_">putImageData</span>(imageData, <span class="number">200</span>, <span class="number">0</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程 </tag>
            
            <tag> canvas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Node.js笔记</title>
      <link href="/79333/2021/01/11/Node.js%E7%AC%94%E8%AE%B0/"/>
      <url>/79333/2021/01/11/Node.js%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="一、-前后端交互流程"><a href="#一、-前后端交互流程" class="headerlink" title="一、 前后端交互流程"></a>一、 前后端交互流程</h2><p>1.前端发起请求  –  我应该知道  我要给什么  我想得到什么<br>2.服务器拦截请求 通过路由分发任务<br>3.分发给控制器  控制解析这个请求,拿到前端发送的参数<br>4.把操作数据库的东西发给给 数据持久的方法<br>5.拿到数据库操作后的结果 结果可能会有几种1.数据操作成功  2.数据操作失败  3.拿到数据<br>6.根据业务逻辑将数据库的结果返回前端<br>7.拿到后返响应给前端的数据  根据业务逻辑 渲染页面</p><h2 id="二、-服务器文件夹"><a href="#二、-服务器文件夹" class="headerlink" title="二、 服务器文件夹"></a>二、 服务器文件夹</h2><p>项目根目录<br>    静态资源目录 <code>public</code><br>    路由  <code> router</code><br>    控制器 <code> controller</code><br>    数据持久化  <code>modules</code><br>    服务器配置  <code>config</code><br>    服务器主文件  <code>app.js</code></p><h2 id="三、-配置服务器"><a href="#三、-配置服务器" class="headerlink" title="三、 配置服务器"></a>三、 配置服务器</h2><ol><li>初始化服务器</li></ol><p><code>npx express-generator --view=ejs 项目名</code></p><ol start="2"><li>自定义配置服务器</li></ol><ul><li><p>安装nrm包  这个包是用来修改 npm源的<br>npm install 代表的意思是通过npm 安装包 npm install nrm -g  这里的-g代表全局安装<br> nrm test  测试所有的镜像源的网络延迟<br> nrm use taobao  将镜像源修改成淘宝</p></li><li><p>准备工作完毕  开始创建项目<br> 步骤  初始化项目<br> npm init  命令初始化  初始化完 多了一个package.json 的文件   这个文件就是该项目的描述文件  类似与作者  项目依赖<br> 2步骤下载 express框架 通过express 框架去搭建服务器 项目基础搭建完毕  需要开始写代码</p></li><li><p>下载组件框架及各个模块</p><p> <code>npm i express morgan cookie-parser express-session sarve-favicon -s</code></p></li></ul><h3 id="1-app-js"><a href="#1-app-js" class="headerlink" title="1. app.js"></a>1. <code>app.js</code></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> logger = <span class="built_in">require</span>(<span class="string">&#x27;morgan&#x27;</span>)</span><br><span class="line"><span class="comment">// 引入cookie模块</span></span><br><span class="line"><span class="keyword">const</span> cookie = <span class="built_in">require</span>(<span class="string">&#x27;cookie-session&#x27;</span>)</span><br><span class="line"><span class="comment">// 引入session模块</span></span><br><span class="line"><span class="keyword">const</span> session = <span class="built_in">require</span>(<span class="string">&#x27;express-session&#x27;</span>)</span><br><span class="line"><span class="comment">// 引入router文件</span></span><br><span class="line"><span class="keyword">const</span> usersRouter = <span class="built_in">require</span>(<span class="string">&#x27;/routers/usersRouter&#x27;</span>)</span><br><span class="line"><span class="comment">// 引入拼接路径</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// express 实例化</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"><span class="comment">// 设置日志模块</span></span><br><span class="line">app,<span class="title function_">use</span>(<span class="title function_">logger</span>(<span class="string">&#x27;dev&#x27;</span>))</span><br><span class="line"><span class="comment">// 设置post请求转换格式</span></span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">json</span>())</span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">urlencoded</span>(&#123;<span class="attr">extended</span>:<span class="literal">false</span>&#125;))</span><br><span class="line"><span class="comment">// 配置cookie</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">cookie</span>())</span><br><span class="line"><span class="comment">// 配置session对象</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">session</span>(&#123;</span><br><span class="line">    <span class="attr">secret</span>:<span class="string">&#x27;nclksdnlck&#x27;</span>, <span class="comment">// 对sessionId的 cookie进行签名，防止被篡改</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;shop&#x27;</span>, <span class="comment">//生成浏览器端 cookie的名字</span></span><br><span class="line">    <span class="attr">cookie</span>: &#123;</span><br><span class="line">        <span class="attr">maxAge</span>:<span class="number">1000</span>*<span class="number">10</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">saveUninitialized</span>: <span class="literal">true</span>, <span class="comment">// 湿粉扑强制未出化的session进行存储</span></span><br><span class="line">    <span class="attr">resave</span>:<span class="literal">false</span>, <span class="comment">// 是否每此都重新保存对话</span></span><br><span class="line">    <span class="attr">rolling</span>:<span class="literal">true</span>, <span class="comment">// 在每次请求时是否重新设置cookie,可以实现重置 cookie 有效期</span></span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 路由拦截 受保护的页面</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;/拦截路径&#x27;</span>,<span class="function">(<span class="params">req,res,next</span>)=&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(req.<span class="property">session</span>.<span class="property">sign</span>) &#123;</span><br><span class="line">        <span class="title function_">next</span>()</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        res.<span class="title function_">redirect</span>(<span class="string">&#x27;登陆路径&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置静态资源目录</span></span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">static</span>(path.<span class="title function_">join</span>(__dirname,<span class="string">&#x27;静态资源文件夹&#x27;</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置路由接口</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;请求路径&#x27;</span>,userRouter)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 没有匹配到，则返回404</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">req,res</span>)=&gt;</span> &#123;</span><br><span class="line">    res.<span class="title function_">status</span>(<span class="number">404</span>)</span><br><span class="line">    res.<span class="title function_">send</span>(<span class="string">&#x27;404&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 服务端发生错误，返回500</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">err,req,res,next</span>)=&gt;</span> &#123;</span><br><span class="line">    res.<span class="title function_">status</span>(<span class="number">500</span>)</span><br><span class="line">    res.<span class="title function_">json</span>(&#123;</span><br><span class="line">        err</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 端口监听</span></span><br><span class="line">app.<span class="title function_">listen</span>(端口号,<span class="function">()=&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;服务器启动成功&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="2-router文件"><a href="#2-router文件" class="headerlink" title="2. router文件"></a>2. <code>router</code>文件</h3><h5 id="userRouter-js"><a href="#userRouter-js" class="headerlink" title="userRouter.js"></a><code>userRouter.js</code></h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> router = express.<span class="title class_">Router</span>()</span><br><span class="line"><span class="keyword">const</span> userCtrl = <span class="built_in">require</span>(<span class="string">&#x27;控制器路径&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// get 请求可以通过ajax的get或者浏览器的url地址栏</span></span><br><span class="line"><span class="comment">// post 请求只能通过ajax的post请求</span></span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;/&#x27;</span>,<span class="function">(<span class="params">req,res</span>)=&gt;</span> &#123;</span><br><span class="line">    res.<span class="title function_">send</span>(<span class="string">&#x27;获取所有用户的信息&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 处理请求路径</span></span><br><span class="line">router.<span class="title function_">post</span>(<span class="string">&#x27;请求路径&#x27;</span>,相应的控制器方法)</span><br><span class="line">router.<span class="title function_">get</span>(<span class="string">&#x27;请求路径&#x27;</span>,相应的控制器方法)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 暴露</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = router</span><br></pre></td></tr></table></figure><h3 id="3-ctrl文件"><a href="#3-ctrl文件" class="headerlink" title="3. ctrl文件"></a>3. <code>ctrl</code>文件</h3><h5 id="userCtrl-js"><a href="#userCtrl-js" class="headerlink" title="userCtrl.js"></a><code>userCtrl.js</code></h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入封装的控制器模块</span></span><br><span class="line"><span class="keyword">const</span> userModel = <span class="built_in">require</span>(<span class="string">&#x27;模块路径&#x27;</span>)</span><br><span class="line"><span class="comment">// 引入加盐加密文件</span></span><br><span class="line"><span class="keyword">const</span> &#123;passMd5,jiemi&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="comment">// 登陆控制器</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">login</span>(<span class="params">re1,res</span>) &#123;</span><br><span class="line"><span class="keyword">const</span> &#123; userName, userPass &#125; = req.<span class="property">body</span></span><br><span class="line">        <span class="comment">// 与数据库对比</span></span><br><span class="line">        <span class="keyword">const</span> result = <span class="keyword">await</span> usersModel.<span class="title function_">login</span>(userName)</span><br><span class="line">        <span class="keyword">if</span> (result.<span class="property">length</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> resp.<span class="title function_">json</span>(&#123;</span><br><span class="line">                <span class="attr">code</span>: <span class="number">1001</span>,</span><br><span class="line">                <span class="attr">msg</span>:<span class="string">&#x27;账号密码错误&#x27;</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 截取密码的前6为  得到盐</span></span><br><span class="line">        <span class="keyword">const</span> salt = result[<span class="number">0</span>].<span class="property">l_pwd</span>.<span class="title function_">substr</span>(<span class="number">0</span>, <span class="number">6</span>)</span><br><span class="line">        <span class="keyword">const</span> newPassWord = <span class="title function_">jiemi</span>(userPass, salt)</span><br><span class="line">        <span class="comment">// 判断解密的密码与数据库的密码是否一致</span></span><br><span class="line">        <span class="keyword">if</span> (result[<span class="number">0</span>].<span class="property">l_pwd</span> == newPassWord) &#123;</span><br><span class="line">            <span class="comment">// 生成session 记录当前用户登陆成功</span></span><br><span class="line">            <span class="comment">// req.session 访问session对象</span></span><br><span class="line">            req.<span class="property">session</span>.<span class="property">sign</span> = <span class="literal">true</span> <span class="comment">// 表示用户已经登陆成功</span></span><br><span class="line"></span><br><span class="line">            resp.<span class="title function_">json</span>(&#123;</span><br><span class="line">                <span class="attr">code</span>: <span class="number">200</span>,</span><br><span class="line">                <span class="attr">msg</span>:<span class="string">&#x27;ok&#x27;</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            resp.<span class="title function_">json</span>(&#123;</span><br><span class="line">                <span class="attr">code</span>: <span class="number">1001</span>,</span><br><span class="line">                <span class="attr">msg</span>:<span class="string">&#x27;账号或者密码错误&#x27;</span></span><br><span class="line">            &#125;)</span><br><span class="line">&#125;,</span><br><span class="line">        <span class="comment">// 注册控制器</span></span><br><span class="line">        <span class="keyword">async</span> <span class="title function_">register</span>(<span class="params">req, resp</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; userName, userPass &#125; = req.<span class="property">body</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 写入数据库之前在此判断用户名是否存在</span></span><br><span class="line">        <span class="comment">// 1. 先判断用户名是否已经被注册</span></span><br><span class="line">        <span class="keyword">const</span> checkResult = <span class="keyword">await</span> usersModel.<span class="title function_">check</span>(userName)</span><br><span class="line">        <span class="comment">// 如果有，则返回信息并退出</span></span><br><span class="line">        <span class="keyword">if</span> (checkResult.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            resp.<span class="title function_">json</span>(&#123;</span><br><span class="line">                <span class="attr">code</span>: <span class="number">1001</span>,</span><br><span class="line">                <span class="attr">msg</span>:<span class="string">&#x27;当前用户已存在&#x27;</span></span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. 如果没有，则将密码加密</span></span><br><span class="line">        <span class="keyword">const</span> newPass = <span class="title function_">passMd5</span>(userPass)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;加密之后的密码&#x27;</span>,newPass);</span><br><span class="line">        <span class="keyword">const</span> result = <span class="keyword">await</span> usersModel.<span class="title function_">register</span>(userName,newPass)</span><br><span class="line">        resp.<span class="title function_">json</span>(&#123;</span><br><span class="line">            <span class="attr">code</span>: <span class="number">200</span>,</span><br><span class="line">            <span class="attr">msg</span>:<span class="string">&#x27;ok&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-Modules文件"><a href="#4-Modules文件" class="headerlink" title="4. Modules文件"></a>4. <code>Modules</code>文件</h3><h5 id="indexModule-js"><a href="#indexModule-js" class="headerlink" title="indexModule.js"></a><code>indexModule.js</code></h5><p><strong>数据库连接池配置</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">&#x27;mysql&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mysqlConfig = &#123;</span><br><span class="line">    <span class="attr">host</span>:<span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">    <span class="attr">port</span>:<span class="number">3306</span>,</span><br><span class="line">    user;<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>:<span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">    <span class="attr">database</span>:<span class="string">&#x27;表&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 连接池配置</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">query</span>(<span class="params">sql,options</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 创建连接池</span></span><br><span class="line">        <span class="keyword">let</span> pool = mysql.<span class="title function_">createPool</span>(mysqlConfig)</span><br><span class="line">        <span class="comment">// 连接操作数据库</span></span><br><span class="line">        pool.<span class="title function_">getConnection</span>(<span class="function">(<span class="params">err,connection</span>)=&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(err) &#123;</span><br><span class="line">                <span class="title function_">reject</span>(err)</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                connection.<span class="title function_">query</span>(sql,options,<span class="function">(<span class="params">err,res</span>)=&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span>(err) &#123;</span><br><span class="line">                        <span class="title function_">reject</span>(err)</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="title function_">resolve</span>(res)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 释放连接池</span></span><br><span class="line">            connection.<span class="title function_">release</span>()</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="userModules-js"><a href="#userModules-js" class="headerlink" title="userModules.js"></a><code>userModules.js</code></h5><p><strong>控制器函数封装</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="title function_">check</span>(<span class="params">userName</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> sql = <span class="string">`select * from login where l_user = ?`</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">query</span>(sql,[userName])</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">register</span>(<span class="params">userName, password</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> sql = <span class="string">`insert into login (l_user,l_pwd) values(?,?)`</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">query</span>(sql,[userName,password])</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">login</span>(<span class="params">userName</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> sql = <span class="string">&#x27;select * from login where l_user = ?&#x27;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">query</span>(sql,[userName])</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-utils文件"><a href="#5-utils文件" class="headerlink" title="5. utils文件"></a>5. <code>utils</code>文件</h3><h5 id="index-js"><a href="#index-js" class="headerlink" title="index.js"></a><code>index.js</code></h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 内置加密模块</span></span><br><span class="line"><span class="keyword">const</span> crypto = <span class="built_in">require</span>(<span class="string">&#x27;crypto&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 随机生成六位数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createRandom</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> ran = <span class="title class_">Math</span>.<span class="title function_">random</span>().<span class="title function_">toString</span>().<span class="title function_">substring</span>(<span class="number">0</span>,<span class="number">6</span>)</span><br><span class="line">    <span class="keyword">return</span> ran</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="comment">// Md5加密</span></span><br><span class="line">    <span class="title function_">passMd5</span>(<span class="params">str</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> md5 = crypto.<span class="title function_">createHash</span>(<span class="string">&#x27;md5&#x27;</span>)</span><br><span class="line">        <span class="comment">// 加盐</span></span><br><span class="line">        <span class="keyword">let</span> yan = <span class="title function_">createRandom</span>()</span><br><span class="line">        <span class="keyword">let</span> result = md5.<span class="title function_">update</span>(str+yan).<span class="title function_">digest</span>(<span class="string">&#x27;hex&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> yan + result</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">jiemi</span>(<span class="params">str,salt</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> md5 = crypto.<span class="title function_">createHash</span>(<span class="string">&#x27;md5&#x27;</span>)</span><br><span class="line">        <span class="keyword">let</span> result = md5.<span class="title function_">update</span>(str+salt).<span class="title function_">digest</span>(<span class="string">&#x27;hex&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> salt + result</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="四、模块说明"><a href="#四、模块说明" class="headerlink" title="四、模块说明"></a>四、模块说明</h2><h3 id="1-加密处理"><a href="#1-加密处理" class="headerlink" title="1. 加密处理"></a>1. 加密处理</h3><p>前端加密可以防止直接传输用户的原始密码。</p><p>后端加密防止密码泄露、撞库。</p><p>加密方法：</p><ul><li>哈希算法、<code>HMAC</code> 算法、签名、对称性加密算法、非对称性加密算法。<br>有些加密后的信息是不可逆的，这种算法就只能暴力破解（撞库），比如 md5.</li></ul><p><code>md5</code>加密：<code>nodejs</code>内置一个<code>crypto</code>加密模块</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> crypto = <span class="built_in">require</span>(<span class="string">&#x27;crypto&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> md5 = crypto.<span class="title function_">createHash</span>(<span class="string">&#x27;md5&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> result = md5.<span class="title function_">update</span>(加密的信息).<span class="property">digest</span></span><br></pre></td></tr></table></figure><h3 id="2-注册"><a href="#2-注册" class="headerlink" title="2. 注册"></a>2. 注册</h3><ul><li><p>前端：用户输入账号后—发送请求—判断用户名是否存在</p></li><li><p>后端：</p><ul><li>如果同时多个用户进行注册，有可能会出现用户名重复的注册的情况</li><li>写入数据之前，必须还要判断该用户名是否存在，如果不存在在写入数据，如果存在则像前端返回该用户已存在，请重新注册。</li><li>写入用户信息时，不能将明文密码存入数据库<ul><li>后端拿到前端的密码</li><li>后端生成盐，随机数(6位)：salt</li><li>将密码与盐一起<code>md5</code>，得到新的密码</li><li>为了解决登录时随机数的问题，在将盐拼接在新密码前面</li><li>在写入数据库</li></ul></li></ul></li></ul><h3 id="3-登陆"><a href="#3-登陆" class="headerlink" title="3. 登陆"></a>3. 登陆</h3><ul><li>前端：将用户输入的数据传给后端</li><li>后端：<ul><li>查数据，根据<code>userName</code>查询对应的数据</li><li>将数据库中的密码去除，截取前6为，得到盐</li><li>然后用相同的加密方法得到用户登陆时的输入的密码md5</li><li>将盐+密码与数据库中的密码比较</li></ul></li></ul><h3 id="4-登陆凭证"><a href="#4-登陆凭证" class="headerlink" title="4. 登陆凭证"></a>4. 登陆凭证</h3><p>当访问受保护的页面的时候，若用户没有登陆或者权限不够，则不能能够访问，强制重定向到登录页面。</p><ul><li><p>会话：</p><p>会话是指用户与系统进行通讯的过程，一般应用于网络，而网络是基于 HTTP 通信的。</p><p>而 HTTP 协议是一种无状态的协议，1次请求结束后，连接就会断开，而不会去维护连接时所传输的信息。 就是说当你登陆成功后，下一次请求后端，后端无法识别是否是上一次的用户。</p><p>所以为了解决这个问题，需要通过一些手段，在用户登录成功后，去记录登录信息，那么下一次请求的时候，可以凭借这个登录信息去识别用户。</p></li><li><p>会话的几种方式</p><ul><li>session &amp; cookie</li><li>token(jwt)</li><li>三方登陆</li></ul></li></ul><h4 id="4-1、cookie"><a href="#4-1、cookie" class="headerlink" title="4.1、cookie"></a>4.1、cookie</h4><p>​概念：存储在浏览器本地的缓存数据，每次浏览器在发起请求时，都会自动携带本站的cookie数据。</p><p>​优缺点：</p><ul><li><p>速度块</p></li><li><p>安全性比较低，存储数据量较小</p></li><li><p>存储位置：浏览器</p><p>使用：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 安装</span></span><br><span class="line">npm i cookie-parser</span><br><span class="line"><span class="comment">// 配置app.js</span></span><br><span class="line"><span class="keyword">const</span> cookie = <span class="built_in">require</span>(<span class="string">&#x27;cookie-parser&#x27;</span>)</span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">cookie</span>())</span><br></pre></td></tr></table></figure></li></ul><h4 id="4-2、session"><a href="#4-2、session" class="headerlink" title="4.2、session"></a>4.2、session</h4><p>概念：在服务端存储用户信息</p><p>优缺点：</p><ul><li>安全性较高</li><li>占用服务其资源</li><li>存储位置：服务器</li></ul><h4 id="4-3、工作原理"><a href="#4-3、工作原理" class="headerlink" title="4.3、工作原理"></a>4.3、工作原理</h4><ul><li><p>浏览器带着 用户名 和 密码 访问 &#x2F;login；</p></li><li><p>服务器端验证 用户名 和 密码 正确后，那么会通过 session 生成会话信息，该信息保存在 session 中；</p></li><li><p>然后服务端将 session 的 <code>sessionId </code>返回给浏览器存储在 cookie 中；</p></li><li><p>之后浏览器的每一次请求，都会自动携带 cookie 信息的；</p></li><li><p>服务器从请求中获取 cookie 信息，将得到的 <code>sessionId</code> 与 <code>seesion</code> 中的数据比对，如果存在则登录，正常返回数据，如果不存在则不给前端返回数据。</p></li></ul><h3 id="5-app-use"><a href="#5-app-use" class="headerlink" title="5. app.use"></a>5. <code>app.use</code></h3><p><code>app.use([path], callback, [callback...])</code><br>当请求路径匹配的时候就会执行后面的回调函数。路径的默认值是 &#x2F;，是针对于每一个请求路径的。</p><ul><li><p>path：路径，默认 &#x2F;，可选参数；</p></li><li><p>callback：回调函数，有四个参数<br>** 四个参数，依次为：<code>err, req, res, next</code><br>** 三个参数，依次为：<code>req, res, next </code><br>** 两个参数，依次为：<code>req，res</code></p></li><li><p>next: 是一个函数，默认情况下，路径匹配后，会执行 <code>app.use</code> 的 callback，执行后当前程序就终止掉。如果调用 next 函数，那么程序就会向下传递，下一个匹配路径的中间件也会执行。</p></li></ul><h3 id="6-路由拦截"><a href="#6-路由拦截" class="headerlink" title="6. 路由拦截"></a>6. 路由拦截</h3><p><strong>需求：</strong> 网站中受保护的页面和请求很多，如何一次性进行判断？</p><p><strong>关键：</strong>如何判断哪些路由是受保护的？（判断某一个路径不能访问）</p><p><strong>规定：</strong>以 &#x2F;protected 开头的路径被保护起来</p><p><strong>处理：</strong></p><ul><li>受保护的页面统一放在 public&#x2F;protected 文件夹内；</li><li>受保护的接口，统一以 &#x2F;protected 开头；</li></ul><h3 id="7-数据库连接池"><a href="#7-数据库连接池" class="headerlink" title="7. 数据库连接池"></a>7. 数据库连接池</h3><p><strong>场景：</strong>假如没有连接池，那么我们在使用<code>JDBC</code>程序的时候，就会反复的创建连接，销毁连接，这样做比较消耗资源，并不能做到连接的反复利用。这样做如果这个程序的用户人数很多，那么对性能的影响就会很大。</p><p><strong>处理：</strong>所以为了优化性能，就需要自己去创建一个连接池，然后每次从连接池里面获取连接。使用完了连接，放回连接池，做到连接的反复使用</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mysqlConfig = &#123;</span><br><span class="line">    <span class="attr">host</span>: <span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">    <span class="attr">port</span>: <span class="number">3306</span>,</span><br><span class="line">    <span class="attr">user</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&#x27;l19980907&#x27;</span>,</span><br><span class="line">    <span class="attr">database</span>:<span class="string">&#x27;demo3&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">query</span>(<span class="params">sql, options</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 创建连接池</span></span><br><span class="line">        <span class="keyword">let</span> pool = mysql.<span class="title function_">createPool</span>(mysqlConfig)</span><br><span class="line">        pool.<span class="title function_">getConnection</span>(<span class="function">(<span class="params">err, connection</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;连接池&#x27;</span>, connection);</span><br><span class="line">            <span class="keyword">if</span> (err) &#123;</span><br><span class="line">                <span class="title function_">reject</span>(err)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                connection.<span class="title function_">query</span>(sql, options, <span class="function">(<span class="params">err, res</span>) =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">                        <span class="title function_">reject</span>(err)</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="title function_">resolve</span>(res)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 释放连接池</span></span><br><span class="line">            connection.<span class="title function_">release</span>()</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = query</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Node.js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程 </tag>
            
            <tag> Node.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS笔记</title>
      <link href="/79333/2021/01/11/CSS%E7%AC%94%E8%AE%B0/"/>
      <url>/79333/2021/01/11/CSS%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="CSS入门"><a href="#CSS入门" class="headerlink" title="CSS入门"></a>CSS入门</h1><h2 id="一、CSS简介"><a href="#一、CSS简介" class="headerlink" title="一、CSS简介"></a>一、<code>CSS</code>简介</h2><h4 id="1、什么是CSS"><a href="#1、什么是CSS" class="headerlink" title="1、什么是CSS"></a>1、什么是<code>CSS</code></h4><p><code>CSS：Cascading Style Sheet </code>层叠样式表</p><p>是一组样式设置的规则，用于控制页面的外观样式</p><h2 id="二、基本用法"><a href="#二、基本用法" class="headerlink" title="二、基本用法"></a>二、基本用法</h2><p>1、<code>css</code>语法</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">选择器&#123;</span></span><br><span class="line"><span class="language-xml">属性名：属性值;</span></span><br><span class="line"><span class="language-xml">属性名：属性值;</span></span><br><span class="line"><span class="language-xml">&#125;</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></table></figure><ul><li>选择器：要修饰的对象</li><li>属性名：要修饰对象的哪一个属性</li><li>属性值：样式的取值</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-tag">p</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="attribute">font-size</span>:<span class="number">20px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="attribute">color</span>:pink;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line">&lt;/head&gt;</span><br></pre></td></tr></table></figure><h3 id="2、css的应用"><a href="#2、css的应用" class="headerlink" title="2、css的应用"></a>2、<code>css</code>的应用</h3><h4 id="2-1-内部样式"><a href="#2-1-内部样式" class="headerlink" title="2.1 内部样式"></a>2.1 内部样式</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">            div &#123;</span><br><span class="line">                <span class="attr">color</span>: pink;</span><br><span class="line">            &#125;</span><br><span class="line">     &lt;/style&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    所谓内部样式表,就是在html页面内部写样式,但是是单独写到style标签内部.<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="2-2-行内样式"><a href="#2-2-行内样式" class="headerlink" title="2.2 行内样式"></a>2.2 行内样式</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p style=<span class="string">&quot;color: pink; font-size: 20px;&quot;</span>&gt;夏天夏天悄悄过去留下小秘密&lt;/p&gt;</span><br></pre></td></tr></table></figure><h4 id="2-3-外部样式表"><a href="#2-3-外部样式表" class="headerlink" title="2.3 外部样式表"></a>2.3 外部样式表</h4><p>使用单独的<code>css</code>文件，在页面中通过link标签链接外部样式文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=<span class="string">&quot;stylesheet&quot;</span> type=<span class="string">&quot;text/css&quot;</span> href=<span class="string">&quot;CSS样式文件的路径&quot;</span>&gt;</span><br></pre></td></tr></table></figure><h2 id="三、选择器"><a href="#三、选择器" class="headerlink" title="三、选择器"></a>三、选择器</h2><h3 id="1-基础选择器"><a href="#1-基础选择器" class="headerlink" title="1. 基础选择器"></a>1. 基础选择器</h3><h4 id="1-1-标签选择器"><a href="#1-1-标签选择器" class="headerlink" title="1.1 标签选择器"></a>1.1 标签选择器</h4><p>使用<code>html</code>标签作为选择器的名称，也被称为元素选择器</p><h4 id="1-2-类选择器"><a href="#1-2-类选择器" class="headerlink" title="1.2  类选择器"></a>1.2  类选择器</h4><p>使用自定义的名称，以<code>.</code>作为前缀，通过HTML标签的class属性调用选择器</p><p>注：</p><ul><li>类选择器不能以数字开头</li><li>调用多个类选择器时，以空格隔开</li><li>class属性可写多个类名</li></ul><h4 id="1-3-ID选择器"><a href="#1-3-ID选择器" class="headerlink" title="1.3  ID选择器"></a>1.3  ID选择器</h4><p>使用自定义的名称，以<code>#</code>作为前缀，通过HTML标签的id属性调用选择器</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-tag">p</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="attribute">color</span>:red;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="attribute">font-size</span>:<span class="number">20px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.hello</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="attribute">background</span>: <span class="number">#cccccc</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-id">#haha</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="attribute">color</span>:blue;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>welcome to css!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hello&quot;</span>&gt;</span>welcome to css!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span>=<span class="string">&quot;haha&quot;</span>&gt;</span>welcome to css!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br></pre></td></tr></table></figure><h4 id="1-4-通配符选择器"><a href="#1-4-通配符选择器" class="headerlink" title="1.4  通配符选择器"></a>1.4  通配符选择器</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;基础选择器之通配符选择器&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">     * &#123;</span><br><span class="line">         color: red;</span><br><span class="line">     &#125;</span><br><span class="line">     /* * 这里把 html  body  div  span  li 等等的标签都改为了红色 */</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div&gt;我的&lt;/div&gt;</span><br><span class="line">    &lt;span&gt;我的&lt;/span&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &lt;li&gt;还是我的&lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="2-复杂选择器"><a href="#2-复杂选择器" class="headerlink" title="2.复杂选择器"></a>2.复杂选择器</h3><h4 id="2-1-复合选择器"><a href="#2-1-复合选择器" class="headerlink" title="2.1  复合选择器"></a>2.1  复合选择器</h4><p>标签选择器，类选择器，id选择器一起使用，不使用空格</p><h4 id="2-2-并集选择器"><a href="#2-2-并集选择器" class="headerlink" title="2.2  并集选择器"></a>2.2  并集选择器</h4><p>可以将多个具有相同样式的选择器放在一起调用，使用逗号隔开</p><h4 id="2-3-嵌套选择器"><a href="#2-3-嵌套选择器" class="headerlink" title="2.3  嵌套选择器"></a>2.3  嵌套选择器</h4><p>在选择器内部使用空格隔开，不区分父子还是后代</p><p>使用<code>&gt;</code>时必须是父子关系</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;复合选择器之并集选择器&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        div,</span><br><span class="line">        p,</span><br><span class="line">        .pig li &#123;</span><br><span class="line">            color: pink;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div&gt;熊大&lt;/div&gt;</span><br><span class="line">    &lt;p&gt;熊二&lt;/p&gt;</span><br><span class="line">    &lt;span&gt;光头强&lt;/span&gt;</span><br><span class="line">    &lt;ul class=&quot;pig&quot;&gt;</span><br><span class="line">        &lt;li&gt;小猪佩奇&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;猪爸爸&lt;/li&gt;</span><br><span class="line">        &lt;li&gt;猪妈妈&lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h4 id="2-4-链接伪类选择器"><a href="#2-4-链接伪类选择器" class="headerlink" title="2.4  链接伪类选择器"></a>2.4  链接伪类选择器</h4><ul><li><code>a:link</code>  把没有点击过的(访问过的)链接选出来</li><li><code>a:visited </code>选择点击过的(访问过的)链接</li><li><code>a:hover</code> 选择鼠标经过的那个链接</li><li><code>a:active </code>选择的是我们鼠标正在按下还没有弹起鼠标的那个链接</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;复合选择器之链接伪类选择器&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        a:link &#123;</span><br><span class="line">            color: #333;</span><br><span class="line">            text-decoration: none;</span><br><span class="line">        &#125;</span><br><span class="line">        a:visited &#123;</span><br><span class="line">            color: orange;</span><br><span class="line">        &#125;</span><br><span class="line">        a:hover &#123;</span><br><span class="line">            color: skyblue;</span><br><span class="line">        &#125;</span><br><span class="line">        a:active &#123;</span><br><span class="line">            color: green;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;a href=&quot;#&quot;&gt;小猪佩奇&lt;/a&gt;</span><br><span class="line">    &lt;a href=&quot;http://www.xxxxxxxx.com&quot;&gt;未知的网站&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h4 id="2-5-focus选择器"><a href="#2-5-focus选择器" class="headerlink" title="2.5   focus选择器"></a>2.5   focus选择器</h4><p>把获得光标的input表单元素选取出来</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">input</span>:focus &#123;</span><br><span class="line">           background-<span class="attr">color</span>: pink;</span><br><span class="line">           <span class="attr">color</span>: red;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><h4 id="2-6-伪元素选择器"><a href="#2-6-伪元素选择器" class="headerlink" title="2.6   伪元素选择器"></a>2.6   伪元素选择器</h4><ul><li>:first-letter 为第一个字符的样式</li><li>:first-line 为第一行添加样式</li><li>:before 在元素内容的最前面添加的内容，需要配合content属性使用</li><li>:after 在元素内容的最后面添加的内容，需要配合content属性使用</li></ul><h3 id="3-选择器优先级"><a href="#3-选择器优先级" class="headerlink" title="3. 选择器优先级"></a>3. 选择器优先级</h3><p>带!important 标记的样式属性优先级最高； 样式表的来源相同时：<code>!important &gt; 行内样式&gt;嵌入样式和外链样式&gt;ID选择器 &gt; 类选择器 &gt; 标签 &gt; 通配符 &gt; 继承 &gt; 浏览器默认属性</code></p><h2 id="四、常用css属性"><a href="#四、常用css属性" class="headerlink" title="四、常用css属性"></a>四、常用<code>css</code>属性</h2><h3 id="1-字体属性"><a href="#1-字体属性" class="headerlink" title="1. 字体属性"></a>1. 字体属性</h3><table><thead><tr><th align="center">属性</th><th align="center">含义</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">font-family</td><td align="center">字体系列</td><td align="center">宋体，微软雅黑等</td></tr><tr><td align="center">font-size</td><td align="center">字体大小</td><td align="center"><code>px</code>,<code>em</code>,<code>rem</code>,%</td></tr><tr><td align="center">font-weight</td><td align="center">字体粗细</td><td align="center">使用数字表示加粗或变细</td></tr><tr><td align="center">font-style</td><td align="center">字体样式</td><td align="center">italic，normal</td></tr><tr><td align="center">font</td><td align="center">字体简写</td><td align="center"></td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;CSS字体属性之复合属性&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">       /* 想要div文字变倾斜 加粗 字号设置为16像素 并且 是微软雅黑 */</span><br><span class="line">       div &#123;</span><br><span class="line">           /* font-style: italic;</span><br><span class="line">           font-weight: 700;</span><br><span class="line">           font-size: 16px;</span><br><span class="line">           font-family: &#x27;Microsoft yahei&#x27;; */</span><br><span class="line">           /* 复合属性: 简写的方式  节约代码 */</span><br><span class="line">           /* font: font-style  font-weight  font-size/line-height  font-family; */</span><br><span class="line">           /* font: italic 700 16px &#x27;Microsoft yahei&#x27;; */</span><br><span class="line">           font: 20px &#x27;黑体&#x27;;</span><br><span class="line">       &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;div&gt;三生三世十里桃花,一心一意百行代码&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="2-文本属性"><a href="#2-文本属性" class="headerlink" title="2. 文本属性"></a>2. 文本属性</h3><table><thead><tr><th align="center">属性</th><th align="center">含义</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">color</td><td align="center">颜色</td><td align="center">英文单词，<code>rgb</code>,16进制</td></tr><tr><td align="center">line-height</td><td align="center">行高</td><td align="center">行之间的间距</td></tr><tr><td align="center">text-align</td><td align="center">水平对齐方式</td><td align="center">常用文本居中</td></tr><tr><td align="center">vertical-align</td><td align="center">垂直对齐方式</td><td align="center">常用文本与图片对齐</td></tr><tr><td align="center">text-indent</td><td align="center">首行缩进</td><td align="center"></td></tr><tr><td align="center">text-decoration</td><td align="center">文本修饰</td><td align="center">underline,<code>overline</code>,</td></tr><tr><td align="center">text-transform</td><td align="center">字母大小写转换</td><td align="center">首字母大小写等</td></tr><tr><td align="center">letter-spacing</td><td align="center">字符间距</td><td align="center"></td></tr><tr><td align="center">letter-spacing</td><td align="center">单词间距</td><td align="center">只对英文有效</td></tr><tr><td align="center">white-space</td><td align="center">空白的处理</td><td align="center">文本超出后是否换行</td></tr><tr><td align="center">text-shadow</td><td align="center">文字阴影</td><td align="center"></td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        body &#123;</span><br><span class="line">            font: 16px/28px &quot;微软雅黑&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        h1 &#123;</span><br><span class="line">            /* 文字不加粗 */</span><br><span class="line">            font-weight: 400;</span><br><span class="line">            /* 让H1里面的文字巨中对齐 */</span><br><span class="line">            text-align: center;</span><br><span class="line">        &#125;</span><br><span class="line">        a &#123;</span><br><span class="line">            /* 文本装饰为默认值 */</span><br><span class="line">            text-decoration: none;</span><br><span class="line">        &#125;</span><br><span class="line">        .gray &#123;</span><br><span class="line">            /* 第二行颜色为灰色 字体大小为12像素 文本居中对齐 */</span><br><span class="line">            color: #888;</span><br><span class="line">            font-size: 12px;</span><br><span class="line">            text-align: center;</span><br><span class="line">        &#125;</span><br><span class="line">        .search &#123;</span><br><span class="line"></span><br><span class="line">            color: #666;</span><br><span class="line">            width: 170px;</span><br><span class="line">        &#125;</span><br><span class="line">        .btn &#123;</span><br><span class="line">            /* 搜索字体粗细为700 */</span><br><span class="line">            font-weight: 700;</span><br><span class="line">        &#125;</span><br><span class="line">        p &#123;</span><br><span class="line">            /* 首行缩进两个字的距离 */</span><br><span class="line">            text-indent: 2em;</span><br><span class="line">        &#125;</span><br><span class="line">        .pic &#123;</span><br><span class="line">            /* 图片居中对齐 */</span><br><span class="line">            text-align: center;</span><br><span class="line">        &#125;</span><br><span class="line">        .footer &#123;</span><br><span class="line">            color: #888;</span><br><span class="line">            font-size: 12px;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h1&gt;北方高温明日达鼎盛 京津冀多地地表温度将超60℃&lt;/h1&gt;</span><br><span class="line">    &lt;p class=&quot;gray&quot;&gt;2019-07-03 16:31:47 来源:   &lt;a href=&quot;#&quot;&gt;中国天气网&lt;/a&gt;　 &lt;input type=&quot;text&quot; value=&quot;请输入查询条件...&quot; class=&quot;search&quot;&gt; &lt;button&gt;搜索&lt;/button&gt;&lt;/p&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;p&gt;中国天气网讯 今天（3日），华北、黄淮多地出现高温天气，截至下午2点，北京、天津、郑州等地气温突破35℃。预报显示，今后三天（3-5日），这一带的高温天气将继续发酵，高温范围以及强度将在4日达到鼎盛，预计北京、天津、石家庄、济南等地明天的最高气温有望突破38℃，其中北京和石家庄的最高气温还有望创今年以来的新高。&lt;/p&gt;</span><br><span class="line">    &lt;h4&gt;气温41.4℃！地温66.5！北京强势迎七月首个高温日&lt;/h4&gt;</span><br><span class="line">    &lt;p class=&quot;pic&quot;&gt;&lt;img src=&quot;D:\桌面文件\html_css_material-master\html_css_material-master\第三天\images\pic.jpeg&quot;&gt;&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;今天，华北、黄淮一带的高温持续发酵，截至今天下午2点，陕西北部、山西西南部、河北南部、北京、天津、山东西部、河南北部最高气温已普遍超过35℃。大城市中，北京、天津、郑州均迎来高温日。&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;在阳光暴晒下，地表温度也逐渐走高。今天下午2点，华北黄淮大部地区的地表温度都在50℃以上，部分地区地表温度甚至超过60℃。其中，河北衡水地表温度高达68.3℃，天津站和北京站附近的地表温度分别高达66.6℃和66.5℃。&lt;/p&gt;</span><br><span class="line">    &lt;h4&gt;明日热度再升级！京津冀携手冲击38℃+&lt;/h4&gt;</span><br><span class="line">    &lt;p&gt;中国天气网气象分析师王伟跃介绍，明天（4日），华北、黄淮地区35℃以上的高温天气还将继续升级，并进入鼎盛阶段，高温强度和范围都将发展到最强。 明天，北京南部、天津大部、河北中部和南部、山东中部和西部、山西南部局地、河南北部、东北部分地区的最高气温都将达到或超过35℃。&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;不过，专家提醒，济南被雨水天气完美绕开，因此未来一周，当地的高温还会天天上岗。在此提醒当地居民注意防暑降温，防范持续高温带来的各种不利影响。（文/张慧 数据支持/王伟跃 胡啸 审核/刘文静 张方丽）&lt;/p&gt;</span><br><span class="line">    &lt;p class=&quot;footer&quot;&gt;本文来源：中国天气网 责任编辑：刘京_NO5631&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="3-背景属性"><a href="#3-背景属性" class="headerlink" title="3. 背景属性"></a>3. 背景属性</h3><table><thead><tr><th align="center">属性</th><th align="center">含义</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">background-color</td><td align="center">背景颜色</td><td align="center">transparent 透明</td></tr><tr><td align="center">background-image</td><td align="center">背景图片</td><td align="center"><code>url</code></td></tr><tr><td align="center">background-repeat</td><td align="center">背景图片的重复方式</td><td align="center">no-repeat,repeat</td></tr><tr><td align="center">background-position</td><td align="center">背景图片的显示位置</td><td align="center">方向名词或者具体位置</td></tr><tr><td align="center">background-attachment</td><td align="center">背景图片是否跟随滚动</td><td align="center">scroll(默认)、fixed固定不动</td></tr><tr><td align="center">background</td><td align="center">简写</td><td align="center"></td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;背景属性复合写法&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        body &#123;</span><br><span class="line">            /* background-image: url(images/bg.jpg);</span><br><span class="line">            background-repeat: no-repeat;</span><br><span class="line">            background-position: center top; */</span><br><span class="line">            /* 把背景图片固定住 */</span><br><span class="line">            /* background-attachment: fixed;</span><br><span class="line">            background-color: black; */</span><br><span class="line">            background: black url(images/bg.jpg) no-repeat fixed center top;</span><br><span class="line">            color: #fff;</span><br><span class="line">            font-size: 20px;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">    &lt;p&gt;天王盖地虎, pink老师一米五&lt;/p&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="4-列表属性"><a href="#4-列表属性" class="headerlink" title="4.列表属性"></a>4.列表属性</h3><table><thead><tr><th align="center">属性</th><th align="center">含义</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">list-style-type</td><td align="center">列表前的样式</td><td align="center">none,disc,circle,square</td></tr><tr><td align="center">list-style-image</td><td align="center">列表前的样式图片</td><td align="center"><code>url</code></td></tr><tr><td align="center">list-style-position</td><td align="center">标记的位置</td><td align="center">outside,inside</td></tr><tr><td align="center">list-style</td><td align="center">简写</td><td align="center"></td></tr></tbody></table><h3 id="5-表格属性"><a href="#5-表格属性" class="headerlink" title="5. 表格属性"></a>5. 表格属性</h3><p>border-collapse:表格中相邻的边框是否合并（折叠）为单一边框</p><p>取值：separated（默认） collapse</p><h2 id="五、css元素显示模式"><a href="#五、css元素显示模式" class="headerlink" title="五、css元素显示模式"></a>五、<code>css</code>元素显示模式</h2><h3 id="1-块级元素"><a href="#1-块级元素" class="headerlink" title="1. 块级元素"></a>1. 块级元素</h3><p> 常见的块元素有<code>&lt;h1&gt;~&lt;h6&gt;、&lt;p&gt;、&lt;div&gt;、&lt;ul&gt;、&lt;ol&gt;、&lt;li&gt;</code>等，其中<code>&lt;div&gt;</code>标签是最典型的块元素。 </p><p>块级元素的特点：</p><ul><li>自己独占一行</li><li>可以控制高度，宽度，内外边距</li><li>是一个盒子，里面可以放行内块或者行内元素</li></ul><p>注：文字类标签如<code>&lt;p&gt;,&lt;h1&gt;</code>等等不能放其他块级元素</p><h3 id="2-行内元素"><a href="#2-行内元素" class="headerlink" title="2. 行内元素"></a>2. 行内元素</h3><p> 常见的行内元素有<code>&lt;a&gt;、&lt;strong&gt;、&lt;b&gt;、&lt;em&gt;、&lt;i&gt;、&lt;del&gt;、&lt;s&gt;、&lt;ins&gt;、&lt;u&gt;、&lt;span&gt;</code>等，其中<code>&lt;span&gt; </code>标签是最典型的行内元素。有的地方也将行内元素称为内联元素。 </p><p>行内元素的特点：</p><ul><li>相邻行内元素在同一行上，一行可以显示多个</li><li>直接设置宽高是无效的</li><li>默认宽度是它本身内容的宽度</li><li>只能容纳文本和其他行内元素</li></ul><p>注：链接里面不能再放链接</p><h3 id="3-行内块元素"><a href="#3-行内块元素" class="headerlink" title="3. 行内块元素"></a>3. 行内块元素</h3><p> 在行内元素中有几个特殊的标签——<code>&lt;img /&gt;、&lt;input /&gt;、&lt;td&gt;</code>，它们同时具有块元素和行内元素的特点。有些资料称它们为行内块元素。 </p><p>行内块元素的特点：</p><ul><li>和相邻元素在同一行上，但是他们之间会有缝隙，一行可以显示多个</li><li>可以设置宽高</li><li>默认宽度是他内容的宽度</li></ul><h3 id="4-元素显示模式的转化"><a href="#4-元素显示模式的转化" class="headerlink" title="4. 元素显示模式的转化"></a>4. 元素显示模式的转化</h3><ul><li>转化为块级元素：<code>display:block</code></li><li>转化为行内元素:<code>display:inline</code></li><li>转化为行内块元素:<code>display:inline-block</code></li></ul><h2 id="六、盒子模型"><a href="#六、盒子模型" class="headerlink" title="六、盒子模型"></a>六、盒子模型</h2><h3 id="1-简介"><a href="#1-简介" class="headerlink" title="1. 简介"></a>1. 简介</h3><p>盒子模型：就是把HTML页面中的布局元素看作是一个矩形的盒子，也就是一个盛装内容的容器。 </p><p>包括： 边框(border)、外边距(margin)、内边距(padding)、和实际内容 (content)</p><h3 id="2-盒子"><a href="#2-盒子" class="headerlink" title="2.盒子"></a>2.盒子</h3><h4 id="1-border"><a href="#1-border" class="headerlink" title="1. border"></a>1. border</h4><table><thead><tr><th align="center">属性</th><th align="center">作用</th></tr></thead><tbody><tr><td align="center">border-width</td><td align="center">边框粗细</td></tr><tr><td align="center">border-style</td><td align="center">边框的样式</td></tr><tr><td align="center">border-color</td><td align="center">边框颜色</td></tr><tr><td align="center">border</td><td align="center">简写</td></tr></tbody></table><p>border-style的属性值：</p><ul><li>none：没有边框</li><li>solid：单实线</li><li>dashed：虚线边框</li><li>dotted：点线边框</li></ul><p>border-radius设置圆角边框</p><h4 id="2-margin"><a href="#2-margin" class="headerlink" title="2. margin"></a>2. margin</h4><p><code>margin:0,auto</code>可以让块级元素水平居中</p><p><code>text-align:center</code>可以让行内元素水平居中</p><h3 id="3-其他"><a href="#3-其他" class="headerlink" title="3. 其他"></a>3. 其他</h3><h4 id="3-1-边距合并"><a href="#3-1-边距合并" class="headerlink" title="3.1 边距合并"></a>3.1 边距合并</h4><p> <strong>外边距合并</strong>：</p><ul><li>当上下相邻的两个块元素（兄弟关系）相遇时，如果上面的元素有下外边距margin-bottom，下面的元素有上外边距margin-top，则他们之间的垂直间距不是margin-bottom 与margin-top 之和。取两个值中的较大者这种现象被称为相邻块元素垂直外边距的合并。</li><li>对于两个嵌套关系（父子关系）的块元素，父元素有上外边距同时子元素也有上外边距，此时父元素会塌陷较大的外边距值。</li></ul><p><strong>清除内外边距</strong>：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line"><span class="attr">padding</span>:<span class="number">0</span>;</span><br><span class="line"><span class="attr">margin</span>:<span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-2-盒模型的设置"><a href="#3-2-盒模型的设置" class="headerlink" title="3.2 盒模型的设置***"></a>3.2 盒模型的设置***</h4><p>盒模型分为标准盒模型和IE盒模型</p><p>标准盒模型：width为content的宽度，<code>box-sizing:content-box</code></p><p>IE盒模型：width为content+padding+border的宽度，<code>box-sizing:border-box</code></p><h4 id="3-3-盒子阴影"><a href="#3-3-盒子阴影" class="headerlink" title="3.3 盒子阴影"></a>3.3 盒子阴影</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">div</span>:hover &#123;</span><br><span class="line">            box-<span class="attr">shadow</span>: 10px 10px 10px -4px <span class="title function_">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">.3</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="七、浮动"><a href="#七、浮动" class="headerlink" title="七、浮动"></a>七、浮动</h2><h3 id="1-简介-1"><a href="#1-简介-1" class="headerlink" title="1. 简介"></a>1. 简介</h3><p>标准流： 标签按照规定好默认方式排列. </p><p>浮动： 设置浮动的图片，文字会环绕图片，设置浮动的块级元素，可以排列在一行，设置浮动的行内元素，可以设置宽高。 </p><ul><li>none：元素不浮动</li><li>left：元素向左浮动</li><li>right：元素向右移动</li></ul><h3 id="2-浮动特性"><a href="#2-浮动特性" class="headerlink" title="2. 浮动特性"></a>2. 浮动特性</h3><ul><li>浮动元素脱离标准流,不再保留原先的位置</li><li>在一行显示且与元素顶部对齐</li><li>具有行内块的特性</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;浮动元素搭配标准流父盒子1&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .box &#123;</span><br><span class="line">            width: 1200px;</span><br><span class="line">            height: 460px;</span><br><span class="line">            background-color: pink;</span><br><span class="line">            margin: 0 auto;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .left &#123;</span><br><span class="line">            float: left;</span><br><span class="line">            width: 230px;</span><br><span class="line">            height: 460px;</span><br><span class="line">            background-color: purple;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .right &#123;</span><br><span class="line">            float: left;</span><br><span class="line">            width: 970px;</span><br><span class="line">            height: 460px;</span><br><span class="line">            background-color: skyblue;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;box&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;left&quot;&gt;左侧&lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;right&quot;&gt;右侧&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="3-注意点"><a href="#3-注意点" class="headerlink" title="3. 注意点"></a>3. 注意点</h3><ul><li>浮动和标准流的父盒子搭配。</li></ul><p>  先用标准流的父元素排列上下位置, 之后内部子元素采取浮动排列左右位置 </p><ul><li>一个元素浮动了，理论上其余的兄弟元素也要浮动。</li></ul><p>   一个盒子里面有多个子盒子，如果其中一个盒子浮动了，那么其他兄弟也应该浮动，以防止引起问题。</p><p>  浮动的盒子只会影响浮动盒子后面的标准流,不会影响前面的标准流. </p><h3 id="4-清除浮动"><a href="#4-清除浮动" class="headerlink" title="4. 清除浮动"></a>4. 清除浮动</h3><p>原因：由于浮动元素不再占用原文档流的位置，所以它会对后面的元素排版产生影响 </p><h4 id="4-1-额外标签法"><a href="#4-1-额外标签法" class="headerlink" title="4.1 额外标签法"></a>4.1 额外标签法</h4><p> 额外标签法会在浮动元素末尾添加一个空的标签。例如<div style="clear:both"></div>，或者其他标签（如<br/>等）。 </p><p>注：新的空标签必须是块级元素</p><h4 id="4-2-父级添加overflow"><a href="#4-2-父级添加overflow" class="headerlink" title="4.2 父级添加overflow"></a>4.2 父级添加overflow</h4><p> 可以给父级添加overflow属性，将其属性值设置为hidden、auto或scroll。子不教,父之过,注意是给父元素添加代码 </p><h4 id="4-3-after伪元素法"><a href="#4-3-after伪元素法" class="headerlink" title="4.3 :after伪元素法"></a>4.3 :after伪元素法</h4><p>给父元素添加</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">clearfix</span>:after &#123;</span><br><span class="line"><span class="attr">content</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="attr">display</span>: block;</span><br><span class="line"><span class="attr">height</span>: <span class="number">0</span>;</span><br><span class="line"><span class="attr">clear</span>: both;</span><br><span class="line"><span class="attr">visibility</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">clearfix</span>&#123;<span class="comment">/* IE6、7专有*/</span>*<span class="attr">zoom</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-4-双伪元素清除浮动"><a href="#4-4-双伪元素清除浮动" class="headerlink" title="4.4 双伪元素清除浮动"></a>4.4 双伪元素清除浮动</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">clearfix</span>:before,.<span class="property">clearfix</span>:after&#123;</span><br><span class="line"><span class="attr">content</span>:<span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="attr">display</span>:table;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">clearfix</span>:after&#123;</span><br><span class="line"><span class="attr">clear</span>:both;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">clearfix</span>&#123;</span><br><span class="line">*<span class="attr">zoom</span>:<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="4-4-总结"><a href="#4-4-总结" class="headerlink" title="4.4 总结"></a>4.4 总结</h4><ul><li><p>额外标签法（在最后一个浮动标签后，新加一个标签，给其设置<code>clear:both</code>）</p><p>新添加了一个标签，会造成不必要的渲染</p></li><li><p>父级添加overflow属性（<code>overflow: hidden;</code>）</p><p>写法方便简单，但是如果盒子中有定位元素超出了父级，则超出部分会隐藏。</p></li><li><p>使用after不会新增加标签，不回影响元素，是最流行的方法。</p></li></ul><h2 id="八、定位"><a href="#八、定位" class="headerlink" title="八、定位"></a>八、定位</h2><h3 id="1-简介-2"><a href="#1-简介-2" class="headerlink" title="1. 简介"></a>1. 简介</h3><p> 定位：将盒子定在某一个位置，所以定位也是在摆放盒子，按照定位的方式移动盒子。 </p><table><thead><tr><th align="center">值</th><th align="center">语义</th></tr></thead><tbody><tr><td align="center">static</td><td align="center">静态定位</td></tr><tr><td align="center">relative</td><td align="center">相对定位，占据空间，相对于自身</td></tr><tr><td align="center">absolute</td><td align="center">绝对定位，脱离文档流，不占据空间，相对于定位的父级</td></tr><tr><td align="center">fixed</td><td align="center">固定定位，脱离文档流，不占据空间，浏览器可视区</td></tr><tr><td align="center">sticky</td><td align="center">粘性定位，占据空间，浏览器可视区</td></tr></tbody></table><h3 id="2-定位方式"><a href="#2-定位方式" class="headerlink" title="2. 定位方式"></a>2. 定位方式</h3><h4 id="2-1-静态定位"><a href="#2-1-静态定位" class="headerlink" title="2.1 静态定位"></a>2.1 静态定位</h4><p> 静态定位是元素的默认定位方式，无定位的意思。 </p><h4 id="2-2-相对定位-relative"><a href="#2-2-相对定位-relative" class="headerlink" title="2.2 相对定位 relative"></a>2.2 相对定位 relative</h4><p> 相对定位是元素在移动位置的时候，是相对于它原来的位置来说的</p><p>特点：</p><ul><li>它是相对于自己原来的位置来移动的（移动位置的时候参照点是自己原来的位置）。 </li><li>原来在标准流的位置继续占有，后面的盒子仍然以标准流的方式对待它。</li></ul><h4 id="2-3-绝对定位-absolute"><a href="#2-3-绝对定位-absolute" class="headerlink" title="2.3 绝对定位 absolute"></a>2.3 绝对定位 absolute</h4><p> 绝对定位是元素在移动位置的时候，是相对于它祖先元素来说的（ </p><p>特点：</p><ul><li>如果没有祖先元素或者祖先元素没有定位，则以浏览器为准定位（Document 文档）。 </li><li>如果祖先元素有定位（相对、绝对、固定定位），则以最近一级的有定位祖先元素为参考点移动位置。 </li><li>绝对定位不再占有原先的位置。（脱标）</li></ul><h4 id="2-4-子绝父相"><a href="#2-4-子绝父相" class="headerlink" title="2.4 子绝父相"></a>2.4 子绝父相</h4><p> 因为父级需要占有位置，因此是相对定位，子盒子不需要占有位置，则是绝对定位 </p><h4 id="2-5-固定定位-fixed"><a href="#2-5-固定定位-fixed" class="headerlink" title="2.5 固定定位 fixed"></a>2.5 固定定位 fixed</h4><p> 固定定位是元素固定于浏览器可视区的位置。主要使用场景：可以在浏览器页面滚动时元素的位置不会改变。 </p><p>特点：</p><ul><li>以浏览器的可视窗口为参照点移动元素。</li><li>跟父元素没有任何关系不随滚动条滚动。</li><li>固定定位不在占有原先的位置。</li></ul><h4 id="2-6-粘性定位-sticky"><a href="#2-6-粘性定位-sticky" class="headerlink" title="2.6 粘性定位 sticky"></a>2.6 粘性定位 sticky</h4><p> 粘性定位可以被认为是相对定位和固定定位的混合。</p><p>特点：</p><ul><li>以浏览器的可视窗口为参照点移动元素（固定定位特点）</li><li>粘性定位占有原先的位置（相对定位特点）</li><li>必须添加top 、left、right、bottom 其中一个才有效</li></ul><h3 id="3-定位提升层级"><a href="#3-定位提升层级" class="headerlink" title="3. 定位提升层级"></a>3. 定位提升层级</h3><p> 在使用定位布局时，可能会出现盒子重叠的情况。此时，可以使用z-index来控制盒子的前后次序(z轴) </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">选择器&#123;z-<span class="attr">index</span>: <span class="number">1</span>; &#125;</span><br></pre></td></tr></table></figure><h2 id="九、其他属性"><a href="#九、其他属性" class="headerlink" title="九、其他属性"></a>九、其他属性</h2><h3 id="1-显示与隐藏"><a href="#1-显示与隐藏" class="headerlink" title="1. 显示与隐藏"></a>1. 显示与隐藏</h3><h4 id="1-1-display-属性"><a href="#1-1-display-属性" class="headerlink" title="1.1 display 属性"></a>1.1 display 属性</h4><p> 通过display属性设置元素是否显示，以及是否独占一行 </p><p><strong>无法添加过渡效果，不占有原来的位置</strong></p><table><thead><tr><th align="center">取值</th><th align="center">含义</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center"><code>none</code></td><td align="center">不显示</td><td align="center">隐藏对象，不再占有原来的位置</td></tr><tr><td align="center"><code>inline</code></td><td align="center">行内元素</td><td align="center">行内元素的也行</td></tr><tr><td align="center"><code>block</code></td><td align="center">块级元素</td><td align="center">块级元素的特性</td></tr><tr><td align="center"><code>inline-block</code></td><td align="center">行内块元素</td><td align="center">行内块元素的特性</td></tr></tbody></table><h4 id="1-2-visibility-可见性"><a href="#1-2-visibility-可见性" class="headerlink" title="1.2 visibility 可见性"></a>1.2 visibility 可见性</h4><p> visibility属性用于指定一个元素应可见还是隐藏。 </p><p><strong>无法添加过渡效果，占有原来的位置</strong></p><ul><li><code>visibility：visible</code> ;元素可视</li><li><code>visibility：hidden</code>; 元素隐藏 ，继续占有原来的位置</li></ul><h4 id="1-3-opcity-透明度"><a href="#1-3-opcity-透明度" class="headerlink" title="1.3 opcity 透明度"></a>1.3 opcity 透明度</h4><p>opcity属性可以设置元素透明度</p><p><strong>可以添加过度效果，但是占据原来的位置</strong></p><h3 id="2-overflow"><a href="#2-overflow" class="headerlink" title="2. overflow"></a>2. overflow</h3><p> overflow属性指定了如果内容溢出一个元素的框（超过其指定高度及宽度）时，会发生什么。 </p><p><strong>可以添加过渡效果，不占有原来的位置</strong></p><table><thead><tr><th align="center">属性值</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">visible</td><td align="center">不剪切内容也不添加滚动条</td></tr><tr><td align="center">hidden</td><td align="center">超出部分隐藏</td></tr><tr><td align="center">scroll</td><td align="center">不管超出内容否，显示滚动条</td></tr><tr><td align="center">auto</td><td align="center">超出自动显示滚动条，不超出不显示</td></tr></tbody></table><ul><li>display 显示隐藏元素但是不保留位置</li><li>visibility 显示隐藏元素 但是保留原来的位置</li><li>overflow 溢出显示隐藏 但是只是对于溢出的部分处理</li></ul><h3 id="3-outline-轮廓属性"><a href="#3-outline-轮廓属性" class="headerlink" title="3. outline 轮廓属性"></a>3. outline 轮廓属性</h3><p> 轮廓outline,用于在元素周围绘制一个轮廓，位于border外围，可以突出显示元素 </p><ul><li>outline-width:轮廓宽度</li><li>outline-color:轮廓颜色</li><li>outline-style:轮廓样式</li><li>outline简写</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;用户界面样式-表单轮廓和防止拖拽文本域&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        input, textarea &#123;</span><br><span class="line">            /* 取消表单轮廓 */</span><br><span class="line">            outline: none;</span><br><span class="line">        &#125;</span><br><span class="line">        textarea &#123;</span><br><span class="line">            /* 防止拖拽文本域 */</span><br><span class="line">            resize: none;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 1. 取消表单轮廓 --&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot;&gt;</span><br><span class="line">    &lt;!-- 2. 防止拖拽文本域 --&gt;</span><br><span class="line">    &lt;textarea name=&quot;&quot; id=&quot;&quot; cols=&quot;30&quot; rows=&quot;10&quot;&gt;&lt;/textarea&gt;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="4-cursor-鼠标样式"><a href="#4-cursor-鼠标样式" class="headerlink" title="4. cursor 鼠标样式"></a>4. cursor 鼠标样式</h3><p>设置鼠标的形状</p><ul><li>default默认光标，一般为箭头</li><li>pointer手形，光标移动超链接上时一般显示为手形</li><li>move表示可移动</li><li>text表示文 本</li><li>wait表示程序正忙，需要等待</li><li>hep表示帮助</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class="line">    &lt;title&gt;用户界面样式-鼠标样式&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">        &lt;li style=&quot;cursor: default;&quot;&gt;我是默认的小白鼠标样式&lt;/li&gt;</span><br><span class="line">        &lt;li style=&quot;cursor: pointer;&quot;&gt;我是鼠标小手样式&lt;/li&gt;</span><br><span class="line">        &lt;li style=&quot;cursor: move;&quot;&gt;我是鼠标移动样式&lt;/li&gt;</span><br><span class="line">        &lt;li style=&quot;cursor: text;&quot;&gt;我是鼠标文本样式&lt;/li&gt;</span><br><span class="line">        &lt;li style=&quot;cursor: not-allowed;&quot;&gt;我是鼠标禁止样式&lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="十、小技巧"><a href="#十、小技巧" class="headerlink" title="十、小技巧"></a>十、小技巧</h2><h3 id="1-图片和文字垂直居中对齐"><a href="#1-图片和文字垂直居中对齐" class="headerlink" title="1. 图片和文字垂直居中对齐"></a>1. 图片和文字垂直居中对齐</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">img &#123;</span><br><span class="line">            <span class="comment">/* vertical-align: bottom; */</span></span><br><span class="line">            <span class="comment">/* 让图片和文字垂直居中 */</span></span><br><span class="line">            vertical-<span class="attr">align</span>: middle;</span><br><span class="line">            <span class="comment">/* vertical-align: top; */</span></span><br><span class="line">        &#125;</span><br><span class="line">        textarea &#123;</span><br><span class="line">            vertical-<span class="attr">align</span>: middle;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h3 id="2-图片底侧有空白缝隙"><a href="#2-图片底侧有空白缝隙" class="headerlink" title="2. 图片底侧有空白缝隙"></a>2. 图片底侧有空白缝隙</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">img &#123;</span><br><span class="line">            <span class="comment">/* vertical-align: middle; */</span></span><br><span class="line">            <span class="attr">display</span>: block;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h3 id="3-单行溢出文字显示省略号"><a href="#3-单行溢出文字显示省略号" class="headerlink" title="3. 单行溢出文字显示省略号"></a>3. 单行溢出文字显示省略号</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">div &#123;</span><br><span class="line">            <span class="attr">width</span>: 150px;</span><br><span class="line">            <span class="attr">height</span>: 80px;</span><br><span class="line">            background-<span class="attr">color</span>: pink;</span><br><span class="line">            <span class="attr">margin</span>: 100px auto;</span><br><span class="line">            <span class="comment">/* 这个单词的意思是如果文字显示不开自动换行 */</span></span><br><span class="line">            <span class="comment">/* white-space: normal; */</span></span><br><span class="line">            <span class="comment">/* 1.这个单词的意思是如果文字显示不开也必须强制一行内显示 */</span></span><br><span class="line">            white-<span class="attr">space</span>: nowrap;</span><br><span class="line">            <span class="comment">/* 2.溢出的部分隐藏起来 */</span></span><br><span class="line">            <span class="attr">overflow</span>: hidden;</span><br><span class="line">            <span class="comment">/* 3. 文字溢出的时候用省略号来显示 */</span></span><br><span class="line">            text-<span class="attr">overflow</span>: ellipsis;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h3 id="4-多行文字溢出显示省略号"><a href="#4-多行文字溢出显示省略号" class="headerlink" title="4. 多行文字溢出显示省略号"></a>4. 多行文字溢出显示省略号</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">div &#123;</span><br><span class="line">            <span class="attr">width</span>: 150px;</span><br><span class="line">            <span class="attr">height</span>: 65px;</span><br><span class="line">            background-<span class="attr">color</span>: pink;</span><br><span class="line">            <span class="attr">margin</span>: 100px auto;</span><br><span class="line">            <span class="attr">overflow</span>: hidden;</span><br><span class="line">            text-<span class="attr">overflow</span>: ellipsis;</span><br><span class="line">            <span class="comment">/* 弹性伸缩盒子模型显示 */</span></span><br><span class="line">            <span class="attr">display</span>: -webkit-box;</span><br><span class="line">            <span class="comment">/* 限制在一个块元素显示的文本的行数 */</span></span><br><span class="line">            -webkit-line-<span class="attr">clamp</span>: <span class="number">3</span>;</span><br><span class="line">            <span class="comment">/* 设置或检索伸缩盒对象的子元素的排列方式 */</span></span><br><span class="line">            -webkit-box-<span class="attr">orient</span>: vertical;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h3 id="5-margin负值解决缝隙显示问题"><a href="#5-margin负值解决缝隙显示问题" class="headerlink" title="5. margin负值解决缝隙显示问题"></a>5. margin负值解决缝隙显示问题</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ul li:hover &#123;</span></span><br><span class="line"><span class="comment">           1. 如果盒子没有定位，则鼠标经过添加相对定位即可</span></span><br><span class="line"><span class="comment">        position: relative;</span></span><br><span class="line"><span class="comment">        border: 1px solid blue;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">       &#125; */</span></span><br><span class="line">        ul <span class="attr">li</span>:hover &#123;</span><br><span class="line">            <span class="comment">/* 2.如果li都有定位，则利用 z-index提高层级 */</span></span><br><span class="line">            z-<span class="attr">index</span>: <span class="number">1</span>;</span><br><span class="line">            <span class="attr">border</span>: 1px solid blue;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h3 id="6-三角制作"><a href="#6-三角制作" class="headerlink" title="6. 三角制作"></a>6. 三角制作</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">        .<span class="property">box1</span> &#123;</span><br><span class="line">            <span class="attr">width</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="attr">height</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="comment">/* border: 10px solid pink; */</span></span><br><span class="line">            border-<span class="attr">top</span>: 10px solid pink;</span><br><span class="line">            border-<span class="attr">right</span>: 10px solid red;</span><br><span class="line">            border-<span class="attr">bottom</span>: 10px solid blue;</span><br><span class="line">            border-<span class="attr">left</span>: 10px solid green;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .<span class="property">box2</span> &#123;</span><br><span class="line">            <span class="attr">width</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="attr">height</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="attr">border</span>: 50px solid transparent;</span><br><span class="line">            border-left-<span class="attr">color</span>: pink;</span><br><span class="line">            <span class="attr">margin</span>: 100px auto;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .<span class="property">jd</span> &#123;</span><br><span class="line">            <span class="attr">position</span>: relative;</span><br><span class="line">            <span class="attr">width</span>: 120px;</span><br><span class="line">            <span class="attr">height</span>: 249px;</span><br><span class="line">            background-<span class="attr">color</span>: pink;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .<span class="property">jd</span> span &#123;</span><br><span class="line">            <span class="attr">position</span>: absolute;</span><br><span class="line">            <span class="attr">right</span>: 15px;</span><br><span class="line">            <span class="attr">top</span>: -10px;</span><br><span class="line">            <span class="attr">width</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="attr">height</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="comment">/* 为了照顾兼容性 */</span></span><br><span class="line">            line-<span class="attr">height</span>: <span class="number">0</span>;</span><br><span class="line">            font-<span class="attr">size</span>: <span class="number">0</span>;</span><br><span class="line">            <span class="attr">border</span>: 5px solid transparent;</span><br><span class="line">            border-bottom-<span class="attr">color</span>: pink;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="7-去掉表单默认边框"><a href="#7-去掉表单默认边框" class="headerlink" title="7. 去掉表单默认边框"></a>7. 去掉表单默认边框</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">input &#123;<span class="attr">outline</span>: none; &#125;</span><br></pre></td></tr></table></figure><h3 id="8-防止拖拽文本域"><a href="#8-防止拖拽文本域" class="headerlink" title="8. 防止拖拽文本域"></a>8. 防止拖拽文本域</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">textarea&#123; <span class="attr">resize</span>: none;&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> 编程 </tag>
            
            <tag> 前端 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS笔记</title>
      <link href="/79333/2021/01/11/JS%E7%AC%94%E8%AE%B0/"/>
      <url>/79333/2021/01/11/JS%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="JS基础"><a href="#JS基础" class="headerlink" title="JS基础"></a>JS基础</h1><h2 id="一、初识js"><a href="#一、初识js" class="headerlink" title="一、初识js"></a>一、初识js</h2><h3 id="1-书写位置"><a href="#1-书写位置" class="headerlink" title="1. 书写位置"></a>1. 书写位置</h3><ul><li>内嵌式的js</li><li>外部引入</li><li>行内样式</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line">    &lt;!-- <span class="number">2.</span>内嵌式的js --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// alert(&#x27;沙漠骆驼&#x27;);</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    &lt;!-- <span class="number">3.</span> 外部js script 双标签 --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;my.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 1. 行内式的js 直接写到元素的内部 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- &lt;input type=&quot;button&quot; value=&quot;唐伯虎&quot; onclick=&quot;alert(&#x27;秋香姐&#x27;)&quot;&gt; --&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="2-注释"><a href="#2-注释" class="headerlink" title="2. 注释"></a>2. 注释</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        <span class="comment">// 1. 单行注释  ctrl + /</span></span><br><span class="line">        <span class="comment">/* 2. 多行注释  默认的快捷键 shift +  alt  + a</span></span><br><span class="line"><span class="comment">           2. 多行注释  vscode 中修改多行注释的快捷键：  ctrl + shift + /</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="3-输入输出语句"><a href="#3-输入输出语句" class="headerlink" title="3. 输入输出语句"></a>3. 输入输出语句</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        // 这是一个输入框</span><br><span class="line">        prompt(&#x27;请输入您的年龄&#x27;);</span><br><span class="line">        // alert 弹出警示框 输出的 展示给用户的</span><br><span class="line">        alert(&#x27;计算的结果是&#x27;);</span><br><span class="line">        // console 控制台输出 给程序员测试用的  </span><br><span class="line">        console.log(&#x27;我是程序员能看到的&#x27;);</span><br><span class="line">        // 在页面中显示</span><br><span class="line">         document.write(&quot;hello,word&quot;)</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="二、变量"><a href="#二、变量" class="headerlink" title="二、变量"></a>二、变量</h2><h3 id="1-数据类型"><a href="#1-数据类型" class="headerlink" title="1. 数据类型"></a>1. 数据类型</h3><h4 id="1-1-简单数据类型"><a href="#1-1-简单数据类型" class="headerlink" title="1.1 简单数据类型"></a>1.1 简单数据类型</h4><ul><li>Number, Null, Boolean, String, Undefined,Symbol ，Bigint</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">10</span></span><br><span class="line">    <span class="keyword">var</span> str = <span class="string">&#x27;10&#x27;</span></span><br><span class="line">    <span class="keyword">var</span> bool = <span class="literal">false</span></span><br><span class="line">    <span class="keyword">var</span> und = <span class="literal">undefined</span></span><br><span class="line">    <span class="keyword">var</span> nul = <span class="literal">null</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4 id="1-2-复杂数据类型"><a href="#1-2-复杂数据类型" class="headerlink" title="1.2 复杂数据类型"></a>1.2 复杂数据类型</h4><ul><li>Object,Array,Funtion</li></ul><h3 id="2-数据类型的转换"><a href="#2-数据类型的转换" class="headerlink" title="2. 数据类型的转换"></a>2. 数据类型的转换</h3><h4 id="2-1-转字符串"><a href="#2-1-转字符串" class="headerlink" title="2.1 转字符串"></a>2.1 转字符串</h4> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 把数字型转换为字符串型 变量.toString()</span></span><br><span class="line">        <span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">var</span> str = num.<span class="title function_">toString</span>();</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(str);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> str);</span><br><span class="line">        <span class="comment">// 2. 我们利用 String(变量)   </span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">String</span>(num));</span><br><span class="line">        <span class="comment">// 3. 利用 + 拼接字符串的方法实现转换效果 隐式转换</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(num + <span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure><h4 id="2-2-转数字型"><a href="#2-2-转数字型" class="headerlink" title="2.2 转数字型"></a>2.2 转数字型</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// 1. parseInt(变量)  可以把 字符型的转换为数字型 得到是整数</span><br><span class="line">        // console.log(parseInt(age));</span><br><span class="line">        console.log(parseInt(&#x27;3.14&#x27;)); // 3 取整</span><br><span class="line">        console.log(parseInt(&#x27;3.94&#x27;)); // 3 取整</span><br><span class="line">        console.log(parseInt(&#x27;120px&#x27;)); // 120 会去到这个px单位</span><br><span class="line">        console.log(parseInt(&#x27;rem120px&#x27;)); // NaN</span><br><span class="line">        // 2. parseFloat(变量) 可以把 字符型的转换为数字型 得到是小数 浮点数</span><br><span class="line">        console.log(parseFloat(&#x27;3.14&#x27;)); // 3.14</span><br><span class="line">        console.log(parseFloat(&#x27;120px&#x27;)); // 120 会去掉这个px单位</span><br><span class="line">        console.log(parseFloat(&#x27;rem120px&#x27;)); // NaN</span><br><span class="line">        // 3. 利用 Number(变量) </span><br><span class="line">        var str = &#x27;123&#x27;;</span><br><span class="line">        console.log(Number(str));</span><br><span class="line">        console.log(Number(&#x27;12&#x27;));</span><br><span class="line">        // 4. 利用了算数运算 -  *  /  隐式转换</span><br><span class="line">        console.log(&#x27;12&#x27; - 0); // 12</span><br><span class="line">        console.log(&#x27;123&#x27; - &#x27;120&#x27;);</span><br><span class="line">        console.log(&#x27;123&#x27; * 1);</span><br></pre></td></tr></table></figure><h4 id="2-3-转布尔型"><a href="#2-3-转布尔型" class="headerlink" title="2.3 转布尔型"></a>2.3 转布尔型</h4><ul><li><p>Boolean()</p></li><li><p>代表空或者否定的值会转化为false，如：’ ‘，0，NaN，null，undefined</p></li></ul> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="string">&#x27;&#x27;</span>)); <span class="comment">// false</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="number">0</span>)); <span class="comment">// false</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="title class_">NaN</span>)); <span class="comment">// false</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="literal">null</span>)); <span class="comment">// false</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="literal">undefined</span>)); <span class="comment">// false</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;------------------------------&#x27;</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="string">&#x27;123&#x27;</span>));</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="string">&#x27;你好吗&#x27;</span>));</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="string">&#x27;我很好&#x27;</span>));</span><br></pre></td></tr></table></figure><h3 id="3-获取数据类型"><a href="#3-获取数据类型" class="headerlink" title="3. 获取数据类型"></a>3. 获取数据类型</h3><p>typeof()</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> num); <span class="comment">// number</span></span><br><span class="line">      <span class="keyword">var</span> str = <span class="string">&#x27;pink&#x27;</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> str); <span class="comment">// string</span></span><br><span class="line">      <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> flag); <span class="comment">// boolean</span></span><br><span class="line">      <span class="keyword">var</span> vari = <span class="literal">undefined</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> vari); <span class="comment">// undefined</span></span><br><span class="line">      <span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> timer); <span class="comment">// object</span></span><br><span class="line">      <span class="comment">// prompt 取过来的值是 字符型的</span></span><br><span class="line">      <span class="keyword">var</span> age = <span class="title function_">prompt</span>(<span class="string">&#x27;请输入您的年龄&#x27;</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(age);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> age);</span><br></pre></td></tr></table></figure><h2 id="三、运算符"><a href="#三、运算符" class="headerlink" title="三、运算符"></a>三、运算符</h2><h3 id="1-算数运算符"><a href="#1-算数运算符" class="headerlink" title="1. 算数运算符"></a>1. 算数运算符</h3><p><code>+</code> <code>-</code> <code>*</code> <code> /</code> <code>%</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> + <span class="number">1</span>); <span class="comment">// 2</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> - <span class="number">1</span>); <span class="comment">// 0</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> * <span class="number">1</span>); <span class="comment">// 1</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> / <span class="number">1</span>); <span class="comment">// 1</span></span><br><span class="line">      <span class="comment">// 1. % 取余 （取模）  </span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span> % <span class="number">2</span>); <span class="comment">// 0</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">5</span> % <span class="number">3</span>); <span class="comment">// 2</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span> % <span class="number">5</span>); <span class="comment">// 3</span></span><br><span class="line">      <span class="comment">// 2. 浮点数 算数运算里面会有问题</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0.1</span> + <span class="number">0.2</span>); <span class="comment">// 0.30000000000000004</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0.07</span> * <span class="number">100</span>); <span class="comment">// 7.000000000000001</span></span><br><span class="line">      <span class="comment">// 3. 我们不能直接拿着浮点数来进行相比较 是否相等</span></span><br><span class="line">      <span class="keyword">var</span> num = <span class="number">0.1</span> + <span class="number">0.2</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(num == <span class="number">0.3</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="2-比较运算符"><a href="#2-比较运算符" class="headerlink" title="2. 比较运算符"></a>2. 比较运算符</h3><p><code>&gt; &lt; == &gt;= &lt;= != === !==</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span> &gt;= <span class="number">5</span>); <span class="comment">// false</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span> &lt;= <span class="number">4</span>); <span class="comment">// true</span></span><br><span class="line">      <span class="comment">//1. 我们程序里面的等于符号 是 ==  默认转换数据类型 会把字符串型的数据转换为数字型 只要求值相等就可以</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span> == <span class="number">5</span>); <span class="comment">// false</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;pink老师&#x27;</span> == <span class="string">&#x27;刘德华&#x27;</span>); <span class="comment">// flase</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">18</span> == <span class="number">18</span>); <span class="comment">// true</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">18</span> == <span class="string">&#x27;18&#x27;</span>); <span class="comment">// true</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">18</span> != <span class="number">18</span>); <span class="comment">// false</span></span><br><span class="line">      <span class="comment">// 2. 我们程序里面有全等 一模一样  要求 两侧的值 还有 数据类型完全一致才可以 true</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">18</span> === <span class="number">18</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">18</span> === <span class="string">&#x27;18&#x27;</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="3-逻辑运算符"><a href="#3-逻辑运算符" class="headerlink" title="3. 逻辑运算符"></a>3. 逻辑运算符</h3><p><code>&amp;&amp; || !</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 逻辑与 &amp;&amp;  and 两侧都为true  结果才是 true  只要有一侧为false  结果就为false </span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span> &gt; <span class="number">5</span> &amp;&amp; <span class="number">3</span> &gt; <span class="number">2</span>); <span class="comment">// false</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span> &lt; <span class="number">5</span> &amp;&amp; <span class="number">3</span> &gt; <span class="number">2</span>); <span class="comment">// true</span></span><br><span class="line">      <span class="comment">// 2. 逻辑或 || or  两侧都为false  结果才是假 false  只要有一侧为true  结果就是true</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span> &gt; <span class="number">5</span> || <span class="number">3</span> &gt; <span class="number">2</span>); <span class="comment">// true </span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span> &gt; <span class="number">5</span> || <span class="number">3</span> &lt; <span class="number">2</span>); <span class="comment">// false</span></span><br><span class="line">      <span class="comment">// 3. 逻辑非  not  ！ </span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(!<span class="literal">true</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="4-赋值运算符"><a href="#4-赋值运算符" class="headerlink" title="4. 赋值运算符"></a>4. 赋值运算符</h3><p><code>= += -= *= /=</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line">      <span class="comment">// num = num + 1;   num++</span></span><br><span class="line">      <span class="comment">// num = num + 2; // num += 2;</span></span><br><span class="line">      <span class="comment">// num += 2;</span></span><br><span class="line">      num += <span class="number">5</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line">      <span class="keyword">var</span> age = <span class="number">2</span>;</span><br><span class="line">      age *= <span class="number">3</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(age);</span><br></pre></td></tr></table></figure><h3 id="5-一元运算符"><a href="#5-一元运算符" class="headerlink" title="5. 一元运算符"></a>5. 一元运算符</h3><p><code> ++ --</code></p><ul><li>前置递增 ++num 先自加，再返回值</li><li>后置递增 num++ 先返回原值，后自加1</li></ul><h3 id="6-优先级"><a href="#6-优先级" class="headerlink" title="6. 优先级"></a>6. 优先级</h3><p>！&gt; 算数 &gt; 关系 &gt; 与、或 &gt; 赋值</p><h2 id="四、选择结构"><a href="#四、选择结构" class="headerlink" title="四、选择结构"></a>四、选择结构</h2><h3 id="1-if"><a href="#1-if" class="headerlink" title="1. if"></a>1. if</h3><h4 id="1-1-if单分支"><a href="#1-1-if单分支" class="headerlink" title="1.1 if单分支"></a>1.1 if单分支</h4><p>如果 if 里面的条件表达式结果为真 true 则执行大括号里面的 执行语句 </p><p>如果if 条件表达式结果为假 则不执行大括号里面的语句 则执行if 语句后面的代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (条件表达式) &#123;</span><br><span class="line">        <span class="comment">// 执行语句</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h4 id="1-2-if双分支"><a href="#1-2-if双分支" class="headerlink" title="1.2 if双分支"></a>1.2 if双分支</h4><p>如果表达式结果为真 那么执行语句1  否则  执行语句2</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (条件表达式) &#123;</span><br><span class="line">        <span class="comment">// 执行语句1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 执行语句2 </span></span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure><h4 id="1-3-if多分支"><a href="#1-3-if多分支" class="headerlink" title="1.3 if多分支"></a>1.3 if多分支</h4><p>如果条件表达式1 不满足，则判断条件表达式2  满足的话，执行语句2 以此类推</p><p>如果上面的所有条件表达式都不成立，则执行else 里面的语句</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (条件表达式<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">// 语句1;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (条件表达式<span class="number">2</span>) &#123;</span><br><span class="line">            <span class="comment">// 语句2;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (条件表达式<span class="number">3</span>) &#123;</span><br><span class="line">            <span class="comment">// 语句3;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 最后的语句;</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h4 id="1-4-三元表达式"><a href="#1-4-三元表达式" class="headerlink" title="1.4 三元表达式"></a>1.4 三元表达式</h4><p>如果条件表达式结果为真 则 返回 表达式1 的值 如果条件表达式结果为假 则返回 表达式2 的值</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 条件表达式 ？ 表达式1 ： 表达式2</span></span><br><span class="line">        <span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">var</span> result = num &gt; <span class="number">5</span> ? <span class="string">&#x27;是的&#x27;</span> : <span class="string">&#x27;不是的</span></span><br></pre></td></tr></table></figure><h3 id="2-switch"><a href="#2-switch" class="headerlink" title="2. switch"></a>2. switch</h3><p>利用我们的表达式的值 和 case 后面的选项值相匹配 如果匹配上，就执行该case 里面的语句  如果都没有匹配上，那么执行 default里面的语句</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (表达式) &#123;</span><br><span class="line">             <span class="keyword">case</span> <span class="attr">value1</span>:</span><br><span class="line">                执行语句<span class="number">1</span>;</span><br><span class="line">                 <span class="keyword">break</span>;</span><br><span class="line">             <span class="keyword">case</span> <span class="attr">value2</span>:</span><br><span class="line">                执行语句<span class="number">2</span>;</span><br><span class="line">                 <span class="keyword">break</span>;</span><br><span class="line">                 ...</span><br><span class="line">              <span class="attr">default</span>:</span><br><span class="line">                 执行最后的语句;</span><br><span class="line">         &#125;</span><br></pre></td></tr></table></figure><p>特点：</p><ul><li>我们开发里面 表达式我们经常写成变量</li><li>我们num 的值 和 case 里面的值相匹配的时候是 全等  必须是值和数据类型一致才可以 num &#x3D;&#x3D;&#x3D; 1</li><li>break 如果当前的case里面没有break 则不会退出switch 是继续执行下一个case</li></ul><h2 id="五、循环结构"><a href="#五、循环结构" class="headerlink" title="五、循环结构"></a>五、循环结构</h2><h3 id="1-for"><a href="#1-for" class="headerlink" title="1. for"></a>1. for</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for (初始化变量; 条件表达式; 操作表达式) &#123;</span></span><br><span class="line"><span class="comment">//     // 循环体</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;你好吗&#x27;</span>);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h3 id="2-while"><a href="#2-while" class="headerlink" title="2. while"></a>2. while</h3><p>当条件表达式结果为true 则执行循环体 否则 退出循环</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// while (条件表达式) &#123;</span></span><br><span class="line"><span class="comment">//     // 循环体</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (num &lt;= <span class="number">100</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;好啊有&#x27;</span>);</span><br><span class="line">    num++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-do-while"><a href="#3-do-while" class="headerlink" title="3. do while"></a>3. do while</h3><p>跟while不同的地方在于 do while 先执行一次循环体 在判断条件 如果条件表达式结果为真，则继续执行循环体，否则退出循环</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// do &#123;</span></span><br><span class="line"><span class="comment">//     循环体</span></span><br><span class="line"><span class="comment">// &#125; while (条件表达式)</span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;how are you?&#x27;</span>);</span><br><span class="line">            i++;</span><br><span class="line">        &#125; <span class="keyword">while</span> (i &lt;= <span class="number">100</span>)        </span><br></pre></td></tr></table></figure><h3 id="4-continue"><a href="#4-continue" class="headerlink" title="4. continue"></a>4. continue</h3><p>continue 关键字  退出本次（当前次的循环）  继续执行剩余次数循环</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">3</span>) &#123;</span><br><span class="line">                <span class="keyword">continue</span>; <span class="comment">// 只要遇见 continue就退出本次循环 直接跳到 i++</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我正在吃第&#x27;</span> + i + <span class="string">&#x27;个包子&#x27;</span>);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h3 id="5-break"><a href="#5-break" class="headerlink" title="5. break"></a>5. break</h3><p>break 退出整个循环</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">3</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我正在吃第&#x27;</span> + i + <span class="string">&#x27;个包子&#x27;</span>);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h2 id="六、数组"><a href="#六、数组" class="headerlink" title="六、数组"></a>六、数组</h2><p>数组(Array) ：就是一组数据的集合 存储在单个变量下的优雅方式</p><h3 id="1-创建数组"><a href="#1-创建数组" class="headerlink" title="1. 创建数组"></a>1. 创建数组</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var arr = new Array();   // 利用new 创建数组</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var arr = [];  //   利用数组字面量创建数组 []</span><br></pre></td></tr></table></figure><h3 id="2-获取数组元素"><a href="#2-获取数组元素" class="headerlink" title="2. 获取数组元素"></a>2. 获取数组元素</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="string">&#x27;pink老师&#x27;</span>, <span class="literal">true</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1[<span class="number">2</span>]); <span class="comment">// pink老师</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1[<span class="number">3</span>]); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h3 id="3-数组常用方法"><a href="#3-数组常用方法" class="headerlink" title="3. 数组常用方法"></a>3. 数组常用方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&quot;李白&quot;</span>, <span class="number">123</span>, <span class="literal">false</span>, <span class="literal">undefined</span>, <span class="literal">null</span>, <span class="literal">true</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">13</span>]</span><br><span class="line">        <span class="comment">// 在数组末尾增加 push()</span></span><br><span class="line">        arr.<span class="title function_">push</span>(<span class="string">&quot;剑仙&quot;</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">        <span class="comment">// 在数组末尾删除 pop()</span></span><br><span class="line">        arr.<span class="title function_">pop</span>()</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">        <span class="comment">// 在数组开头删除 shift()</span></span><br><span class="line">        arr.<span class="title function_">shift</span>()</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">        <span class="comment">// 删除 splice()</span></span><br><span class="line">        arr.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">        <span class="comment">// 修改 splice()</span></span><br><span class="line">        arr.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">0</span>, <span class="string">&quot;诗圣&quot;</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">        arr.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">3</span>, <span class="number">10</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 数组转化为字符串 join() 产生一个新数组，不会改变原数组 以xx隔开</span></span><br><span class="line">        <span class="keyword">var</span> arr1 = arr.<span class="title function_">join</span>(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr1);</span><br><span class="line">        <span class="comment">// 合并两个数组 concat() 产生一个新数组，不会改变原数组</span></span><br><span class="line">        <span class="keyword">var</span> arr3 = arr.<span class="title function_">concat</span>(arr1)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr3);</span><br><span class="line">        <span class="comment">// 数组的截取 slice() 产生一个新数组，不会改变原数组</span></span><br><span class="line">        <span class="keyword">var</span> arr4 = arr.<span class="title function_">slice</span>(<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr4);</span><br><span class="line">        <span class="comment">// 数组的翻转 reverse() 产生一个新数组，不会改变原数组</span></span><br><span class="line">        <span class="keyword">var</span> arr5 = arr.<span class="title function_">reverse</span>()</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr5);</span><br><span class="line">        <span class="comment">// 数组排序 sort() 产生一个新数组，不会改变原数组</span></span><br><span class="line">        <span class="keyword">var</span> arr6 = arr.<span class="title function_">sort</span>(<span class="keyword">function</span> (<span class="params">a, b</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> a - b</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr6);</span><br></pre></td></tr></table></figure><h3 id="4-冒泡排序"><a href="#4-冒泡排序" class="headerlink" title="4. 冒泡排序"></a>4. 冒泡排序</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">4</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= arr.<span class="property">length</span> - <span class="number">1</span>; i++) &#123; </span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt;= arr.<span class="property">length</span> - i - <span class="number">1</span>; j++) &#123; </span><br><span class="line">                <span class="keyword">if</span> (arr[j] &lt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                    <span class="keyword">var</span> temp = arr[j];</span><br><span class="line">                    arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">                    arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br></pre></td></tr></table></figure><h3 id="5-数组最大值"><a href="#5-数组最大值" class="headerlink" title="5. 数组最大值"></a>5. 数组最大值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">2</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">343</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">65</span>, <span class="number">234</span>]</span><br><span class="line">        <span class="keyword">var</span> max = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (a[i] &gt; a[i + <span class="number">1</span>]) &#123;</span><br><span class="line">                max = a[i]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(max);</span><br></pre></td></tr></table></figure><h3 id="6-数组去重"><a href="#6-数组去重" class="headerlink" title="6. 数组去重"></a>6. 数组去重</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">23</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">54</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span> - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; arr.<span class="property">length</span> - <span class="number">1</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (arr[i] == arr[j]) &#123;</span><br><span class="line">                    arr.<span class="title function_">splice</span>(j, <span class="number">1</span>)</span><br><span class="line">                    j--  <span class="comment">// 因为每次删除都会改变数组的长度，所以删了之后要是下标-1,之后再+1回到原来下标</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br></pre></td></tr></table></figure><h3 id="7-反转数组"><a href="#7-反转数组" class="headerlink" title="7. 反转数组"></a>7. 反转数组</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>, <span class="string">&#x27;pink&#x27;</span>, <span class="string">&#x27;purple&#x27;</span>, <span class="string">&#x27;hotpink&#x27;</span>];</span><br><span class="line">        <span class="keyword">var</span> newArr = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = arr.<span class="property">length</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            newArr[newArr.<span class="property">length</span>] = arr[i]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(newArr);</span><br></pre></td></tr></table></figure><h3 id="8-遍历数组"><a href="#8-遍历数组" class="headerlink" title="8. 遍历数组"></a>8. 遍历数组</h3><h4 id="1-for-of"><a href="#1-for-of" class="headerlink" title="1. for of"></a><strong>1. for of</strong></h4><ul><li>不同于forEach的是，for of 循环可以随时退出</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>, <span class="string">&#x27;pink&#x27;</span>, <span class="string">&#x27;purple&#x27;</span>, <span class="string">&#x27;hotpink&#x27;</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> arr) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(i) <span class="comment">//red green blue pink purplr hotpink</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="2-forEach"><a href="#2-forEach" class="headerlink" title="2. forEach"></a><strong>2. forEach</strong></h4><ul><li>可以通过return跳出本次循环，执行下一次循环</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">    arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (item === <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 2 4 5 6</span></span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><h4 id="3-some"><a href="#3-some" class="headerlink" title="3. some"></a>3. some</h4><ul><li>不会对空数组进行检测</li><li>不会改变原数组</li><li>检测数组里的每一个值是否满足条件，如果有一个满足就返回true，否则返回false</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">    <span class="keyword">const</span> result = arr.<span class="title function_">some</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 2 3</span></span><br><span class="line">      <span class="keyword">return</span> item === <span class="number">3</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(result) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h4 id="4-every"><a href="#4-every" class="headerlink" title="4. every"></a>4. every</h4><ul><li>不会对空数组进行检测</li><li>不会改变原数组</li><li>检测数组里的每一个值是否满足条件，如果有一个不满足就返回false，否则返回true</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">    <span class="keyword">const</span> result = arr.<span class="title function_">every</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 </span></span><br><span class="line">      <span class="keyword">return</span> item === <span class="number">3</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(result) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h4 id="5-map"><a href="#5-map" class="headerlink" title="5. map"></a>5. map</h4><ul><li>不会对空数组进行检测</li><li>不会改变原数组</li><li>按照原始数组元素顺序依次处理，返回一个新数组</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">   <span class="keyword">const</span> result = arr.<span class="title function_">map</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 2 3 4 5 6 </span></span><br><span class="line">     <span class="keyword">return</span> item * item</span><br><span class="line">   &#125;)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(result) <span class="comment">// [1 4 9 16 25 36]</span></span><br></pre></td></tr></table></figure><h4 id="6-filter"><a href="#6-filter" class="headerlink" title="6. filter"></a>6. filter</h4><ul><li>不会对空数组进行检测</li><li>不会改变原数组</li><li>对数组进行渲染，返回符合条件的数组</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">   <span class="keyword">const</span> result = arr.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 2 3 4 5 6</span></span><br><span class="line">     <span class="keyword">return</span> item &gt; <span class="number">3</span></span><br><span class="line">   &#125;)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(result) <span class="comment">// [4,5,6]</span></span><br></pre></td></tr></table></figure><h4 id="7-find"><a href="#7-find" class="headerlink" title="7. find()"></a>7. find()</h4><ul><li><p>不会对空数组进行检测</p></li><li><p>不会改变原数组</p></li><li><p>找到符合条件的第一项，没有找到返回undefined</p></li></ul> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">    <span class="keyword">const</span> result = arr.<span class="title function_">find</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 2 3 4 5 6</span></span><br><span class="line">      <span class="keyword">return</span> item &gt; <span class="number">3</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(result) <span class="comment">// 4</span></span><br></pre></td></tr></table></figure><h2 id="七、函数"><a href="#七、函数" class="headerlink" title="七、函数"></a>七、函数</h2><h3 id="1-声明函数"><a href="#1-声明函数" class="headerlink" title="1. 声明函数"></a>1. 声明函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hi~~&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="title function_">sayHi</span>();</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sayHi = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hi~~&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="title function_">sayHi</span>();</span><br></pre></td></tr></table></figure><h3 id="2-带参数的函数"><a href="#2-带参数的函数" class="headerlink" title="2. 带参数的函数"></a>2. 带参数的函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// function 函数名(形参1,形参2...) &#123; // 在声明函数的小括号里面是 形参 （形式上的参数）</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数名(实参1,实参2...); // 在函数调用的小括号里面是实参（实际的参数）</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">cook</span>(<span class="params">aru</span>) &#123; </span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(aru);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">cook</span>(<span class="string">&#x27;酸辣土豆丝&#x27;</span>);</span><br><span class="line">        <span class="title function_">cook</span>(<span class="string">&#x27;大肘子&#x27;</span>);</span><br></pre></td></tr></table></figure><ul><li>如果实参的个数和形参的个数一致 则正常输出结果</li><li>如果实参的个数多于形参的个数  会取到形参的个数</li><li>如果实参的个数小于形参的个数  多于的形参定义为undefined  最终的结果就是 NaN</li></ul><h3 id="3-函数的返回值"><a href="#3-函数的返回值" class="headerlink" title="3. 函数的返回值"></a>3. 函数的返回值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// function 函数名() &#123;</span></span><br><span class="line">        <span class="comment">//     return 需要返回的结果;</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line"> <span class="comment">// 函数名();</span></span><br><span class="line"><span class="comment">//只要函数遇到return 就把后面的结果 返回给函数的调用者  函数名() = return后面的结果</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getResult</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">666</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">getResult</span>(); <span class="comment">// getResult()   = 666</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getResult</span>());</span><br></pre></td></tr></table></figure><ul><li>return 后面的代码不会被执行</li><li>返回的结果是最后一个值</li><li>我们的函数如果有return 则返回的是 return 后面的值，如果函数么有 return 则返回undefined</li></ul><h3 id="4-arguments伪数组"><a href="#4-arguments伪数组" class="headerlink" title="4. arguments伪数组"></a>4. arguments伪数组</h3><p>所有<strong>函数都内置了一个arguments对象</strong>（只有函数才有arguments），arguments对象中存储了传递的所有<strong>实参</strong>；当不知道传入的实参的个数（实参个数会变，或者不清楚具体几个），就可以不设置形参，在函数体内部直接用arguments去获得传入的实参</p><p>特点：</p><ul><li><p>具有length属性</p></li><li><p>按索引方式存储数据</p></li><li><p>不具有数组的push,pop等方法(没有真正的数组的方法)</p></li></ul> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f1</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">f1</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">        </span><br></pre></td></tr></table></figure><h2 id="八、对象"><a href="#八、对象" class="headerlink" title="八、对象"></a>八、对象</h2><p>对象： 无序的相关属性和方法的集合，所有的事物都是对象 </p><h3 id="1-声明对象"><a href="#1-声明对象" class="headerlink" title="1. 声明对象"></a>1. 声明对象</h3><h4 id="1-1-字面量创建对象"><a href="#1-1-字面量创建对象" class="headerlink" title="1.1 字面量创建对象"></a>1.1 字面量创建对象</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">                <span class="attr">uname</span>: <span class="string">&#x27;张三疯&#x27;</span>,</span><br><span class="line">                <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">                <span class="attr">sex</span>: <span class="string">&#x27;男&#x27;</span>,</span><br><span class="line">                <span class="attr">sayHi</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hi~&#x27;</span>);</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><h4 id="1-2-利用new-Object-创建对象"><a href="#1-2-利用new-Object-创建对象" class="headerlink" title="1.2 利用new Object() 创建对象"></a>1.2 利用new Object() 创建对象</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title class_">Object</span>(); <span class="comment">// 创建了一个空的对象</span></span><br><span class="line">       obj.<span class="property">uname</span> = <span class="string">&#x27;张三疯&#x27;</span>;</span><br><span class="line">       obj.<span class="property">age</span> = <span class="number">18</span>;</span><br><span class="line">       obj.<span class="property">sex</span> = <span class="string">&#x27;男&#x27;</span>;</span><br><span class="line">       obj.<span class="property">sayHi</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">               <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hi~&#x27;</span>);</span><br><span class="line"></span><br><span class="line">           &#125;</span><br><span class="line">           <span class="comment">// (1) 我们是利用 等号 = 赋值的方法 添加对象的属性和方法</span></span><br><span class="line">           <span class="comment">// (2) 每个属性和方法之间用 分号结束</span></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">uname</span>);</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(obj[<span class="string">&#x27;sex&#x27;</span>]);</span><br><span class="line">       obj.<span class="title function_">sayHi</span>();</span><br></pre></td></tr></table></figure><h4 id="1-3-利用构造函数创建对象"><a href="#1-3-利用构造函数创建对象" class="headerlink" title="1.3 利用构造函数创建对象"></a>1.3 利用构造函数创建对象</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Star</span>(<span class="params">uname, age, sex</span>) &#123;</span><br><span class="line">           <span class="variable language_">this</span>.<span class="property">name</span> = uname;</span><br><span class="line">           <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">           <span class="variable language_">this</span>.<span class="property">sex</span> = sex;</span><br><span class="line">           <span class="variable language_">this</span>.<span class="property">sing</span> = <span class="keyword">function</span>(<span class="params">sang</span>) &#123;</span><br><span class="line">               <span class="variable language_">console</span>.<span class="title function_">log</span>(sang);</span><br><span class="line"></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">var</span> ldh = <span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;刘德华&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;男&#x27;</span>); <span class="comment">// 调用函数返回的是一个对象</span></span><br><span class="line">       <span class="comment">// console.log(typeof ldh);</span></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(ldh.<span class="property">name</span>);</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(ldh[<span class="string">&#x27;sex&#x27;</span>]);</span><br></pre></td></tr></table></figure><h3 id="2-new关键字内部"><a href="#2-new关键字内部" class="headerlink" title="2. new关键字内部"></a>2. new关键字内部</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// new关键字执行过程</span></span><br><span class="line">        <span class="comment">// 1. new 构造函数可以在内存中创建了一个空的对象 </span></span><br><span class="line">        <span class="comment">// 2. this 就会指向刚才创建的空对象</span></span><br><span class="line">        <span class="comment">// 3. 执行构造函数里面的代码 给这个空对象添加属性和方法</span></span><br><span class="line">        <span class="comment">// 4. 返回这个对象</span></span><br></pre></td></tr></table></figure><h3 id="3-遍历对象"><a href="#3-遍历对象" class="headerlink" title="3. 遍历对象"></a>3. 遍历对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;pink老师&#x27;</span>,</span><br><span class="line">                <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">                <span class="attr">sex</span>: <span class="string">&#x27;男&#x27;</span>,</span><br><span class="line">                <span class="attr">fn</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// for in 遍历我们的对象</span></span><br><span class="line">            <span class="comment">// for (变量 in 对象) &#123;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> k <span class="keyword">in</span> obj) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(k); </span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(obj[k]); </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 我们使用 for in 里面的变量 我们喜欢写 k  或者  key</span></span><br></pre></td></tr></table></figure><h3 id="4-Date对象"><a href="#4-Date对象" class="headerlink" title="4. Date对象"></a>4. Date对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 日期的方法</span></span><br><span class="line">        <span class="keyword">let</span> myDate = <span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line">        <span class="comment">// 获取日期对象</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate)</span><br><span class="line">        <span class="comment">// 可以通过日期对象获取年月日</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">getFullYear</span>())</span><br><span class="line">        <span class="comment">// js从0月开始</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">getMonth</span>())</span><br><span class="line"><span class="comment">// 获取多少号</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">getDate</span>())</span><br><span class="line">        <span class="comment">// 星期几</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">getDay</span>())</span><br><span class="line">        <span class="comment">// 时分秒</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">getHours</span>());</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">getMinutes</span>());</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">getSeconds</span>());</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">getMilliseconds</span>());</span><br><span class="line"><span class="comment">// 获取本地日期</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">toLocaleDateString</span>());</span><br><span class="line"><span class="comment">// 获取本地时间</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">toLocaleString</span>());</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">getDate</span>(<span class="params">date1, date2</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> time1 = <span class="keyword">new</span> <span class="title class_">Date</span>(date1)</span><br><span class="line">            <span class="keyword">let</span> time2 = <span class="keyword">new</span> <span class="title class_">Date</span>(date2)</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(time1)</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(time2)</span><br><span class="line">            <span class="keyword">return</span> (time2 - time1) / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getDate</span>(<span class="string">&quot;2021-7-12&quot;</span>, <span class="string">&quot;2035-7-15&quot;</span>))</span><br></pre></td></tr></table></figure><h3 id="5-for-in-和for-of-的区别"><a href="#5-for-in-和for-of-的区别" class="headerlink" title="5. for in 和for of 的区别"></a>5. for in 和for of 的区别</h3><ul><li><p>for-in只是获取数组的索引；而for-of会获取数组的值</p></li><li><p>for-in会遍历对象的整个原型链，性能差；而for-of只遍历当前对象，不会遍历原型链</p></li><li><p>对于数组的遍历，for-in会返回数组中所有可枚举的属性(包括原型链上可枚举的属性)；for-of只返回数组的下标对应的属性值</p></li><li><p>for-of适用遍历数组／字符串&#x2F;map&#x2F;set等有迭代器对象的集合，但是不能遍历普通对象（obj is not iterable）</p></li></ul><h2 id="九、字符串"><a href="#九、字符串" class="headerlink" title="九、字符串"></a>九、字符串</h2><h3 id="1-字符串的常用方法"><a href="#1-字符串的常用方法" class="headerlink" title="1. 字符串的常用方法"></a>1. 字符串的常用方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字符串的长度                length</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str1.<span class="property">length</span>)</span><br><span class="line">     <span class="comment">// 通过下标获取某个字符       str.charAt()</span></span><br><span class="line">     <span class="keyword">let</span> str5 = <span class="string">&#x27;我是一个字符串&#x27;</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str5.<span class="title function_">charAt</span>(<span class="number">3</span>))</span><br><span class="line">     <span class="comment">// 截取字符串 str.slice()</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str5.<span class="title function_">slice</span>(<span class="number">2</span>, <span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 返回字符串第一次出现的位置  没有出现过返回-1 str.indexOf()</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str5.<span class="title function_">indexOf</span>(<span class="string">&#x27;123&#x27;</span>))</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str5.<span class="title function_">search</span>(<span class="string">&#x27;个&#x27;</span>))</span><br><span class="line">     <span class="comment">// indexOf和search的区别    indexOf只能匹配字符串</span></span><br><span class="line">     <span class="comment">// search可以匹配 正则和字符串</span></span><br><span class="line">     </span><br><span class="line">     <span class="comment">// 替换字符串                  str.replace()</span></span><br><span class="line">     <span class="keyword">let</span> str6 = <span class="string">&#x27;sldjfsljflskjfdslfjdsl&#x27;</span></span><br><span class="line">     <span class="keyword">let</span> str7 = str6.<span class="title function_">replace</span>(<span class="string">&#x27;s&#x27;</span>, <span class="string">&#x27;我的&#x27;</span>)</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str7, str6)</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 分割字符串转化为数组          str.split()</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str6.<span class="title function_">split</span>(<span class="string">&#x27;s&#x27;</span>))</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 表单里面比较重要的的      str.trim()</span></span><br><span class="line">     <span class="keyword">let</span> str8 = <span class="string">&#x27; 我的字符 &#x27;</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str8.<span class="property">length</span>)</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str8.<span class="title function_">trim</span>().<span class="property">length</span>)</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 判断字符串是否有某个字符  str.includes()</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str8.<span class="title function_">includes</span>(<span class="string">&#x27;我&#x27;</span>))</span><br><span class="line">     <span class="comment">// 多一嘴 数组也是一样的方法</span></span><br><span class="line">     <span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">45</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="string">&#x27;123&#x27;</span>, <span class="number">12</span>]</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">includes</span>(<span class="number">123</span>))</span><br></pre></td></tr></table></figure><h2 id="十、正则"><a href="#十、正则" class="headerlink" title="十、正则"></a>十、正则</h2><h3 id="1-正则规则"><a href="#1-正则规则" class="headerlink" title="1. 正则规则"></a>1. 正则规则</h3><table><thead><tr><th align="center">语法</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">i</td><td align="center">忽略大小写</td></tr><tr><td align="center">g</td><td align="center">全局</td></tr><tr><td align="center">\d</td><td align="center">数字 [0-9]</td></tr><tr><td align="center">\w</td><td align="center">[0-9,a-z,A-Z]</td></tr><tr><td align="center">\s</td><td align="center">空格</td></tr><tr><td align="center">\D</td><td align="center">非数字 [^0-9]</td></tr><tr><td align="center">\W</td><td align="center">非单词  【^a-zA-Z0-9】</td></tr><tr><td align="center">\S</td><td align="center">非空格</td></tr><tr><td align="center">\</td><td align="center">转义字符</td></tr></tbody></table><table><thead><tr><th align="center">+</th><th align="center">代表一个或者十多个</th></tr></thead><tbody><tr><td align="center">? {0,1}</td><td align="center">可以有可以没有 可以有0个也可以有1个</td></tr><tr><td align="center">*</td><td align="center">可以没有 有的话可以使无限个</td></tr><tr><td align="center">{n}</td><td align="center">{5}  只能有5个</td></tr><tr><td align="center">{n,m}</td><td align="center">则代表 最少有n个最多有m个</td></tr><tr><td align="center">{n,}</td><td align="center">最少有n个 多则不限</td></tr><tr><td align="center">|   ^  $</td><td align="center">或者 开头 结尾</td></tr><tr><td align="center">&#x2F;^1[3-9]\d{9}$&#x2F;</td><td align="center">开头第一个字符为1 第二个字符为3~9之间  第三个字符0到9的数字一定要有9个就结束了</td></tr></tbody></table><h3 id="2-正则比较"><a href="#2-正则比较" class="headerlink" title="2. 正则比较"></a>2. 正则比较</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// let reg = 手机的规则1开头第二个数字是3到9 然后又9位的数字组成</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^1[3-9]\d&#123;9&#125;$/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 正则作比较的方法 test match</span></span><br><span class="line"><span class="comment">// 1. test()方法</span></span><br><span class="line"><span class="keyword">let</span> phoneNumber = <span class="title function_">prompt</span>(<span class="string">&#x27;请输入一个手机号&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>((reg.<span class="title function_">test</span>(phoneNumber)));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. match()方法</span></span><br><span class="line"><span class="comment">// match 方法 不满足规则的时候 返回空  null 满足则返回数组</span></span><br></pre></td></tr></table></figure><h1 id="DOM总结"><a href="#DOM总结" class="headerlink" title="DOM总结"></a><code>DOM</code>总结</h1><h2 id="一、-获取元素方式"><a href="#一、-获取元素方式" class="headerlink" title="一、 获取元素方式"></a>一、 获取元素方式</h2><h4 id="1-传统获取元素方式"><a href="#1-传统获取元素方式" class="headerlink" title="1. 传统获取元素方式"></a>1. 传统获取元素方式</h4><table><thead><tr><th align="center">方法</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>document.getElementById()</code></td><td align="center">获取指定id的一个第一个对象的引用</td></tr><tr><td align="center"><code>document.getElementsByClassName()</code></td><td align="center">返回文档中所有指定类名的元素集合，作为<code> NodeList</code> 对象</td></tr><tr><td align="center"><code>document.getElementsByTagName()</code></td><td align="center">返回带有指定标签名的对象集合</td></tr><tr><td align="center"><code>document.getElementsByName()</code></td><td align="center">返回带有指定名称的对象集合</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;mydiv&quot;</span>&gt;mydiv&lt;/div&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mydivClass&quot;</span>&gt;</span>mydiv<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;mydivName&quot;</span>&gt;</span>mydiv<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>mydiv<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mydiv2&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;myP&quot;</span>&gt;</span>我是P<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;myP&quot;</span>&gt;</span>我是P<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;myP&quot;</span>&gt;</span>我是P<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是P<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是P<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">//  dom操作 文档对象模型</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// Document Object model</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// 获取dom节点 ：js获取html标签</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> div = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mydiv&#x27;</span>) <span class="comment">//通过id获取dom节点</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> div1 = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;mydivClass&#x27;</span>)  <span class="comment">//通过class获取dom节点</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> div2 = <span class="variable language_">document</span>.<span class="title function_">getElementsByName</span>(<span class="string">&#x27;mydivName&#x27;</span>)  <span class="comment">// 通过name属性获取dom节点</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> div3 = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;div&#x27;</span>)  <span class="comment">//通过标签获取dom节点</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="2-H5新增获取元素方式"><a href="#2-H5新增获取元素方式" class="headerlink" title="2. H5新增获取元素方式"></a>2. <code>H5</code>新增获取元素方式</h4><table><thead><tr><th align="center">方法</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>document.querySelector()</code></td><td align="center">获取得到的是一个节点  如果参数可以选中多个节点 那么返回该选择器匹配的第一个节点</td></tr><tr><td align="center"><code>document.querySelectorAll()</code></td><td align="center">获取得到的是一个集合</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> div4 = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#mydiv2 p&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> div5 = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;#mydiv2 p:not(.myP)&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="3-两种获取元素的区别"><a href="#3-两种获取元素的区别" class="headerlink" title="3. 两种获取元素的区别"></a>3. 两种获取元素的区别</h4><p>区别：</p><ul><li><code>query</code>方法获取元素获取的是静态节点</li><li><code>getElement</code>获取元素获取的是动态节点</li><li>即：<code>getElement</code>获取的节点会随DOM的变化而变化，而<code>query</code>获取之后就不会再改变</li></ul><h2 id="二、-节点操作"><a href="#二、-节点操作" class="headerlink" title="二、 节点操作"></a>二、 节点操作</h2><h4 id="1-获取子节点"><a href="#1-获取子节点" class="headerlink" title="1. 获取子节点"></a>1. 获取子节点</h4><table><thead><tr><th align="center">方法</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>dom.previousElementSibling</code></td><td align="center">获取某个节点的哥哥元素的节点</td></tr><tr><td align="center"><code>dom.nextElementSibling</code></td><td align="center">获取某个节点的弟弟元素的节点</td></tr><tr><td align="center"><code>dom.childNodes</code></td><td align="center">获取所有的子节点</td></tr><tr><td align="center"><code>dom.childElementCount</code></td><td align="center">返回所有的子元素的个数</td></tr><tr><td align="center"><code>dom.firstChild</code></td><td align="center">获取父元素下的第一个子节点</td></tr><tr><td align="center"><code>dom.firstElementChild</code></td><td align="center">获取父元素下的第一个子节点(<code>IE</code>6,7,8不支持)</td></tr><tr><td align="center"><code>dom.lastChild</code></td><td align="center">获取父元素下的最后一个子节点</td></tr><tr><td align="center"><code>dom.lastElementChild</code></td><td align="center">获取父元素下的最后一个子节点(<code>IE</code>6,7,8不支持)</td></tr></tbody></table><h4 id="2-创建节点"><a href="#2-创建节点" class="headerlink" title="2. 创建节点"></a>2. 创建节点</h4><table><thead><tr><th align="center">方法</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>dom.createElement()</code></td><td align="center">创建元素节点</td></tr><tr><td align="center"><code>dom.createTextNode()</code></td><td align="center">创建文本节点</td></tr><tr><td align="center"><code>dom.appendChild()</code></td><td align="center">添加节点</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;mydiv2&quot;</span>&gt;</span><br><span class="line">       <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mydiv3&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;removeMydiv3(this)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">   &lt;/div&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;createDiv()&quot;</span>&gt;</span>点击创建<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 创建节点 createElement() createTextNode()</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">function</span> <span class="title function_">createDiv</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> newP = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;p&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> str = <span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(<span class="string">&#x27;我是新加的&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           newP.<span class="title function_">appendChild</span>(str)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> mydiv1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mydiv1&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           mydiv1.<span class="title function_">appendChild</span>(newP)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="3-删除节点"><a href="#3-删除节点" class="headerlink" title="3. 删除节点"></a>3. 删除节点</h4><table><thead><tr><th align="center">方法</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>dom.removeChild()</code></td><td align="center">删除父元素的子元素节点</td></tr><tr><td align="center"><code>dom.remove()</code></td><td align="center">删除元素节点本身</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">removeDiv</span> () &#123;</span><br><span class="line">      <span class="comment">// 删除节点要通过父元素删除子元素</span></span><br><span class="line">      mydiv2.<span class="title function_">removeChild</span>(mydiv3)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">removeMydiv3</span> (mythis) &#123;</span><br><span class="line">      <span class="keyword">let</span> ziji = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mydiv3&#x27;</span>)</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(mythis)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="4-添加删除-class类"><a href="#4-添加删除-class类" class="headerlink" title="4. 添加删除 class类"></a>4. 添加删除 <code>class</code>类</h4><table><thead><tr><th align="center">方法</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>dom.className  = &#39;class&#39;</code></td><td align="center">覆盖整个class类</td></tr><tr><td align="center"><code>dom.classList.add(&#39;class&#39;)</code></td><td align="center">添加一个class类</td></tr><tr><td align="center"><code>dom.className = &#39;&#39;</code></td><td align="center">删除所有的class</td></tr><tr><td align="center"><code>dom.classList.remove(&#39;class&#39;)</code></td><td align="center">删除指定的class类</td></tr></tbody></table><h4 id="5-添加属性"><a href="#5-添加属性" class="headerlink" title="5. 添加属性"></a>5. 添加属性</h4><p><code>dom.setAttribute(&#39;属性名&#39;,&#39;属性值&#39;)</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img.<span class="title function_">setAttribute</span>(<span class="string">&#x27;src&#x27;</span>,<span class="string">&#x27;./images/close-16x16.png&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="6-添加标签"><a href="#6-添加标签" class="headerlink" title="6. 添加标签"></a>6. 添加标签</h4><p><code>dom.innerHTML()</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mydiv.<span class="property">innerHTML</span> +=  <span class="string">`&lt;div class=&#x27;item&#x27;&gt;<span class="subst">$&#123;name&#125;</span> &lt;img onclick = &#x27;delZiji(this)&#x27; src=&quot;./images/close-16x16.png&quot; alt=&quot;&quot;&gt;&lt;/div&gt;`</span></span><br></pre></td></tr></table></figure><h2 id="三、DOM操作"><a href="#三、DOM操作" class="headerlink" title="三、DOM操作"></a>三、DOM操作</h2><table><thead><tr><th align="center">方法</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>dom.insertBefore()</code></td><td align="center">插入节点；(要插入的节点，插到那里去)</td></tr><tr><td align="center"><code>dom.replaceChild()</code></td><td align="center">替换节点；(新节点，旧节点)</td></tr><tr><td align="center"><code>dom.cloneNode()</code></td><td align="center">克隆节点；(<code>boolen</code>)</td></tr><tr><td align="center"><code>dom.getAttribute()</code></td><td align="center">获取元素属性</td></tr><tr><td align="center"><code>dom.removeAttribute()</code></td><td align="center">移除元素属性</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;p id=<span class="string">&quot;wenzi&quot;</span>&gt;<span class="number">1232131</span>&lt;/p&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mydiv&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">       我是div</span></span><br><span class="line"><span class="language-xml">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span>&gt;</span>我是div1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;insertDiv()&quot;</span>&gt;</span>插入节点<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;replaceDiv()&quot;</span>&gt;</span>替换节点<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;cloneDiv()&quot;</span>&gt;</span>克隆节点<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;getattr()&quot;</span>&gt;</span>获取属性<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;removeAttr()&quot;</span>&gt;</span>删除属性<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;innerDiv()&quot;</span>&gt;</span>html<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"> <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// DOM操作</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 插入节点 insertBefore()</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">function</span> <span class="title function_">insertDiv</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> mydiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mydiv&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> textP = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;wenzi&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> div1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div1&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="comment">// 父元素.insertBefore(要插入的节点，插到那里去)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           mydiv.<span class="title function_">insertBefore</span>(textP, div1)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 替换节点 replaceChild()</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">function</span> <span class="title function_">replaceDiv</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> mydiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mydiv&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> textP = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;wenzi&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> div1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div1&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="comment">// 父元素。replaceChild(新节点，旧节点)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           mydiv.<span class="title function_">replaceChild</span>(textP, div1)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 克隆节点 cloneNode()</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">function</span> <span class="title function_">cloneDiv</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> mydiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mydiv&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> div1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div1&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> div2Node = div1.<span class="title function_">cloneNode</span>(<span class="literal">true</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           mydiv.<span class="title function_">appendChild</span>(div2Node)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 获取元素属性 getAttribute()</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">function</span> <span class="title function_">getattr</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> mydiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mydiv&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="variable language_">console</span>.<span class="title function_">log</span>(mydiv.<span class="title function_">getAttribute</span>(<span class="string">&#x27;id&#x27;</span>))</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 移除元素属性 removeAttribute()</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">function</span> <span class="title function_">removeAttr</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> mydiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mydiv&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           mydiv.<span class="title function_">removeAttribute</span>(<span class="string">&#x27;id&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 其他获取或者是设置属性的方法</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 节点.id  这样可以设置或者是获取id的值</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 节点。src 同理</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 节点。href  同理</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 节点。className 同理</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">function</span> <span class="title function_">innerDiv</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> mydiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mydiv&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           mydiv.<span class="property">innerHTML</span> = <span class="string">&#x27;&lt;p&gt;我是p标签&lt;/p&gt;&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h2 id="四、绑定事件"><a href="#四、绑定事件" class="headerlink" title="四、绑定事件"></a>四、绑定事件</h2><h4 id="1-传统方法绑定"><a href="#1-传统方法绑定" class="headerlink" title="1. 传统方法绑定"></a>1. 传统方法绑定</h4><p><code>dom.事件类型 = function() &#123;&#125;</code></p><h4 id="2-现代方法绑定"><a href="#2-现代方法绑定" class="headerlink" title="2. 现代方法绑定"></a>2. 现代方法绑定</h4><p><code>addEventListener(事件名字，事件处理函数，布尔值)</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 传统方法绑定</span></span><br><span class="line">      <span class="keyword">let</span> div1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div1&#x27;</span>)</span><br><span class="line">      div1.<span class="property">onclick</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">11</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 现代方法绑定</span></span><br><span class="line">      <span class="comment">// addEventListener(事件名字，事件处理函数，布尔值)</span></span><br><span class="line">      <span class="keyword">let</span> div2 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div2&#x27;</span>)</span><br><span class="line">      div2.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">222</span>);</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 区别： 传统绑定会被覆盖只能绑定一次，现代绑定 可以多次绑定</span></span><br></pre></td></tr></table></figure><h4 id="3-区别"><a href="#3-区别" class="headerlink" title="3. 区别"></a>3. 区别</h4><p>传统绑定会被覆盖只能绑定一次，现代绑定 可以多次绑定</p><h4 id="4-常见的事件类型"><a href="#4-常见的事件类型" class="headerlink" title="4. 常见的事件类型"></a>4. 常见的事件类型</h4><table><thead><tr><th align="center">方法</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>onclick</code></td><td align="center">点击事件</td></tr><tr><td align="center"><code>onmousedown</code></td><td align="center">鼠标按下</td></tr><tr><td align="center"><code>onmouseup</code></td><td align="center">鼠标抬起</td></tr><tr><td align="center"><code>onmouseover</code></td><td align="center">鼠标移入</td></tr><tr><td align="center"><code>onmouseout</code></td><td align="center">鼠标移出</td></tr><tr><td align="center"><code>onkeydown</code></td><td align="center">键盘按下</td></tr><tr><td align="center"><code>onkeyup</code></td><td align="center">键盘抬起</td></tr><tr><td align="center"><code>onkeypress</code></td><td align="center">键盘按下（只是监听非功能）</td></tr><tr><td align="center"><code>onscroll</code></td><td align="center">窗口改变事件</td></tr><tr><td align="center"><code>onload</code></td><td align="center">页面加载完毕时间</td></tr></tbody></table><h1 id="BOM总结"><a href="#BOM总结" class="headerlink" title="BOM总结"></a><code>BOM</code>总结</h1><h2 id="一、location对象"><a href="#一、location对象" class="headerlink" title="一、location对象"></a>一、location对象</h2><table><thead><tr><th align="center">方法</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>location.href</code></td><td align="center">返回当前页面的完整的URL地址</td></tr><tr><td align="center"><code>location.search</code></td><td align="center">返回URL后面的参数(类似于”<code>?name = lcy&amp;age=20</code>“)</td></tr><tr><td align="center"><code>location.protocol</code></td><td align="center">返回页面使用的协议(通常是<code>http</code>或<code>https</code>)</td></tr><tr><td align="center"><code>location.host</code></td><td align="center">返回页面的域名及端口号</td></tr><tr><td align="center"><code>location.hostname</code></td><td align="center">返回页面的域名</td></tr><tr><td align="center"><code>location.port</code></td><td align="center">返回页面的端口号</td></tr><tr><td align="center"><code>location.pathname</code></td><td align="center">返回页面中的路径或者文件名</td></tr><tr><td align="center"><code>location.origin</code></td><td align="center">返回URL源地址</td></tr><tr><td align="center"><code>location.hash</code></td><td align="center">返回URL 散列值(#后面的内容)</td></tr></tbody></table><h2 id="二、window对象"><a href="#二、window对象" class="headerlink" title="二、window对象"></a>二、window对象</h2><table><thead><tr><th align="center">方法</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center"><code>window.innerHeight</code></td><td align="center">浏览器的高度</td></tr><tr><td align="center"><code>window.innerWidth</code></td><td align="center">浏览器的宽度</td></tr><tr><td align="center"><code>screenLeft</code></td><td align="center">浏览器距离屏幕的左侧位置</td></tr><tr><td align="center"><code>screenTop</code></td><td align="center">浏览器距离屏幕的上边距位置</td></tr><tr><td align="center"><code>window.document.documentElement.scrollTop</code></td><td align="center">获取滚动条位置。距离顶部</td></tr><tr><td align="center"><code>history.forward()</code></td><td align="center">前进一页</td></tr><tr><td align="center"><code>history.back()</code></td><td align="center">后退一页</td></tr></tbody></table><h1 id="JS高级总结"><a href="#JS高级总结" class="headerlink" title="JS高级总结"></a>JS高级总结</h1><h2 id="1-IIFE"><a href="#1-IIFE" class="headerlink" title="1. IIFE"></a>1. IIFE</h2><p>概述：自运行匿名函数，该函数在值创建后就会自动运行，不需要调用也无法调用，生命周期只有一次。</p><p>特点：函数执行完毕后就会销毁，不会污染区全局。只执行一次。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params">a</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">    &#125;)(<span class="string">&#x27;自运行函数&#x27;</span>) <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><h2 id="2-递归函数"><a href="#2-递归函数" class="headerlink" title="2. 递归函数"></a>2. 递归函数</h2><p>概述：在函数内部通过名字调用自己本身的一种场景。满足一定的条件就必须停止函数的调用，否则容易陷入死循环。</p><p>应用：阶乘，树形菜单，省市区级联选择</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 递归从 1 成到 10  </span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">add</span> (n) &#123;</span><br><span class="line">      <span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> n * <span class="title function_">add</span>(n - <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> a = <span class="title function_">add</span>(<span class="number">10</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 3628800</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 相当于 return 10*9*8*7*6*5*4*3*2*1</span></span><br></pre></td></tr></table></figure><h2 id="3-惰性载入"><a href="#3-惰性载入" class="headerlink" title="3. 惰性载入"></a>3. 惰性载入</h2><p>概述：主要用来减少代码每次执行时的重复性分支判断，通过对对象的重新定义来屏蔽原来的对象的分支判断。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> event = &#123;</span><br><span class="line">      <span class="attr">on</span>: <span class="keyword">function</span> (<span class="params">dom, type, fn</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;先判断浏览器&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">addEventListener</span>) &#123; <span class="comment">// 现代浏览器</span></span><br><span class="line">          <span class="comment">// 判断浏览器后就应该重写 event.on</span></span><br><span class="line">          event.<span class="property">on</span> = <span class="keyword">function</span> (<span class="params">dom, type, fn</span>) &#123;</span><br><span class="line">            dom.<span class="title function_">addEventListener</span>(type, fn, <span class="literal">false</span>)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">attachEvent</span>) &#123; <span class="comment">// 高版本IE</span></span><br><span class="line">          event.<span class="property">on</span> = <span class="keyword">function</span> (<span class="params">dom, type, fn</span>) &#123;</span><br><span class="line">            dom.<span class="title function_">attachEvent</span>(<span class="string">&#x27;on&#x27;</span> + type, fn)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">// 兼容所有写法</span></span><br><span class="line">          event.<span class="property">on</span> = <span class="keyword">function</span> (<span class="params">dom, type, fn</span>) &#123;</span><br><span class="line">            dom[<span class="string">&#x27;on&#x27;</span> + type] = fn</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 保证首次调用能正常监听</span></span><br><span class="line">        <span class="keyword">return</span> event.<span class="title function_">on</span>(dom, type, fn)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加事件</span></span><br><span class="line">    event.<span class="title function_">on</span>(btn1, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;btn1被点击了&#x27;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    event.<span class="title function_">on</span>(btn2, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;btn2被点击了&#x27;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    event.<span class="title function_">on</span>(btn3, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;btn3被点击了&#x27;</span>);</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><h2 id="4-作用域"><a href="#4-作用域" class="headerlink" title="4. 作用域"></a>4. 作用域</h2><p>变量和函数所在的作用范围，离开这个范围就无法使用。</p><p><strong>JS执行环境</strong>：</p><p>执行环境也成为执行上下文，在程序运行的时候，会生成一个管理函数和变量的对象，他决定了变量和函数的生命周期，以及访问其他数据的权限。</p><p><strong>全局执行环境</strong>：</p><p>最外围的执行环境，任何不在函数中的代码都在全局只想上下文中、</p><p><strong>函数执行环境</strong></p><p>每当一个函数被调用的时候，都会为该函数创建一个全新的上下文环境并推入执行栈中，在代码执行完毕后，将该环境弹出（即销毁）。</p><p>根据执行环境划分作用域</p><ul><li>全局作用域：在函数外部分代码，在任意地方都可以使用</li><li>函数作用域：只有在函数被定义是才会创建，饱汉子啊父级函数作用域&#x2F;全局作用域内</li><li>块级作用域：&#96;&#96;ES6<code>可以通过 </code>let<code> 、</code>const&#96; 关键字声明变量，就有可能形成块级作用域。</li></ul><p>由于作用域的限制，每段独立的执行代码块只能访问自己作用域和外层作用域中的变量，无法访问内层作用域的变量。</p><p><code>作用域链</code>：当可执行代码内部访问变量时，会先查找本地作用域，如果找到目标变量及返回，否则会去父级作用域继续查找。。。一直找到全局作用域。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">3</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span> () &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 3</span></span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">4</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>() <span class="comment">// 执行完成函数被销毁</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// not defined </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">3</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span> () &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 3</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 初始化前无法访问</span></span><br><span class="line">    <span class="keyword">let</span> b = <span class="number">4</span> <span class="comment">// 不会进行预解析 变量提升</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="title function_">fn</span>() <span class="comment">// 执行完成函数被销毁</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// not defined</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i); <span class="comment">// 0 1 2 3 4 </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i); <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(j, <span class="string">&#x27;内部&#x27;</span>); <span class="comment">// 0 1 2 3 4 </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(j, <span class="string">&#x27;外部&#x27;</span>); <span class="comment">// not defined</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 作用域链</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">5</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span> () &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 5</span></span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">3</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">bar</span> () &#123;</span><br><span class="line">        <span class="keyword">var</span> b = <span class="number">2</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 2</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">bar</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">foo</span>()</span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br></pre></td></tr></table></figure><h2 id="5-闭包-计算属性"><a href="#5-闭包-计算属性" class="headerlink" title="5. 闭包(计算属性)"></a>5. 闭包(计算属性)</h2><p>概述：闭包是指嵌套在一个函数内部中的函数。一般情况下函数内可以访问函数外的变量，但是函数外无法访问函数内的变量，但是通过必报这个手段就可以在函数外访问函数内部的变量。</p><p><code>特点</code>：</p><ul><li>函数嵌套函数</li><li>内层函数访问了外层函数的局部变量，导致该变量常驻内存</li><li>将内部函数暴露出去(return或者window)，实现函数外访问函数内的变量</li></ul><p><code>作用</code>：</p><ul><li>延长变量的生命周期</li><li>创建私有变量</li></ul><p><code>问题</code>：</p><p>一般函数运行结束后，内部产生的函数和变量都会被释放，所以每次运行函数都是全新的。</p><p>但是由于使用闭包后，会导致函数中部分的变量保留到内存中，会增加内存的消耗，所以闭包不能乱用。</p><p>实现手段：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// window暴露在全局</span></span><br><span class="line">    (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> a = <span class="number">100</span> <span class="comment">// 外层函数的局部变量</span></span><br><span class="line"></span><br><span class="line">      <span class="variable language_">window</span>.<span class="property">getA</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">window</span>.<span class="property">addA</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        a++</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)()</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getA</span>()); <span class="comment">// 100</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// return 暴露在全局</span></span><br><span class="line">    <span class="keyword">const</span> game = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> a = <span class="number">100</span> <span class="comment">// 外层函数的局部变量</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;)()</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">game</span>()); <span class="comment">// 100</span></span><br></pre></td></tr></table></figure><h3 id="5-1-封装一个缓存工具"><a href="#5-1-封装一个缓存工具" class="headerlink" title="5.1 封装一个缓存工具"></a>5.1 封装一个缓存工具</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createCache</span> () &#123;</span><br><span class="line">    <span class="keyword">const</span> data = &#123;&#125; <span class="comment">// 局部变量，外部无法访问</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        set (key,val) &#123;</span><br><span class="line">            data[key] = val</span><br><span class="line">        &#125;,</span><br><span class="line">        get (key) &#123;</span><br><span class="line">            <span class="keyword">return</span> data[key]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> cache = <span class="title function_">createCache</span>()</span><br><span class="line">cache.<span class="title function_">set</span>(<span class="string">&#x27;token&#x27;</span>,<span class="string">&#x27;qwer&#x27;</span>)  <span class="comment">// qwer</span></span><br><span class="line">cache.<span class="title function_">set</span>(<span class="string">&#x27;user&#x27;</span>,<span class="string">&#x27;admin&#x27;</span>) <span class="comment">// admin</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(data) not defined</span><br></pre></td></tr></table></figure><h3 id="5-2-计算属性-简易原理"><a href="#5-2-计算属性-简易原理" class="headerlink" title="5.2 计算属性 简易原理"></a>5.2 计算属性 简易原理</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实现一个首字母大写</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">toUpper</span> (str) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;计算过程复杂&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> str.<span class="title function_">charAt</span>(<span class="number">0</span>).<span class="title function_">toUpperCase</span>() + str.<span class="title function_">substr</span>(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 缓存函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">cached</span> (fn) &#123;</span><br><span class="line">    <span class="keyword">const</span> cache = &#123;&#125; <span class="comment">// 缓存数据</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">str</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> hit = cache[str] <span class="comment">// 从缓存中取出数据</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 如果该字符串第一次执行，那么执行 cache[str] = fn(str)</span></span><br><span class="line">        <span class="keyword">return</span> hit || (cache[str] = <span class="title function_">fn</span>(str))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用缓存函数</span></span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">cached</span>(toUpper)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result); <span class="comment">// function</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">result</span>(<span class="string">&#x27;helloWord&#x27;</span>)); <span class="comment">// HelloWord</span></span><br><span class="line"><span class="title function_">result</span>(<span class="string">&#x27;helloWord&#x27;</span>)</span><br><span class="line"><span class="title function_">result</span>(<span class="string">&#x27;helloWord&#x27;</span>)</span><br><span class="line"><span class="title function_">result</span>(<span class="string">&#x27;helloWord&#x27;</span>)</span><br><span class="line"><span class="title function_">result</span>(<span class="string">&#x27;helloWord&#x27;</span>)</span><br><span class="line"><span class="title function_">result</span>(<span class="string">&#x27;helloWord&#x27;</span>) <span class="comment">// 只打印一次 计算过程复杂</span></span><br></pre></td></tr></table></figure><h3 id="5-3-任务队列"><a href="#5-3-任务队列" class="headerlink" title="5.3 任务队列"></a>5.3 任务队列</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 所有的任务都必须排队，先进先出，即必须等到上一个任务完成，才能开始下一个任务</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">queue</span> () &#123;</span><br><span class="line">    <span class="keyword">const</span> awaiting = [] <span class="comment">// 任务队列</span></span><br><span class="line">    <span class="keyword">let</span> isRunning = <span class="literal">false</span> <span class="comment">// 当亲是否有任务正在执行</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">done</span> (task, resolve, reject) &#123;</span><br><span class="line">        <span class="title function_">task</span>()</span><br><span class="line">            .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123; <span class="comment">// 成功</span></span><br><span class="line">            <span class="title function_">resolve</span>(res)</span><br><span class="line">        &#125;)</span><br><span class="line">            .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123; <span class="comment">// 失败</span></span><br><span class="line">            <span class="title function_">reject</span>(err)</span><br><span class="line">        &#125;)</span><br><span class="line">            .<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123; <span class="comment">// 最终</span></span><br><span class="line">            <span class="comment">// 等待任务队列,如果队列中有任务则触发，否则设置 isRunning 为false ，表示任务处理完毕 </span></span><br><span class="line">            <span class="keyword">if</span> (awaiting.<span class="property">length</span>) &#123;</span><br><span class="line">                <span class="keyword">const</span> next = awaiting.<span class="title function_">shift</span>() <span class="comment">// 最开始进入数组的元素，肯定排在最前面</span></span><br><span class="line">                <span class="title function_">done</span>(next.<span class="property">task</span>, next.<span class="property">resolve</span>, next.<span class="property">reject</span>)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                isRunning = <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">task</span>) &#123; <span class="comment">// 接受task作为参数</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (isRunning) &#123;</span><br><span class="line">                awaiting.<span class="title function_">push</span>(&#123; task, resolve, reject &#125;)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                isRunning = <span class="literal">true</span></span><br><span class="line">                <span class="title function_">done</span>(task, resolve, reject) <span class="comment">// 执行任务</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 任务1</span></span><br><span class="line"><span class="keyword">const</span> task1 = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;task1&#x27;</span>)</span><br><span class="line">        &#125;, <span class="number">3000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 任务2</span></span><br><span class="line"><span class="keyword">const</span> task2 = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;task2&#x27;</span>)</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 任务3</span></span><br><span class="line"><span class="keyword">const</span> task3 = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;task3&#x27;</span>)</span><br><span class="line">        &#125;, <span class="number">0</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myQueue = <span class="title function_">queue</span>()</span><br><span class="line"><span class="comment">// 先完成任务1，在完成任务2</span></span><br><span class="line"><span class="title function_">myQueue</span>(task1).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(res))</span><br><span class="line"><span class="title function_">myQueue</span>(task2).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(res))</span><br><span class="line"><span class="title function_">myQueue</span>(task3).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(res))</span><br></pre></td></tr></table></figure><h3 id="5-4-闭包案例"><a href="#5-4-闭包案例" class="headerlink" title="5.4 闭包案例"></a>5.4 闭包案例</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span> (i) &#123;</span><br><span class="line">    <span class="keyword">var</span> i;</span><br><span class="line">    <span class="title function_">alert</span>(i);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">a</span>(<span class="number">10</span>); <span class="comment">// 弹框10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span> (i) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(i); <span class="comment">// 弹框10</span></span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">arguments</span>[<span class="number">0</span>]); <span class="comment">// 弹框10</span></span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">2</span>;</span><br><span class="line">    <span class="title function_">alert</span>(i); <span class="comment">// 弹框2</span></span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">arguments</span>[<span class="number">0</span>]); <span class="comment">// 弹框2</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">a</span>(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. </span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span> () &#123;</span><br><span class="line">    <span class="title function_">alert</span>(i); <span class="comment">// 弹框undefined</span></span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">2</span>;</span><br><span class="line">    <span class="title function_">alert</span>(i); <span class="comment">// 弹框2</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">a</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. </span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span> () &#123;</span><br><span class="line">    <span class="title function_">alert</span>(i); <span class="comment">// 弹框10</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">b</span> () &#123;</span><br><span class="line">        <span class="keyword">var</span> i = <span class="number">2</span>;</span><br><span class="line">        <span class="title function_">alert</span>(i); <span class="comment">// 弹框2</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">b</span>();</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">a</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 5. </span></span><br><span class="line"><span class="keyword">var</span> scope = <span class="string">&quot;global scope&quot;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkscope</span> () &#123;</span><br><span class="line">    <span class="keyword">var</span> scope = <span class="string">&quot;local scope&quot;</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">f</span> () &#123;</span><br><span class="line">        <span class="keyword">return</span> scope;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">f</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">checkscope</span>(); <span class="comment">// local scope</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkscope2</span> () &#123;</span><br><span class="line">    <span class="keyword">var</span> scope = <span class="string">&quot;local scope&quot;</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">f</span> () &#123;</span><br><span class="line">        <span class="keyword">return</span> scope;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">checkscope2</span>()(); <span class="comment">// local scope</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 6. </span></span><br><span class="line"><span class="keyword">var</span> uniqueInteger = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> counter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> counter++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;());</span><br><span class="line"><span class="title function_">uniqueInteger</span>(); <span class="comment">// 0 先返回再+1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">counter</span> () &#123;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">count</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="keyword">return</span> n++ &#125;,</span><br><span class="line">        <span class="attr">reset</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; n = <span class="number">0</span>; &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> c = <span class="title function_">counter</span>();</span><br><span class="line"><span class="keyword">var</span> d = <span class="title function_">counter</span>();</span><br><span class="line">c.<span class="title function_">count</span>(); <span class="comment">// 0</span></span><br><span class="line">d.<span class="title function_">count</span>(); <span class="comment">// 0</span></span><br><span class="line">c.<span class="title function_">reset</span>(); <span class="comment">// undefined</span></span><br><span class="line">c.<span class="title function_">count</span>(); <span class="comment">// 0</span></span><br><span class="line">d.<span class="title function_">count</span>(); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 7. </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">constfunc</span> (v) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> v;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> funcs = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    funcs[i] = <span class="title function_">constfunc</span>(i);</span><br><span class="line">&#125;</span><br><span class="line">funcs[<span class="number">5</span>]();<span class="comment">//值是多少？// 5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">constfunc</span> () &#123;</span><br><span class="line">    <span class="keyword">var</span> funcs = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">        funcs[i] = <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="keyword">return</span> i; &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> funcs;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> funcs = <span class="title function_">constfunc</span>();</span><br><span class="line">funcs[<span class="number">5</span>]();<span class="comment">// 值是多少？// 10 全局环境为10</span></span><br></pre></td></tr></table></figure><h2 id="6-内存泄漏"><a href="#6-内存泄漏" class="headerlink" title="6. 内存泄漏"></a>6. 内存泄漏</h2><p><code>概述</code>：<code>JS</code>创建变量时会给变量分配内存，对于不再使用的变量没有及时释放，会导致内存占用越来越高，有时候会导致进程崩溃。(全局变量、闭包、DOM元素的引用、定时器)</p><p><code>原因</code>：内存泄漏是指我们无法通过JS访问某个对象，而垃圾回收机制却认为该对象还在被引用，因此垃圾回收机制不会释放该对象，导致该块内存永远无法使用，积少成多，系统会越来越卡以至于崩溃。</p><p><code>解决</code>：避免使用全局变量，手动删除定时器和DOM、<code>removeEventListener</code>移除事件监听。</p><h2 id="7-垃圾回收机制"><a href="#7-垃圾回收机制" class="headerlink" title="7. 垃圾回收机制"></a>7. 垃圾回收机制</h2><p><code>概述</code>：当浏览器中不再使用的变量，浏览器就会自动将他们回收，这个过程成为垃圾回收。</p><p><code>标记清除法</code>：垃圾回收机制获取根节点并标记他们，然后访问并标记所有来自它们的引用，然后在访问这些对象并标记它们的引用…如此递进结束后若发现有没有标记的（不可达的）进行删除，进入执行环境的不能进行删除</p><p><code>引用计数法</code>：当声明一个变量并赋值时，值+1，当该值被取代时-1，为0时进行删除。</p><h2 id="8-浅拷贝和深拷贝"><a href="#8-浅拷贝和深拷贝" class="headerlink" title="8. 浅拷贝和深拷贝"></a>8. 浅拷贝和深拷贝</h2><p><code>浅拷贝</code>：只会拷贝第一层，若第一层的属性还是对象或者数组，也是直接拷贝地址。改变新数据会使原数据也跟着改变。</p><p><code>方法</code>：<code>扩展运算符... </code> <code>Object.assign()</code>  <code>Array.map()</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;jack&#x27;</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;john&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123; ...obj1 &#125;</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="keyword">var</span> obj <span class="number">2</span> = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;,obj1)\</span><br><span class="line"></span><br><span class="line">obj1.<span class="property">age</span> = <span class="number">18</span></span><br><span class="line">obj1.<span class="property">children</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;lily&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1, obj2); </span><br></pre></td></tr></table></figure><p><code>深拷贝</code>：在内存中重新开辟一块空间，将原数据拷贝一份存入，与原数据无关联。</p><p><code>方法</code>:<code>JSON.parse(JSON.stringify())</code> <code>lodash</code>的<code>_.cloneDeep()</code>  <code>递归遍历</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;jack&#x27;</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;john&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj2 = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj1)) <span class="comment">// 无法拷贝undefined,方法</span></span><br><span class="line">obj1.<span class="property">age</span> = <span class="number">18</span></span><br><span class="line">obj1.<span class="property">children</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;lily&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1, obj2);</span><br></pre></td></tr></table></figure><h2 id="9-堆和栈"><a href="#9-堆和栈" class="headerlink" title="9. 堆和栈"></a>9. 堆和栈</h2><p><code>概述</code>：堆和栈都是运行时内存分配的一个数据区域，两者都是临时存放数据的地方。</p><p><code>基本数据类型</code>：所有的值都保存在内存中，访问的方式是按值访问。</p><p>基本数据类型的值被复制的时候，会在栈中创建一个新值，然后把值复制到新变量分配的位置上，两个值互不影响。</p><p><code>引用数据类型</code>：引用数据类型的值是保存在堆内存中的，变量中保存的是一个指针，该指针放在栈中，直接复制的时候，两者互相影响。</p><h2 id="10-面向对象"><a href="#10-面向对象" class="headerlink" title="10. 面向对象"></a>10. 面向对象</h2><p>面向过程：以过程为中心</p><p>面向对象：以事物为中心</p><p>方法过载：在构造函数直接创建的方法，在实例化所有的对象都会拥有一个独立的方法，不同的对象的同一个方法在不同的对空间中，导致浪费内存。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方式一</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title class_">Object</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式二</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;jack&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式三 工厂函数</span></span><br><span class="line"><span class="comment">// 每次调用工厂函数都会在内部创建一个对昂，每一个对象都是一个全新的对象，各个对象之间没有任何的关系</span></span><br><span class="line"><span class="keyword">function</span> stu（name,age) &#123;</span><br><span class="line">    <span class="keyword">let</span> obj = &#123;&#125;</span><br><span class="line">    obj.<span class="property">name</span> = name</span><br><span class="line">    obj.<span class="property">age</span> = age</span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> s1 = <span class="title function_">stu</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式四 构造函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Stu</span> (name,age) &#123;</span><br><span class="line">    <span class="comment">// 隐藏代码：let obj = &#123;&#125;</span></span><br><span class="line">    <span class="comment">// 隐藏代码：this = obj</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sayHi</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// return this</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> s1 = <span class="keyword">new</span> <span class="title class_">Stu</span>(<span class="string">&#x27;jack&#x27;</span>,<span class="number">18</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 原型</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Stu</span> (name,age) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Stu</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayHi</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hi&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> s1 = <span class="keyword">new</span> <span class="title class_">Stu</span>(<span class="string">&#x27;jack&#x27;</span>,<span class="number">18</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="10-1-封装"><a href="#10-1-封装" class="headerlink" title="10.1 封装"></a>10.1 封装</h3><p>概述：通过封装可以实现隐藏对象内部实现的细节，然后对外提供一致的接口</p><p>意义：1. 将不需要公开的数据进行私有化处理，外部就无法直接访问</p><pre><code>      2. 可以提供一些特权方法对属性进行访问或者处理</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> _age = <span class="title class_">Symbol</span>()</span><br><span class="line">    <span class="keyword">var</span> _name = <span class="title class_">Symbol</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造函数，ES5的类</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">User</span> (name, age, sex) &#123;</span><br><span class="line">        <span class="variable language_">this</span>[_name] = name <span class="comment">// 私有属性 Symbol()独一无二</span></span><br><span class="line">        <span class="variable language_">this</span>[_age] = age</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">sex</span> = sex</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">getName</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> _name</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">setName</span> = <span class="keyword">function</span> (<span class="params">newName</span>) &#123;</span><br><span class="line">            _name = newName</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title class_">User</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getAge</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">sex</span> === <span class="string">&#x27;女&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;保密&#x27;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>[_age]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 静态属性</span></span><br><span class="line">    <span class="title class_">User</span>.<span class="property">version</span> = <span class="string">&#x27;1.0.0&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 暴露</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">User</span> = <span class="title class_">User</span></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> u1 = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;jack&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;女&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> u2 = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;chou&#x27;</span>, <span class="number">38</span>, <span class="string">&#x27;男&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(u1.<span class="title function_">getAge</span>()); <span class="comment">// 保密</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(u2.<span class="title function_">getAge</span>()); <span class="comment">// 38</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(u2.<span class="property">name</span>); <span class="comment">// undefined</span></span><br><span class="line">u2.<span class="title function_">setName</span>(<span class="string">&#x27;曹操&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(u2.<span class="title function_">getName</span>()); <span class="comment">// 曹操</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(u1);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="10-2-继承"><a href="#10-2-继承" class="headerlink" title="10.2 继承"></a>10.2 继承</h3><p>概述：将多个构造函数中的类似代码提取出来，从而减少冗余代码的目的</p><p>意义：1. 子类实例化的对象必须拥有弗雷所有的属性和方法</p><p>​  2. 子类实例化的对象也要属于父类</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父级构造函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Father</span> (name, age) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Father</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayHi</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27;hi&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 构造函数继承   会独享所有属性，包括引用属性（重点是函数）</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span> (name, age, className) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">className</span> = className</span><br><span class="line"></span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">// 实例化</span></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&#x27;李白&#x27;</span>, <span class="number">18</span>)</span><br><span class="line">s1.<span class="title function_">sayHi</span>() <span class="comment">// not a function</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1.<span class="property">name</span>); 李白</span><br><span class="line">    </span><br><span class="line"> <span class="comment">//2.  原型继承  类的实例共享了父类构造函数的引用属性 </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span> (name, age, className) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">className</span> = className</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Father</span>()</span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Son</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 实例化</span></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&#x27;李白&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;高三1班&#x27;</span>)</span><br><span class="line">s1.<span class="title function_">sayHi</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1); </span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 组合式继承  调用了两次父类的构造函数，造成了不必要的消耗，父类方法可以复用</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span> (name, age, className) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">className</span> = className</span><br><span class="line">    <span class="comment">// 第一步、更改this指向 实现继承父类所有的属性和方法</span></span><br><span class="line">    <span class="title class_">Father</span>.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二步、继承父类原型上的属性和方法</span></span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Father</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第三步、找回子类的构造函数</span></span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Son</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 实例化</span></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&#x27;李白&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;高三1班&#x27;</span>)</span><br><span class="line">s1.<span class="title function_">sayHi</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 寄生组合继承</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span> (name, age, course) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">course</span> = course</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 第一步 子类继承父类的所有的属性和方法</span></span><br><span class="line">    <span class="title class_">Father</span>.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二步 子类继承父类原型方法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">inheritance</span> (<span class="title class_">Child</span>, <span class="title class_">Father</span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">F</span> () &#123; &#125;</span><br><span class="line">    F.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Father</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line">    <span class="title class_">Child</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title function_">F</span>() <span class="comment">// F 是空函数 几乎不占据内存</span></span><br><span class="line">    <span class="title class_">Child</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Child</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">inheritance</span>(<span class="title class_">Son</span>, <span class="title class_">Father</span>) <span class="comment">// 调用后实现继承</span></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&#x27;jack&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;js&#x27;</span>)</span><br><span class="line">s1.<span class="title function_">sayHi</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 5. class 继承</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123; <span class="comment">// 子类继承父类</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, age, className</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(name, age) <span class="comment">// 子类构造必须调用 super , 理解为父类的构造函数</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">className</span> = className</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&#x27;lucy&#x27;</span>, <span class="number">12</span>, <span class="string">&#x27;三年级一班&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1);</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vue</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">            <span class="attr">msg</span>: <span class="string">&#x27;hi&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    get fn () &#123; <span class="comment">// 当访问实例的fn属性时，会触发该方法，必须设置返回值</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">msg</span></span><br><span class="line">    &#125;</span><br><span class="line">    set fn (newVal) &#123; <span class="comment">// 当修改实例的fn属性时，就会触发该方法</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">msg</span> = newVal</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vue = <span class="keyword">new</span> <span class="title class_">Vue</span>()</span><br><span class="line">vue.<span class="property">fn</span> = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(vue.<span class="property">fn</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="10-3-多态"><a href="#10-3-多态" class="headerlink" title="10.3 多态"></a>10.3 多态</h3><p>概述：方法可以根据传递的参数类型、参数个数等进行区别，然后返回不同的结果</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 多态</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Father</span> () &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">show</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;这是父级&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span> () &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">show</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;这是子级&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">input</span> (obj) &#123;</span><br><span class="line">    obj.<span class="title function_">show</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">input</span>(<span class="keyword">new</span> <span class="title class_">Father</span>)</span><br><span class="line"><span class="title function_">input</span>(<span class="keyword">new</span> <span class="title class_">Son</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="11-New关键字"><a href="#11-New关键字" class="headerlink" title="11. New关键字"></a>11. New关键字</h2><ul><li>自动创建了一个空对象</li><li>修改函数的上下文为空对象，其函数内部的 this 表示该空对象</li><li>执行函数体，为该对象添加属性及方法</li><li>如果没有返回其他对象，name会自动返回创建的空对象</li></ul><h2 id="12-原型"><a href="#12-原型" class="headerlink" title="12. 原型"></a>12. 原型</h2><p>概述：在<code>JS</code>中，每一个函数都有一个<code>prototype</code>属性，这个属性其实也是一个指针(地址)，会指向函数的原型对象，原型队形上所有的属性和方法都可以被实例共享。</p><p>作用：解决方法过载的问题，对类的功能进行扩展。</p><p><code>__proto___</code>：每一个实例对象都有一个该属性，会指向它的构造函数的源相对向上。</p><p><code>constructor</code>：每一个原型对象都有一个<code>constructor</code>属性，该属性指向构造函数</p><h3 id="12-1-原型链"><a href="#12-1-原型链" class="headerlink" title="12.1 原型链"></a>12.1 原型链</h3><p>概述：当访问对象属性的时候，如果对象本身不存在该属性，那么就会在原型对象上查找该属性，如果原型对象上也没有，就会在原型对象的原型上查找，如此循环，指导找到该属性或者达到顶级。对象查找属性的过程所经过的过程构成一个链条，称为原型链。</p><h2 id="13-this"><a href="#13-this" class="headerlink" title="13. this"></a>13. this</h2><h3 id="13-1-概述"><a href="#13-1-概述" class="headerlink" title="13.1 概述"></a>13.1 概述</h3><p>在函数被调用时，会创建一个活动记录(执行上下文)，这个记录会包含函数在哪里调用(调用栈)。函数调用的名字、函数参数等信息，而this就是这个上下文中的一个属性，会在函数执行的过程中用到，在非严格模式下总是会指向一个对象，严格模式下可以是任意值。他指向最后调用他的对象。</p><h3 id="13-2-this指向"><a href="#13-2-this指向" class="headerlink" title="13.2 this指向"></a>13.2 this指向</h3><h4 id="1-默认绑定"><a href="#1-默认绑定" class="headerlink" title="1. 默认绑定"></a>1. 默认绑定</h4><p>在严格模式下绑定到<code>undefined</code>，非严格模式下绑定到全局对象<code>window</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="comment">// &#x27;use strict&#x27;; // 严格模式</span></span><br><span class="line"><span class="variable language_">console</span>,<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// window</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">foo</span>() <span class="comment">// foo 函数调用者是window</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="2-隐式绑定"><a href="#2-隐式绑定" class="headerlink" title="2. 隐式绑定"></a>2. 隐式绑定</h4><p>当函数引用有上下文对象时，则会把函数中的<code>this</code>绑定到这个上下文对象。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;jack&#x27;</span>,</span><br><span class="line"><span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="title function_">sayHi</span>() <span class="comment">// obj</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-构造函数的this"><a href="#3-构造函数的this" class="headerlink" title="3. 构造函数的this"></a>3. 构造函数的this</h3><p>当函数通过<code>new</code>关键字调用，函数内部的<code>this</code>指向新创建的对象</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Student</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="title class_">Student</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayHi</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> s = <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">      <span class="comment">// s.name</span></span><br><span class="line">      <span class="comment">// s.sayHi()</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="4-显示绑定"><a href="#4-显示绑定" class="headerlink" title="4. 显示绑定"></a>4. 显示绑定</h3><p>使用<code>call</code>、<code>bind</code>、<code>apply</code>来指定<code>this</code>指向。</p><h4 id="4-1-fn-calll-obj-参数1，参数2，"><a href="#4-1-fn-calll-obj-参数1，参数2，" class="headerlink" title="4.1 fn.calll(obj,参数1，参数2，...)"></a>4.1 <code>fn.calll(obj,参数1，参数2，...)</code></h4><p>将<code>fn</code>中的<code>this</code>指向<code>call</code>的第一个参数。</p><ul><li><p>会立即执行一次<code>fn</code>方法</p></li><li><p><code>fn</code>中的<code>this</code>临时性修改为<code>obj</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;周瑜&#x27;</span>,</span><br><span class="line">      <span class="title function_">phone</span>(<span class="params">h</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27;给小乔打&#x27;</span> + h + <span class="string">&#x27;个小时的电话&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// p1.phone();</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> p2 = &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;曹操&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    p1.<span class="property">phone</span>.<span class="title function_">call</span>(p2, <span class="number">10</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h4 id="4-2-fn-apply-obj-参数1，参数2，参数3"><a href="#4-2-fn-apply-obj-参数1，参数2，参数3" class="headerlink" title="4.2 fn.apply(obj,[参数1，参数2，参数3...])"></a>4.2 <code>fn.apply(obj,[参数1，参数2，参数3...])</code></h4><p>作用与call完全相同，只是传递参数的方式发生改变。</p><h4 id="4-3-fn-bind-obj-参数1"><a href="#4-3-fn-bind-obj-参数1" class="headerlink" title="4.3 fn.bind(obj,参数1)"></a>4.3 <code>fn.bind(obj,参数1)</code></h4><p>永久性的修改函数中<code>this</code>的指向，一般用在回调函数中。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p2 = &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;曹操&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> p1 = &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;周瑜&#x27;</span>,</span><br><span class="line">      <span class="title function_">phone</span>(<span class="params">h</span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27;给小乔打&#x27;</span> + h + <span class="string">&#x27;个小时的电话&#x27;</span>);</span><br><span class="line">        &#125;.<span class="title function_">bind</span>(p2), <span class="number">0</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    p1.<span class="title function_">phone</span>(<span class="number">1</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="4-4-总结"><a href="#4-4-总结" class="headerlink" title="4.4 总结"></a>4.4 总结</h4><ul><li>call、apply都是立即执行一次</li><li>bind被动执行</li><li>bind会永久性修改this指向</li><li>call和apply的区别在于 参数传递</li></ul><h3 id="5-箭头函数"><a href="#5-箭头函数" class="headerlink" title="5. 箭头函数"></a>5. 箭头函数</h3><p>箭头函数没有<code>this</code>的绑定，只能通过箭头函数所在的作用域来决定他的值，所以箭头函数中的<code>this</code>始终指向你定义函数时<code>this</code>的指向。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;章三&#x27;</span>,</span><br><span class="line">      <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">        &#125;, <span class="number">0</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    obj.<span class="title function_">sayHi</span>();</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="14-JS的设计模式（原理）"><a href="#14-JS的设计模式（原理）" class="headerlink" title="14. JS的设计模式（原理）"></a>14. JS的设计模式（原理）</h2><h3 id="14-1-简单工厂模式"><a href="#14-1-简单工厂模式" class="headerlink" title="14.1 简单工厂模式"></a>14.1 简单工厂模式</h3><p>概述：为了解决多个类似对象声明的问题</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">UserFactory</span> (role) &#123;</span><br><span class="line">     <span class="keyword">if</span>(<span class="variable language_">this</span> <span class="keyword">instanceof</span> <span class="title class_">UserFactory</span>) &#123; <span class="comment">// 判断是否使用new关键词进行调用</span></span><br><span class="line">     <span class="keyword">if</span>(!<span class="variable language_">this</span>[role]) &#123; <span class="comment">// 参数传递是否正确</span></span><br><span class="line">     <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Erroe</span>(<span class="string">&#x27;参数错误，可选参数为 SuperAdmin,Admin,User&#x27;</span>)</span><br><span class="line">     &#125;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">new</span> <span class="variable language_">this</span>[role]()</span><br><span class="line">     &#125;<span class="keyword">else</span> &#123; <span class="comment">// 判断没有使用 new 关键字 那就重新 new 本身</span></span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">UserFactory</span>(role)</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">UserFactory</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">SuperAdmin</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;超级管理员&#x27;</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">viewPage</span> = [<span class="string">&#x27;首页&#x27;</span>, <span class="string">&#x27;权限&#x27;</span>, <span class="string">&#x27;应用数据&#x27;</span>, <span class="string">&#x27;学生管理&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title class_">UserFactory</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">Admin</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;管理员&#x27;</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">viewPage</span> = [<span class="string">&#x27;首页&#x27;</span>, <span class="string">&#x27;应用数据&#x27;</span>, <span class="string">&#x27;学生管理&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title class_">UserFactory</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">User</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;用户&#x27;</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">viewPage</span> = [<span class="string">&#x27;首页&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用方式</span></span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">UserFactory</span>(<span class="string">&#x27;Admin&#x27;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">    <span class="keyword">var</span> b = <span class="title class_">UserFactory</span>(<span class="string">&#x27;Admin&#x27;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br></pre></td></tr></table></figure><h3 id="14-2-单例模式-vuex-modal"><a href="#14-2-单例模式-vuex-modal" class="headerlink" title="14.2 单例模式(vuex,modal)"></a>14.2 单例模式(vuex,modal)</h3><p>概述：在某些情况下，一些对象只需要一个实例，而不能创建很多个，比如全局缓存、模态框、store，如果实例已经创建，则直接返回。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 单例 只允许一个实例对象</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">SingLeton</span> = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> instance</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (instance) &#123;</span><br><span class="line">            <span class="keyword">return</span> instance</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">modal</span>()</span><br><span class="line">        <span class="keyword">return</span> instance = <span class="variable language_">this</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 单例1 - 生成模态框</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">modal</span> () &#123;</span><br><span class="line">      <span class="keyword">var</span> div = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">      div.<span class="property">style</span>.<span class="property">width</span> = <span class="string">&#x27;300px&#x27;</span></span><br><span class="line">      div.<span class="property">style</span>.<span class="property">height</span> = <span class="string">&#x27;150px&#x27;</span></span><br><span class="line">      div.<span class="property">style</span>.<span class="property">backgroundColor</span> = <span class="string">&#x27;#ccc&#x27;</span></span><br><span class="line">      <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(div)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> btn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn&#x27;</span>)</span><br><span class="line">    btn.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">SingLeton</span>()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 单例2 - 全局数据存储对象 vuex的实现</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Store</span> (state) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123; ...state &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">setState</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">getState</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> createStore = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> instance</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">state</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!(<span class="variable language_">this</span> <span class="keyword">instanceof</span> createStore)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title function_">createStore</span>(state)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (instance) &#123;</span><br><span class="line">            <span class="keyword">return</span> instance</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance = <span class="keyword">new</span> <span class="title class_">Store</span>(state)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(&#123;</span><br><span class="line">    <span class="attr">num</span>: <span class="number">0</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> store1 = <span class="keyword">new</span> <span class="title function_">createStore</span>(&#123;</span><br><span class="line">    <span class="attr">msg</span>: <span class="string">&#x27;hi&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(store);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(store1);</span><br></pre></td></tr></table></figure><h3 id="14-3-策略模式-element表单验证"><a href="#14-3-策略模式-element表单验证" class="headerlink" title="14.3 策略模式(element表单验证)"></a>14.3 策略模式(element表单验证)</h3><p>概述：定义了一系列的算法，把它们封装起来，并且是他们可以相互的替换。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 案例一-返回今天星期几</span></span><br><span class="line"><span class="keyword">var</span> w = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getDay</span>()</span><br><span class="line"><span class="keyword">var</span> week = [<span class="string">&#x27;星期天&#x27;</span>, <span class="string">&#x27;星期一&#x27;</span>, <span class="string">&#x27;星期二&#x27;</span>, <span class="string">&#x27;星期三&#x27;</span>, <span class="string">&#x27;星期四&#x27;</span>, <span class="string">&#x27;星期五&#x27;</span>, <span class="string">&#x27;星期六&#x27;</span>,]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(week[w]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 案例二-年终奖分配</span></span><br><span class="line"><span class="keyword">var</span> reward = &#123;</span><br><span class="line"><span class="attr">A</span>: <span class="keyword">function</span> (<span class="params">salary</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> salary * <span class="number">2</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">B</span>: <span class="keyword">function</span> (<span class="params">salary</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> salary * <span class="number">1</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">C</span>: <span class="keyword">function</span> (<span class="params">salary</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">D</span>: <span class="keyword">function</span> (<span class="params">salary</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> -salary</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reward[<span class="string">&#x27;A&#x27;</span>](<span class="number">6000</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reward[<span class="string">&#x27;B&#x27;</span>](<span class="number">6000</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reward[<span class="string">&#x27;C&#x27;</span>](<span class="number">6000</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reward[<span class="string">&#x27;D&#x27;</span>](<span class="number">6000</span>));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 案例三-表单验证策略</span></span><br><span class="line"><span class="keyword">const</span> strategies = &#123;</span><br><span class="line"><span class="attr">isEmpty</span>: <span class="keyword">function</span> (<span class="params">val, err</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (val === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> err</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">minLength</span>: <span class="keyword">function</span> (<span class="params">val, len, errMsg</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (val.<span class="property">length</span> &lt; len) &#123;</span><br><span class="line"><span class="keyword">return</span> errMsg</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn&#x27;</span>).<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">var</span> user = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;user&#x27;</span>).<span class="property">value</span></span><br><span class="line"><span class="keyword">var</span> pwd = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;pwd&#x27;</span>).<span class="property">value</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> userStrategy = strategies.<span class="title function_">isEmpty</span>(user, <span class="string">&#x27;请输入账号&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> pwdStrategy = strategies.<span class="title function_">isEmpty</span>(pwd, <span class="string">&#x27;请输入密码&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> pwdLength = strategies.<span class="title function_">minLength</span>(pwd, <span class="number">6</span>, <span class="string">&#x27;密码不能小于6位&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> err = userStrategy || pwdStrategy || pwdLength</span><br><span class="line"><span class="keyword">if</span> (err) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="title function_">alert</span>(err)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="14-4-观察者模式-双向数据绑定"><a href="#14-4-观察者模式-双向数据绑定" class="headerlink" title="14.4 观察者模式(双向数据绑定)"></a>14.4 观察者模式(双向数据绑定)</h3><p>概述：观察者模式是指一个对象维持一系列依赖于它的对象，当有状态发生变更的时候，就会去通知这一系列的对象去更新。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 观察者</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Observe</span> (name) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Observe</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">update</span> = <span class="keyword">function</span> (<span class="params">msg</span>) &#123; <span class="comment">// 更新</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27;收到&#x27;</span> + msg + <span class="string">&#x27;通知了&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 主题：楼盘</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Subject</span> (name) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observes</span> = [] <span class="comment">// 收集所有关注该楼盘的对象</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Subject</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">add</span> = <span class="keyword">function</span> (<span class="params">observer</span>) &#123; <span class="comment">// 添加关注着</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observes</span>.<span class="title function_">push</span>(observer)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Subject</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">notify</span> = <span class="keyword">function</span> (<span class="params">msg</span>) &#123; <span class="comment">// 通知</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observes</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        item.<span class="title function_">update</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27;-&#x27;</span> + msg)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Subject</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">remove</span> = <span class="keyword">function</span> (<span class="params">observer</span>) &#123; <span class="comment">// 移除某一个</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">observes</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">observes</span>[i] === observer) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">observes</span>.<span class="title function_">splice</span>(i, <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Subject</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">clear</span> = <span class="keyword">function</span> (<span class="params">observer</span>) &#123;<span class="comment">// 移除所有</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observes</span> = []</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建观察者</span></span><br><span class="line"><span class="keyword">const</span> jack = <span class="keyword">new</span> <span class="title class_">Observe</span>(<span class="string">&#x27;jack&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> lilei = <span class="keyword">new</span> <span class="title class_">Observe</span>(<span class="string">&#x27;李磊&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> lucy = <span class="keyword">new</span> <span class="title class_">Observe</span>(<span class="string">&#x27;lucy&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建主题</span></span><br><span class="line"><span class="keyword">const</span> hengda = <span class="keyword">new</span> <span class="title class_">Subject</span>(<span class="string">&#x27;恒大&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> wanda = <span class="keyword">new</span> <span class="title class_">Subject</span>(<span class="string">&#x27;万达&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 观察者关注恒大楼盘</span></span><br><span class="line">hengda.<span class="title function_">add</span>(jack)</span><br><span class="line">hengda.<span class="title function_">add</span>(lucy)</span><br><span class="line"><span class="comment">// 观察者管着万达楼盘</span></span><br><span class="line">wanda.<span class="title function_">add</span>(lilei)</span><br><span class="line">wanda.<span class="title function_">add</span>(lucy)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发布新楼盘</span></span><br><span class="line">hengda.<span class="title function_">notify</span>(<span class="string">&#x27;破产了&#x27;</span>)</span><br><span class="line">wanda.<span class="title function_">notify</span>(<span class="string">&#x27;新楼盘&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="14-5-发布订阅者模式-V2原理，eventBus"><a href="#14-5-发布订阅者模式-V2原理，eventBus" class="headerlink" title="14.5 发布订阅者模式(V2原理，eventBus)"></a>14.5 发布订阅者模式(V2原理，eventBus)</h3><p>概述：是指希望接受通知的对象给予一个主题通过自定义事件订阅，发布事件的对象通过事件中心去通知所有的主题订阅者。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">EventBus</span> () &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">handleEvents</span> = &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">EventBus</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">on</span> = <span class="keyword">function</span> (<span class="params">type,callback</span>) &#123;</span><br><span class="line">    <span class="comment">// 订阅</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">handleEvents</span>[type]) &#123; <span class="comment">// 如果不存在事件，则初始化为一个数组</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">handleEvents</span>[type] = []</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 将回调函数添加进去</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">handleEvents</span>[type].<span class="title function_">push</span>(callback)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">EventBus</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">emit</span> = <span class="keyword">function</span> (<span class="params">type, ...args</span>) &#123; </span><br><span class="line">    <span class="comment">// 发布</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">handleEvents</span>[type]) &#123; <span class="comment">// 如果存在事件</span></span><br><span class="line">        <span class="keyword">const</span> handleEvent = <span class="variable language_">this</span>.<span class="property">handleEvents</span>[type].<span class="title function_">slice</span>() <span class="comment">// 浅拷贝</span></span><br><span class="line"></span><br><span class="line">        handleEvent.<span class="title function_">forEach</span>(<span class="function"><span class="params">callback</span> =&gt;</span> &#123;</span><br><span class="line">          callback.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args) <span class="comment">// 确保 this 指针正确</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 订阅房源消息</span></span><br><span class="line">    <span class="keyword">const</span> bus = <span class="keyword">new</span> <span class="title class_">EventBus</span>() <span class="comment">// 实践中心</span></span><br><span class="line">    bus.<span class="title function_">on</span>(<span class="string">&#x27;wanda&#x27;</span>, <span class="keyword">function</span> (<span class="params">msg</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;lucy订阅的&#x27;</span> + msg);</span><br><span class="line">    &#125;)</span><br><span class="line">    bus.<span class="title function_">on</span>(<span class="string">&#x27;wanke&#x27;</span>, <span class="keyword">function</span> (<span class="params">msg</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;jack订阅的&#x27;</span> + msg);</span><br><span class="line">    &#125;)</span><br><span class="line">    bus.<span class="title function_">on</span>(<span class="string">&#x27;hengda&#x27;</span>, <span class="keyword">function</span> (<span class="params">msg</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;乐磊订阅的&#x27;</span> + msg);</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 发布消息</span></span><br><span class="line">    bus.<span class="title function_">emit</span>(<span class="string">&#x27;wanda&#x27;</span>, <span class="string">&#x27;破产了&#x27;</span>)</span><br><span class="line">    bus.<span class="title function_">emit</span>(<span class="string">&#x27;wanke&#x27;</span>, <span class="string">&#x27;有新楼盘了&#x27;</span>)</span><br><span class="line">    bus.<span class="title function_">emit</span>(<span class="string">&#x27;hengda&#x27;</span>, <span class="string">&#x27;有新楼盘了&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="15-defineProperty"><a href="#15-defineProperty" class="headerlink" title="15. defineProperty"></a>15. defineProperty</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;jack&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 参数：劫持对象，对象属性，属性值</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;age&#x27;</span>, &#123;</span><br><span class="line">    <span class="comment">//value:18, // 属性值</span></span><br><span class="line">    <span class="comment">//writeable:true, // 是否可以被修改 默认为false,不可以</span></span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">true</span>, <span class="comment">// 是否可以被删除</span></span><br><span class="line">    <span class="attr">enumerable</span>: <span class="literal">true</span>, <span class="comment">// 是否可以枚举</span></span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="comment">// 访问 age 属性时会调用该方法，返回值就是age的值</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">20</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="comment">// 修改age的值得时候，会调用该方法</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br></pre></td></tr></table></figure><h3 id="15-1-单个数据劫持"><a href="#15-1-单个数据劫持" class="headerlink" title="15.1 单个数据劫持"></a>15.1 单个数据劫持</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">    <span class="attr">msg</span>: <span class="string">&#x27;Hi&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> vm = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(vm, <span class="string">&#x27;msg&#x27;</span>, &#123;</span><br><span class="line">    get () &#123;</span><br><span class="line">        <span class="keyword">return</span> data.<span class="property">msg</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 修改属性值</span></span><br><span class="line">    set (newValue) &#123;</span><br><span class="line">        <span class="keyword">if</span> (newValue === data.<span class="property">msg</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        data.<span class="property">msg</span> = newValue</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#app&#x27;</span>).<span class="property">innerHTML</span> = data.<span class="property">msg</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;) </span><br></pre></td></tr></table></figure><h3 id="15-2-多个数据劫持"><a href="#15-2-多个数据劫持" class="headerlink" title="15.2 多个数据劫持"></a>15.2 多个数据劫持</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">    <span class="attr">msg</span>: <span class="string">&#x27;Hi&#x27;</span>,</span><br><span class="line">    <span class="attr">num</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> vm = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.keys 返回对象的所有的属性</span></span><br><span class="line"><span class="comment">// Object.values 返回对象的所有的属性值</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">defineReact</span> () &#123;</span><br><span class="line">    <span class="keyword">const</span> arr = <span class="title class_">Object</span>.<span class="title function_">keys</span>(data)</span><br><span class="line">    arr.<span class="title function_">forEach</span>(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(vm, key, &#123;</span><br><span class="line">            get () &#123;</span><br><span class="line">                <span class="keyword">return</span> data[key]</span><br><span class="line">            &#125;,</span><br><span class="line">            set (newValue) &#123;</span><br><span class="line">                <span class="keyword">if</span> (newValue === data[key]) &#123;</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                &#125;</span><br><span class="line">                data[key] = newValue</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 试图更新</span></span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#app&#x27;</span>).<span class="property">innerHTML</span> = data[key]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">defineReact</span>()</span><br></pre></td></tr></table></figure><h1 id="ES6总结"><a href="#ES6总结" class="headerlink" title="ES6总结"></a>ES6总结</h1><h2 id="1-Symbol"><a href="#1-Symbol" class="headerlink" title="1. Symbol"></a>1. Symbol</h2><p><code>概述</code>：表示独一无二的值</p><p><code>特点</code>：</p><ul><li><code>Symbol()</code>函数返回值一定是<code>唯一</code>的。</li><li><code>Symbol()</code>可以作为对象属性的标识。</li><li>调用<code>Symbol()</code>函数不需要加<code>new</code></li><li><code>Symbol()</code>作为对象属性时，不能被for in (<code>Object.keys</code>) 访问。</li><li>在其它模块中，只有通过定义的Symbol变量进行访问。</li></ul><p><code>用法</code>：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="title class_">Symbol</span>(); <span class="comment">// 每次调用该函数一定会得到不同的值</span></span><br><span class="line"><span class="keyword">var</span> s2 = <span class="title class_">Symbol</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1 == s2); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s3 = <span class="title class_">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>); <span class="comment">// 带上参数与不带参数一样</span></span><br><span class="line"><span class="keyword">var</span> s4 = <span class="title class_">Symbol</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s3 == s4); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> id = <span class="title class_">Symbol</span>();</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    [id]: <span class="string">&#x27;183910238&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>案例</code>：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> t1 = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;jack&#x27;</span>,</span><br><span class="line"><span class="attr">age</span>: <span class="number">12</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> t2 = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;lily&#x27;</span>,</span><br><span class="line"><span class="attr">city</span>: <span class="string">&#x27;成都&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象合并时，属性相同则会发生覆盖</span></span><br><span class="line"><span class="keyword">const</span> t3 = &#123;</span><br><span class="line">...t1,</span><br><span class="line">...t2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(t3); <span class="comment">// &#123;name: &#x27;lily&#x27;, age: 12, city: &#x27;成都&#x27;&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用 Symbol 解决对象属性被覆盖的问题</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="title class_">Symbol</span>(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> age = <span class="title class_">Symbol</span>(<span class="string">&#x27;age&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> t1 = &#123;</span><br><span class="line">[name]: <span class="string">&#x27;jack&#x27;</span>,</span><br><span class="line">[age]: <span class="number">12</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> t2 = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;lily&#x27;</span>,</span><br><span class="line"><span class="attr">city</span>: <span class="string">&#x27;成都&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象合并时，属性相同则会发生覆盖</span></span><br><span class="line"><span class="comment">// Object.assign(&#123;&#125;, t1, t2)</span></span><br><span class="line"><span class="keyword">const</span> t3 = &#123;</span><br><span class="line">...t1,</span><br><span class="line">...t2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(t3); <span class="comment">// &#123;name: &#x27;lily&#x27;, city: &#x27;成都&#x27;, Symbol(name): &#x27;jack&#x27;, Symbol(age): 12&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="2-class"><a href="#2-class" class="headerlink" title="2. class"></a>2. class</h2><p>概述：<code>class</code>是<code>ES6</code>提出来的一个概念，更加接近传统语言中的类的写法，作为对象模板</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Father</span> () &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Father</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayHi</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Father</span>.<span class="property">version</span> = <span class="string">&#x27;1.0.0&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="title class_">Father</span>()</span><br><span class="line">p1.<span class="property">name</span></span><br><span class="line">p1.<span class="title function_">sayHi</span>()</span><br><span class="line"><span class="title class_">Father</span>.<span class="property">version</span> </span><br><span class="line">     </span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name,age</span>) &#123; <span class="comment">// 构造函数</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">sayHi</span>(<span class="params"></span>) &#123; <span class="comment">// 原型对象上的方法</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;这是ES6的class&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> version = <span class="string">&#x27;1.0.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p2 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;jack,18&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p2.<span class="property">name</span>) <span class="comment">// jack</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Person</span>.<span class="property">version</span>) <span class="comment">//  1.0.0</span></span><br><span class="line">p2.<span class="title function_">sayHi</span>() <span class="comment">// 这是ES6的class</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES7</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> &#123;</span><br><span class="line">    name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">age = <span class="string">&#x27;&#x27;</span></span><br><span class="line">sayHi () &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hi&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">static</span> version = <span class="string">&#x27;1.0.0&#x27;</span></span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// class 继承</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123; <span class="comment">// 子类继承父类</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, age, className</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(name, age) <span class="comment">// 子类构造必须调用 super , 理解为父类的构造函数</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">className</span> = className</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&#x27;lucy&#x27;</span>, <span class="number">12</span>, <span class="string">&#x27;三年级一班&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简单Vue实例的实现</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vue</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">            <span class="attr">msg</span>: <span class="string">&#x27;hi&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    get fn () &#123; <span class="comment">// 当访问实例的fn属性时，会触发该方法，必须设置返回值</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">msg</span></span><br><span class="line">    &#125;</span><br><span class="line">    set fn (newVal) &#123; <span class="comment">// 当修改实例的fn属性时，就会触发该方法</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">msg</span> = newVal</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vue = <span class="keyword">new</span> <span class="title class_">Vue</span>()</span><br><span class="line">vue.<span class="property">fn</span> = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(vue.<span class="property">fn</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="JS手写题总结"><a href="#JS手写题总结" class="headerlink" title="JS手写题总结"></a>JS手写题总结</h1><h2 id="1-防抖节流"><a href="#1-防抖节流" class="headerlink" title="1. 防抖节流"></a>1. 防抖节流</h2><p>防抖：触发高频事件N秒后只会执行一次，如果N秒内事件再次触发，则会重新计时。</p><p>应用场景：</p><ul><li>search搜索联想，用户在不断输入值时，用房都来节约请求</li><li>window触发resize的时候，不断地调整浏览器窗口会不断的触发这个事件，用防抖来让其只触发一次</li></ul><p>简洁版：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">func, wait</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> timeout;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> context = <span class="variable language_">this</span>;</span><br><span class="line">        <span class="keyword">var</span> args = <span class="variable language_">arguments</span>;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timeout)</span><br><span class="line">        timeout = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            func.<span class="title function_">apply</span>(context, args)</span><br><span class="line">        &#125;, wait);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="keyword">var</span> node = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;layout&#x27;</span>)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getUserAction</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>, e)  <span class="comment">// 分别打印：node 这个节点 和 MouseEvent</span></span><br><span class="line">    node.<span class="property">innerHTML</span> = count++;</span><br><span class="line">&#125;;</span><br><span class="line">node.<span class="property">onmousemove</span> = <span class="title function_">debounce</span>(getUserAction, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure><p>最终版：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 支持this event</span></span><br><span class="line"><span class="comment">// 支持立即执行 函数可能有返回值 支持取消功能</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">func, wait, immediate</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> timeout, result;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> debounced = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> context = <span class="variable language_">this</span>;</span><br><span class="line">        <span class="keyword">var</span> args = <span class="variable language_">arguments</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (timeout) <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">        <span class="keyword">if</span> (immediate) &#123;</span><br><span class="line">            <span class="comment">// 如果已经执行过，不再执行</span></span><br><span class="line">            <span class="keyword">var</span> callNow = !timeout;</span><br><span class="line">            timeout = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">                timeout = <span class="literal">null</span>;</span><br><span class="line">            &#125;, wait)</span><br><span class="line">            <span class="keyword">if</span> (callNow) result = func.<span class="title function_">apply</span>(context, args)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            timeout = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">                func.<span class="title function_">apply</span>(context, args)</span><br><span class="line">            &#125;, wait);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    debounced.<span class="property">cancel</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">        timeout = <span class="literal">null</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> debounced;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>节流：在规定的时间内，只能触发一次函数。如果这个时间内触发多次，则只会执行最后一次。</p><p>应用场景：</p><ul><li>鼠标不断点击触发，<code>mousedown</code>只触发一次。</li><li>监听滚动事件，比如是否滑到底部自动加载更多，用节流来判断</li></ul><p>简洁版：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params">func, wait</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> context, args;</span><br><span class="line">    <span class="keyword">var</span> previous = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> now = +<span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        context = <span class="variable language_">this</span>;</span><br><span class="line">        args = <span class="variable language_">arguments</span>;</span><br><span class="line">        <span class="keyword">if</span> (now - previous &gt; wait) &#123;</span><br><span class="line">            func.<span class="title function_">apply</span>(context, args);</span><br><span class="line">            previous = now;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>最终版：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 支持取消节流 传入第三个参数 控制是否立即执行以及结束调用是否还要执行一次</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params">func, wait, options</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> timeout, context, args, result;</span><br><span class="line">    <span class="keyword">var</span> previous = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (!options) options = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> later = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        previous = options.<span class="property">leading</span> === <span class="literal">false</span> ? <span class="number">0</span> : <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>();</span><br><span class="line">        timeout = <span class="literal">null</span>;</span><br><span class="line">        func.<span class="title function_">apply</span>(context, args);</span><br><span class="line">        <span class="keyword">if</span> (!timeout) context = args = <span class="literal">null</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> throttled = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>();</span><br><span class="line">        <span class="keyword">if</span> (!previous &amp;&amp; options.<span class="property">leading</span> === <span class="literal">false</span>) previous = now;</span><br><span class="line">        <span class="keyword">var</span> remaining = wait - (now - previous);</span><br><span class="line">        context = <span class="variable language_">this</span>;</span><br><span class="line">        args = <span class="variable language_">arguments</span>;</span><br><span class="line">        <span class="keyword">if</span> (remaining &lt;= <span class="number">0</span> || remaining &gt; wait) &#123;</span><br><span class="line">            <span class="keyword">if</span> (timeout) &#123;</span><br><span class="line">                <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">                timeout = <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            previous = now;</span><br><span class="line">            func.<span class="title function_">apply</span>(context, args);</span><br><span class="line">            <span class="keyword">if</span> (!timeout) context = args = <span class="literal">null</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!timeout &amp;&amp; options.<span class="property">trailing</span> !== <span class="literal">false</span>) &#123;</span><br><span class="line">            timeout = <span class="built_in">setTimeout</span>(later, remaining);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    throttled.<span class="property">cancel</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">        previous = <span class="number">0</span>;</span><br><span class="line">        timeout = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> throttled;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="2、Promise"><a href="#2、Promise" class="headerlink" title="2、Promise"></a>2、Promise</h2>]]></content>
      
      
      <categories>
          
          <category> js </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 编程 </tag>
            
            <tag> 笔记 </tag>
            
            <tag> js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算机基础笔记</title>
      <link href="/79333/2021/01/01/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/"/>
      <url>/79333/2021/01/01/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="一、-跨域问题"><a href="#一、-跨域问题" class="headerlink" title="一、 跨域问题"></a>一、 跨域问题</h2><p>概述：浏览器基于安全因素的考虑，是不允许进行跨域请求的，如果发生跨域请求，就会发生一下类似的错误。</p><p>跨域原因：</p><ul><li>协议：<code>http</code></li><li>域名：<code>baidu.com</code></li><li>端口号: <code>3000</code></li></ul><p>解决：解决方案有很多种，比如前端开发时进行<code>反向代理</code>，使用<code>JSONP</code>，后端设置<code>CORS</code>、配置 <code>nginx </code>反向代理等等</p><h3 id="1-CORS"><a href="#1-CORS" class="headerlink" title="1. CORS"></a>1. <code>CORS</code></h3><p>概述：跨域资源共享是一种机制，当一个资源访问到另一个资源时，资源就会发起一个跨域的http请求需要浏览器和服务器同时支持：</p><p><code>node.js</code>处理</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;*&#x27;</span>, <span class="keyword">function</span>(<span class="params">req, res, next</span>) &#123;</span><br><span class="line">      res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="string">&#x27;*&#x27;</span>); <span class="comment">// 表示允许哪些网站访问，上线后应该直接指定ip而不应该 *</span></span><br><span class="line">      res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span>, <span class="string">&#x27;GET, POST, PUT, DELETE&#x27;</span>);</span><br><span class="line">      res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span>, <span class="string">&#x27;Content-Type,Content-Length, Authorization, Accept,X-Requested-With&#x27;</span>);</span><br><span class="line">      res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Credentials&#x27;</span>, <span class="string">&#x27;true&#x27;</span>);<span class="comment">//和客户端对应，必须设置以后，才能接收cookie.</span></span><br><span class="line"></span><br><span class="line">      <span class="title function_">next</span>();</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><h3 id="2-反向代理"><a href="#2-反向代理" class="headerlink" title="2. 反向代理"></a>2. 反向代理</h3><ul><li>Vue  config.js中配置</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:3000&#x27;</span>, <span class="comment">// 服务器地址</span></span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;</span><br><span class="line">          <span class="string">&#x27;^/api&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>, <span class="comment">// 本地会虚拟一个服务端接受你的请求并代你发送该请求</span></span><br><span class="line">        <span class="attr">secure</span>: <span class="literal">false</span>, <span class="comment">// 代理某些 https 服务时用</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><ul><li>React 在src目录下创建setupProxy.js文件</li><li>下载依赖</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i http-proxy-middleware -D</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;createProxyMiddleware&#125; = <span class="built_in">require</span>(<span class="string">&#x27;http-proxy-middleware&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span> (<span class="params">app</span>) &#123;</span><br><span class="line">    app.<span class="title function_">use</span>(<span class="title function_">createProxyMiddleware</span>(</span><br><span class="line">    <span class="string">&#x27;/mock&#x27;</span>,&#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:3000&#x27;</span>,</span><br><span class="line">        <span class="attr">changeOrigin</span>:<span class="literal">true</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>:&#123;</span><br><span class="line">            <span class="string">&#x27;^/mock&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-Nginx"><a href="#3-Nginx" class="headerlink" title="3. Nginx"></a>3. Nginx</h3><h2 id="二、HTTP问题"><a href="#二、HTTP问题" class="headerlink" title="二、HTTP问题"></a>二、HTTP问题</h2><p>原理：HTTP协议采用了请求&#x2F;响应模型。客户端向服务器发送一个请求报文，请求报文包含请求的方法、URL、协议版本、请求头部和请求数据。服务器以一个状态行作为响应，响应的内容包括协议的版本、成功或者错误代码、服务器信息、响应头部和响应数据。</p><p>步骤：客户端连接到Web服务器-&gt;发送Http请求-&gt;服务器接受请求并返回HTTP响应-&gt;释放连接TCP连接-&gt;客户端浏览器解析HTML内容</p><h3 id="2-1-GET和POST请求"><a href="#2-1-GET和POST请求" class="headerlink" title="2.1 GET和POST请求"></a>2.1 GET和POST请求</h3><ul><li>应用场景：GET请求用于对服务器资源不会产生影响的场景。而POST请求一般用于对服务器资源会产生影响的场景。</li><li>是否缓存：浏览器一般会对GET请求进行缓存，但很少对POST请求进行缓存。</li><li>请求参数：GET请求使用URL进行传递参数，URL的？后面拼接参数，POST请求中的实体报文部分一般为服务器发送的数据。</li><li>安全性：因为GET请求的参数是拼接在URL后面的，所以安全性较差，因为请求的URL会被保留在历史记录中，而POST请求安全性较好。</li><li>请求长度：浏览器对URL有长度限制，因此会影响GET请求发送数据的长度，而POST请求并没有长度限制。</li><li>刷新：GET请求支持刷新和后退，而POST请求每次刷新都会重新发送</li><li>参数类型：POST请求的参数传递支持更多的数据类型</li></ul><h3 id="2-2-HTTP请求头和响应头"><a href="#2-2-HTTP请求头和响应头" class="headerlink" title="2.2 HTTP请求头和响应头"></a>2.2 HTTP请求头和响应头</h3><h4 id="请求头："><a href="#请求头：" class="headerlink" title="请求头："></a>请求头：</h4><ul><li>Accept:浏览器能够处理的内容类型</li><li>Accept-Charset:浏览器能够显示的字符集</li><li>Accept-Encoding：浏览器能够处理的压缩编码</li><li>Accept-Language：浏览器当前设置的语言</li><li>Connection：浏览器与服务器之间连接的类型</li><li>Cookie：当前页面设置的任何Cookie</li><li>Host：发出请求的页面所在的域</li><li>Referer：发出请求的页面的URL</li><li>User-Agent：浏览器的用户代理字符串</li></ul><h4 id="响应头："><a href="#响应头：" class="headerlink" title="响应头："></a>响应头：</h4><ul><li>Date：表示消息发送的时间，时间的描述格式由rfc822定义</li><li>server:服务器名称</li><li>Connection：浏览器与服务器之间连接的类型</li><li>Cache-Control：控制HTTP缓存</li><li>content-type:表示后面的文档属于什么MIME类型</li></ul><h3 id="2-3-HTTP状态码304"><a href="#2-3-HTTP状态码304" class="headerlink" title="2.3 HTTP状态码304"></a>2.3 HTTP状态码304</h3><p>概述：客户端有缓存情况下的服务端的一种响应客户端性能优化的一种方式</p><p>过多的304状态码可能会导致网站快照停止，收录减少，权重下降</p><h3 id="2-4HTTP-1-0-和-HTTP-1-1"><a href="#2-4HTTP-1-0-和-HTTP-1-1" class="headerlink" title="2.4HTTP 1.0 和 HTTP 1.1"></a>2.4HTTP 1.0 和 HTTP 1.1</h3><ul><li><strong>连接方面</strong>：1.0默认使用非持久连接，而1.1 默认使用持久连接。1.1通过使用持久连接来使多个http请求复用同一个TCP连接，一次来避免使用非持久连接时每件需要建立链接的时延。</li><li><strong>资源请求</strong>：1.0 中会存在一些浪费宽带的现象，例如客户端只是需要某个对象的一部分，而服务器却将整个对象送过来了，并且不支持断点续传功能。1.1 则在请求头引入 range 头域，他允许只请资源的某个部分，即返回码是206</li><li><strong>缓存方面</strong>： 1.0 主要使用了 header 里的  If-Modified-Since、Expires 来做为缓存判断的标准，http1.1 则引入了更多的缓存控制策略，例如 Etag、If-Unmodified-Since、If-Match、If-None-Match 等更多可供选择的缓存头来控制缓存策略 </li><li>1.1 新增加了 host 字段，用来指定服务器的域名。1.0 中并没有传递主机名。</li><li>1.1 新增加了很多的请求方法</li></ul><h3 id="2-5-HTTP-1-1-和-HTTP-2-0"><a href="#2-5-HTTP-1-1-和-HTTP-2-0" class="headerlink" title="2.5 HTTP 1.1 和 HTTP 2.0"></a>2.5 HTTP 1.1 和 HTTP 2.0</h3><ul><li><strong>二进制协议</strong>：1.1 中的豹纹的头信息必须是文本，数据体可以是文本，也可以是二进制。2.0 则是一个彻底的二进制协议，头信息和数据题都是二进制</li><li><strong>多路复用</strong>：2.0 实现了多路复用，任然复用TCP连接，但是在一个连接里，客户端和服务器都可以同时发送多喝请求或者回应，而且不用按照顺序一一发送。</li><li><strong>数据流</strong>：2.0使用了数据流的概念，因为2.0的数据包是不按顺序发送的，同一个链接里面连续的数据包，可能属于不同的请求。因此，必须对数据包做标记，指出他属于那个请求。2.0将每个请求或回应的所有数据包，成为一个数据流，每个数据流都有一个独一无二的编号。</li><li><strong>头信息压缩</strong>： HTTP&#x2F;2 实现了头信息压缩，由于 HTTP 1.1 协议不带状态，每次请求都必须附上所有信息。所以，请求的很多字段都是重复的，比如 Cookie 和 User Agent ，一模一样的内容，每次请求都必须附带，这会浪费很多带宽，也影响速度。HTTP&#x2F;2 对这一点做了优化，引入了头信息压缩机制。一方面，头信息使用 gzip 或 compress 压缩后再发送；另一方面，客户端和服务器同时维护一张头信息表，所有字段都会存入这个表，生成一个索引号，以后就不发送同样字段了，只发送索引号，这样就能提高速度了。 </li><li><strong><em>服务器推</em>送</strong>： HTTP&#x2F;2 允许服务器未经请求，主动向客户端发送资源，这叫做服务器推送。使用服务器推送提前给客户端推送必要的资源，这样就可以相对减少一些延迟时间。这里需要注意的是 http2 下服务器主动推送的是静态资源，。</li></ul><h3 id="2-6-HTTP和HTTPS"><a href="#2-6-HTTP和HTTPS" class="headerlink" title="2.6 HTTP和HTTPS"></a>2.6 HTTP和HTTPS</h3><ul><li>HTTPS 协议需要CA证书，费用较高；HTTP协议不需要</li><li>HTTPS是超文本传输协议，信息是明文传输的；HTTPS则是具有安全性的SSL加密传输协议</li><li>使用不同的连接方式，端口也不同，HTTP协议端口是80，HTTPS协议端口是443</li><li>HTTP协议连接很简单，是无状态的；HTTPS协议是由SSL和HTTP协议够贱的可进行加密传输，身份认证的网络协议，比HTTP更加安全。</li></ul><h3 id="2-7-输入URL后发生了生么"><a href="#2-7-输入URL后发生了生么" class="headerlink" title="2.7 输入URL后发生了生么"></a>2.7 输入URL后发生了生么</h3><ul><li>）<strong>解析URL</strong>：首先会对 URL 进行解析，分析所需要使用的传输协议和请求的资源的路径。如果输入的 URL 中的协议或者主机名不合法，将会把地址栏中输入的内容传递给搜索引擎。如果没有问题，浏览器会检查 URL 中是否出现了非法字符，如果存在非法字符，则对非法字符进行转义后再进行下一过程。</li><li><strong>缓存判断</strong>：浏览器会判断所请求的资源是否在缓存里，如果请求的资源在缓存里并且没有失效，那么就直接使用，否则向服务器发起新的请求。</li><li><strong>DNS解析</strong>：下一步首先需要获取的是输入的 URL 中的域名的 IP 地址，首先会判断本地是否有该域名的 IP 地址的缓存，如果有则使用，如果没有则向本地 DNS 服务器发起请求。本地 DNS 服务器也会先检查是否存在缓存，如果没有就会先向根域名服务器发起请求，获得负责的顶级域名服务器的地址后，再向顶级域名服务器请求，然后获得负责的权威域名服务器的地址后，再向权威域名服务器发起请求，最终获得域名的 IP 地址后，本地 DNS 服务器再将这个 IP 地址返回给请求的用户。用户向本地 DNS 服务器发起请求属于递归请求，本地 DNS 服务器向各级域名服务器发起请求属于迭代请求。</li><li><strong>获取MAC地址</strong>：当浏览器得到 IP 地址后，数据传输还需要知道目的主机 MAC 地址，因为应用层下发数据给传输层，TCP 协议会指定源端口号和目的端口号，然后下发给网络层。网络层会将本机地址作为源地址，获取的 IP 地址作为目的地址。然后将下发给数据链路层，数据链路层的发送需要加入通信双方的 MAC 地址，本机的 MAC 地址作为源 MAC 地址，目的 MAC 地址需要分情况处理。通过将 IP 地址与本机的子网掩码相与，可以判断是否与请求主机在同一个子网里，如果在同一个子网里，可以使用 APR 协议获取到目的主机的 MAC 地址，如果不在一个子网里，那么请求应该转发给网关，由它代为转发，此时同样可以通过 ARP 协议来获取网关的 MAC 地址，此时目的主机的 MAC 地址应该为网关的地址。</li><li><strong>TCP三次握手</strong>：下面是 TCP 建立连接的三次握手的过程，首先客户端向服务器发送一个 SYN 连接请求报文段和一个随机序号，服务端接收到请求后向服务器端发送一个 SYN ACK报文段，确认连接请求，并且也向客户端发送一个随机序号。客户端接收服务器的确认应答后，进入连接建立的状态，同时向服务器也发送一个ACK 确认报文段，服务器端接收到确认后，也进入连接建立状态，此时双方的连接就建立起来了。</li><li><strong>HTTPS握手</strong>：如果使用的是 HTTPS 协议，在通信前还存在 TLS 的一个四次握手的过程。首先由客户端向服务器端发送使用的协议的版本号、一个随机数和可以使用的加密方法。服务器端收到后，确认加密的方法，也向客户端发送一个随机数和自己的数字证书。客户端收到后，首先检查数字证书是否有效，如果有效，则再生成一个随机数，并使用证书中的公钥对随机数加密，然后发送给服务器端，并且还会提供一个前面所有内容的 hash 值供服务器端检验。服务器端接收后，使用自己的私钥对数据解密，同时向客户端发送一个前面所有内容的 hash 值供客户端检验。这个时候双方都有了三个随机数，按照之前所约定的加密方法，使用这三个随机数生成一把秘钥，以后双方通信前，就使用这个秘钥对数据进行加密后再传输。</li><li><strong>返回数据</strong>：当页面请求发送到服务器端后，服务器端会返回一个 html 文件作为响应，浏览器接收到响应后，开始对 html 文件进行解析，开始页面的渲染过程。</li><li><strong>页面渲染</strong>：浏览器首先会根据 html 文件构建 DOM 树，根据解析到的 css 文件构建 CSSOM 树，如果遇到 script 标签，则判端是否含有 defer 或者 async 属性，要不然 script 的加载和执行会造成页面的渲染的阻塞。当 DOM 树和 CSSOM 树建立好后，根据它们来构建渲染树。渲染树构建好后，会根据渲染树来进行布局。布局完成后，最后使用浏览器的 UI 接口对页面进行绘制。这个时候整个页面就显示出来了。</li><li><strong>TCP四次挥手</strong>：最后一步是 TCP 断开连接的四次挥手过程。若客户端认为数据发送完成，则它需要向服务端发送连接释放请求。服务端收到连接释放请求后，会告诉应用层要释放 TCP 链接。然后会发送 ACK 包，并进入 CLOSE_WAIT 状态，此时表明客户端到服务端的连接已经释放，不再接收客户端发的数据了。但是因为 TCP 连接是双向的，所以服务端仍旧可以发送数据给客户端。服务端如果此时还有没发完的数据会继续发送，完毕后会向客户端发送连接释放请求，然后服务端便进入 LAST-ACK 状态。客户端收到释放请求后，向服务端发送确认应答，此时客户端进入 TIME-WAIT 状态。该状态会持续 2MSL（最大段生存期，指报文段在网络中生存的时间，超时会被抛弃） 时间，若该时间段内没有服务端的重发请求的话，就进入 CLOSED 状态。当服务端收到确认应答后，也便进入 CLOSED 状态。</li></ul><h3 id="2-8-请求报文"><a href="#2-8-请求报文" class="headerlink" title="2.8 请求报文"></a>2.8 请求报文</h3><ul><li><strong>请求行</strong>： 请求⽅法字段、URL字段、HTTP协议版本字段。它们⽤空格分隔。例如，GET &#x2F;index.html HTTP&#x2F;1.1。 </li><li><strong>请求头部</strong>： 请求头部由关键字&#x2F;值对组成，每⾏⼀对，关键字和值⽤英⽂冒号“:”分割<ul><li>User-Agent：产⽣请求的浏览器类型。 </li><li>Accept：客户端可识别的内容类型列表。 </li><li>Host：请求的主机名，允许多个域名同处⼀个IP地址，即虚拟主机。</li></ul></li><li><strong>空行</strong></li><li><strong>请求体</strong>：post put等请求携带的数据</li></ul><h3 id="2-9-响应报文"><a href="#2-9-响应报文" class="headerlink" title="2.9 响应报文"></a>2.9 响应报文</h3><ul><li><strong>响应行</strong>： 由网络协议版本，状态码和状态码的原因短语组成，例如 HTTP&#x2F;1.1 200 OK 。 </li><li><strong>响应头</strong>：响应部首组成</li><li><strong>空行</strong></li><li><strong>响应体</strong>：服务器响应的数据</li></ul><h3 id="2-10-URL"><a href="#2-10-URL" class="headerlink" title="2.10 URL"></a>2.10 URL</h3><ul><li>协议：访问服务器获取资源时使用的协议</li><li>域名：资源服务器主机名或IP地址</li><li>端口：资源服务器监听的端口，不同的scheme有不同的默认端口（HTTP使用80作为默认端口）</li><li>路径：服务器上的资源路径。路径与服务器和scheme有关</li><li>文件名：打开的文件名称</li><li>参数：提供给服务器上的值</li><li>锚点：打开用户页面时滚动到该锚点位置</li></ul><h3 id="2-11-常见的状态码"><a href="#2-11-常见的状态码" class="headerlink" title="2.11 常见的状态码"></a>2.11 常见的状态码</h3><ul><li>2开头的表示成功<ul><li>一般见到的就是200</li></ul></li><li>3开头的表示重定向<ul><li>301永久重定向</li><li>302临时重定向</li><li>304表示可以在缓存中取数据（协商缓存）</li></ul></li><li>4开头表示客户端错误<ul><li>403跨域</li><li>404请求资源不存在</li></ul></li><li>5开头表示服务端错误<ul><li>50</li></ul></li></ul><h2 id="三、DNS"><a href="#三、DNS" class="headerlink" title="三、DNS"></a>三、DNS</h2><p>概述： DNS 是域名系统 (Domain Name System) 的缩写，提供的是一种主机名到 IP 地址的转换服务，就是我们常说的域名系统。 </p><p>作用： 将域名解析为IP地址，客户端向DNS服务器（DNS服务器有自己的IP地址）发送域名查询请求，DNS服务器告知客户机Web服务器的 IP 地址。 </p><p>解析过程：</p><ul><li><strong>浏览器缓存</strong>：首先在浏览器缓存中查找对应的IP地址，如果查到直接返回，若找不到就继续下一步</li><li><strong>本地DNS服务器</strong>： 将请求发送给本地DNS服务器，在本地域名服务器缓存中查询，如果查找到，就直接将查找结果返回，若找不到继续下一步 </li><li><strong>根域名服务器</strong>： 本地DNS服务器向根域名服务器发送请求，根域名服务器会返回一个所查询域的顶级域名服务器地址 </li><li><strong>顶级域名服务器</strong>： 本地DNS服务器向顶级域名服务器发送请求，接受请求的服务器查询自己的缓存，如果有记录，就返回查询结果，如果没有就返回相关的下一级的权威域名服务器的地址 </li><li><strong>权威域名服务器</strong>： 本地DNS服务器向权威域名服务器发送请求，域名服务器返回对应的结果 </li><li>本地DNS服务器将返回的结果保存在缓存中，便于下次使用</li><li>本地DNS服务器将返回结果返回给浏览器</li><li>用户向本地 DNS 服务器发起请求属于递归请求，本地 DNS 服务器向各级域名服务器发起请求属于迭代请求。</li></ul><p> 比如要查询 <a href="http://www.baidu.com/">www.baidu.com</a> 的 IP 地址，首先会在浏览器的缓存中查找是否有该域名的缓存，如果不存在就将请求发送到本地的 DNS 服务器中，本地DNS服务器会判断是否存在该域名的缓存，如果不存在，则向根域名服务器发送一个请求，根域名服务器返回负责 .com 的顶级域名服务器的 IP 地址的列表。然后本地 DNS 服务器再向其中一个负责 .com 的顶级域名服务器发送一个请求，负责 .com 的顶级域名服务器返回负责 .baidu 的权威域名服务器的 IP 地址列表。然后本地 DNS 服务器再向其中一个权威域名服务器发送一个请求，最后权威域名服务器返回一个对应的主机名的 IP 地址列表。 </p><h2 id="四、网络模型"><a href="#四、网络模型" class="headerlink" title="四、网络模型"></a>四、网络模型</h2><ul><li><strong>应用层</strong>：为应用程序提供服务</li><li><strong>表示层</strong>：数据格式转化、数据加密</li><li><strong>会话层</strong>：建立、管理和维护会话</li><li><strong>传输层</strong>：建立、管理和维护端到端的连接</li><li><strong>网络层</strong>：IP选址及路由选择</li><li><strong>数据链路层</strong>：提供介质访问和链路管理</li><li><strong>物理层</strong>：物理层</li></ul><h2 id="五、TCP和UDP"><a href="#五、TCP和UDP" class="headerlink" title="五、TCP和UDP"></a>五、TCP和UDP</h2><table><thead><tr><th align="center"></th><th align="center">UDP</th><th align="center">TCP</th></tr></thead><tbody><tr><td align="center">是否连接</td><td align="center">无连接</td><td align="center">面向连接</td></tr><tr><td align="center">是否可靠</td><td align="center">不可靠传输，不使用流量控制和拥塞控制</td><td align="center">可靠传输（数据顺序和正确性），使用流量控制和拥塞控制</td></tr><tr><td align="center">连接对象个数</td><td align="center">支持一对一，一对多，多对一和多对多交互通信</td><td align="center">只能是一对一通信</td></tr><tr><td align="center">传输方式</td><td align="center">面向报文</td><td align="center">面向字节流</td></tr><tr><td align="center">首部开销</td><td align="center">首部开销小，仅8字节</td><td align="center">首部最小20字节，最大60字节</td></tr><tr><td align="center">使用场景</td><td align="center">适用于实时应用，例如视频会议、直播</td><td align="center">适用于要求可靠传输的应用，例如文件传输</td></tr></tbody></table><p><strong>TCP重传机制</strong>： TCP在发送一个数据之后，就开启一个定时器，若是在这个时间内没有收到发送数据的ACK确认报文，则对该报文进行重传，在达到一定次数还没有成功时放弃并发送一个复位信号。 </p><p><strong>TCP三次握手</strong>：</p><ul><li>第一次握手： 客户端向服务端发送连接请求报文段。该报文段中包含自身的数据通讯初始序号。请求发送后，客户端便进入 SYN-SENT 状态。</li></ul><p>这样服务端就能得出结论：客户端的发送能力、服务端的接收能力是正常的。</p><ul><li>第二次握手： 服务端收到连接请求报文段后，如果同意连接，则会发送一个应答，该应答中也会包含自身的数据通讯初始序号，发送完成后便进入 SYN-RECEIVED 状态。</li></ul><p>这样客户端就能得出结论：服务端的接收、发送能力，客户端的接收、发送能力是正常的。不过此时服务器并不能确认客户端的接收能力是否正常。</p><ul><li>第三次握手： 当客户端收到连接同意的应答后，还要向服务端发送一个确认报文。客户端发完这个报文段后便进入 ESTABLISHED 状态，服务端收到这个应答后也进入 ESTABLISHED 状态，此时连接建立成功。</li></ul><p>这样服务端就能得出结论：客户端的接收、发送能力正常，服务器自己的发送、接收能力也正常。</p><p><strong>三次握手原因</strong>：客户端共发出了两个连接请求报文段，其中第一个丢失，第二个到达了服务端，但是第一个丢失的报文段只是在某些网络结点长时间滞留了，延误到连接释放以后的某个时间才到达服务端，此时服务端误认为客户端又发出一次新的连接请求，于是就向客户端发出确认报文段，同意建立连接，不采用三次握手，只要服务端发出确认，就建立新的连接了，此时客户端忽略服务端发来的确认，也不发送数据，则服务端一致等待客户端发送数据，浪费资源。</p><p><strong>四次挥手</strong>：</p><ul><li>第一次挥手：若客户端认为数据发送完成，则它需要向服务端发送连接释放请求。</li><li>第二次挥手：服务端收到连接释放请求后，会告诉应用层要释放 TCP 链接。然后会发送 ACK 包，并进入 CLOSE_WAIT 状态，此时表明客户端到服务端的连接已经释放，不再接收客户端发的数据了。但是因为 TCP 连接是双向的，所以服务端仍旧可以发送数据给客户端。</li><li>第三次挥手：服务端如果此时还有没发完的数据会继续发送，完毕后会向客户端发送连接释放请求，然后服务端便进入 LAST-ACK 状态。</li><li>第四次挥手：客户端收到释放请求后，向服务端发送确认应答，此时客户端进入 TIME-WAIT 状态。该状态会持续 2MSL（最大段生存期，指报文段在网络中生存的时间，超时会被抛弃） 时间，若该时间段内没有服务端的重发请求的话，就进入 CLOSED 状态。当服务端收到确认应答后，也便进入 CLOSED 状态。</li></ul><h2 id="六、缓存问题"><a href="#六、缓存问题" class="headerlink" title="六、缓存问题"></a>六、缓存问题</h2><h3 id="6-1-本地缓存、cookie、token"><a href="#6-1-本地缓存、cookie、token" class="headerlink" title="6.1 本地缓存、cookie、token"></a>6.1 本地缓存、cookie、token</h3><ul><li><p>cookie:网站为了标识用户身份而储存在客户端的数据。（不安全，考虑服务器性能适用cookie），每次http求情都会携带 </p></li><li><p>localStorage和SessionStorage不会自动的把数据发给服务器，只会在本地保存</p></li><li><p>session：一般是用来跟踪用户状态的，保存在服务端（安全，登录信息保存，其他信息如果需要保留，可以放在cookie中）</p></li></ul><p>存储大小：cookie大小一般不能超过4k，而 **localStorage、SessionStorage比cookie大得多，可以达到5M</p><p>有期事件：localStorage关闭浏览器后数据依然保留，除非手动清除，否则一直在</p><p>​sessionStorage关闭浏览器或者标签后即失效</p><p>​cookie一般由 server 设置值及过期时间</p><p>​session的生命周期是间隔的</p><h3 id="6-2-浏览器缓存"><a href="#6-2-浏览器缓存" class="headerlink" title="6.2 浏览器缓存"></a>6.2 浏览器缓存</h3><p>浏览器对之前请求过的文件进行缓存，以便下一次访问时重复使用，节省带宽，提高访问速度，降低服务器压力</p><p><strong>强缓存</strong>：浏览器不会像服务器发送任何请求，直接从本地缓存中读取文件并返回，强制缓存的情况主要有三种(暂不分析协商缓存过程)，如下：</p><pre><code>    1. 不存在该缓存结果和缓存标识，强制缓存失效，则直接向服务器发起请求（跟第一次发起请求一致）    1. 存在该缓存结果和缓存标识，但该结果已失效，强制缓存失效，则使用协商缓存    1. 存在该缓存结果和缓存标识，且该结果尚未失效，强制缓存生效，直接返回该结果</code></pre><p>​当浏览器向服务器发起请求时，服务器会将缓存规则放入HTTP响应报文的HTTP头中和请求结果一起返回给浏览器，控制强制缓存的字段分别是Expires和Cache-Control，其中Cache-Control优先级比Expires高</p><p><strong>协商缓存</strong>：协商缓存就是强制缓存失效后，浏览器携带缓存标识向服务器发起请求，由服务器根据缓存标识决定是否使用本地缓存的过程，主要有以下两种情况：</p><pre><code>1. 协商缓存生效，返回3041. 协商缓存失效，返回200和请求结果结果</code></pre><h2 id="七、浏览器"><a href="#七、浏览器" class="headerlink" title="七、浏览器"></a>七、浏览器</h2><h3 id="7-1-性能优化"><a href="#7-1-性能优化" class="headerlink" title="7.1 性能优化"></a>7.1 性能优化</h3><ul><li>减少http请求次数</li><li>对js和css打包，资源合并</li><li>适用雪碧图，把请求的icon合并成一张图片</li><li>给资源做缓存</li><li>图片按需加载（懒加载）</li><li>CDN减少打包体积</li><li>异步加载js文件</li><li>开启gzip打包</li><li>路由懒加载，图片懒加载</li><li>预渲染和服务端渲染</li><li>组件的按需加载</li></ul><h3 id="7-2-渲染机制"><a href="#7-2-渲染机制" class="headerlink" title="7.2 渲染机制"></a>7.2 渲染机制</h3><ul><li><code>HTML</code>被HTML解析器解析成<code>DOM</code> 树</li><li><code>css</code>则被css解析器解析成<code>CSSOM </code>树</li><li>结合<code>DOM</code>树和<code>CSSOM</code>树，生成一棵渲染树(<code>Render Tree</code>)</li><li>.根据生成的渲染树，进行回流（Layout）,得到节点的几何信息（位置，大小）</li><li>重绘（Painting）：根据渲染树以及回流得到的几何信息，得到节点的绝对<a href="https://so.csdn.net/so/search?q=%E5%83%8F%E7%B4%A0&spm=1001.2101.3001.7020">像素</a>（像素，背景色，外观等）</li><li>Display将像素发送给GPU，展示在页面上</li></ul><p>回流(重排)： 当<code>DOM</code>的变化影响了元素位置和尺寸大小，浏览器需要重新计算元素的几何属性</p><ul><li><p>页面第一次加载时进行一次回流</p></li><li><p>当元素的 width、height、margin、padding、left、top 发生改变的时候会发生回流、</p></li><li><p>使 DOM节点增减或移动</p></li><li><p>读写 offset、client、scroll 时，浏览器为了获取这些值，会进行回流操作</p></li><li><p>使用 <code>window.getComputedStyle</code>的时候</p></li></ul><p>重绘：</p><ul><li>当改变元素时，只是改变了它的外观，比如背景颜色等，而没有影响到它的布局，这个时候会发生重绘</li><li>回流(重排)必将引起重绘；重绘不一定会引起回流(重排)</li></ul><p>如何避免或减少：</p><ul><li>避免逐次改变样式，样式统一批量修改</li><li>DOM离线处理，减少回流重绘次数<ul><li>使用document fragment在DOM Tree之外建立一个子树</li><li>position属性控制其脱离文档流</li></ul></li><li>CSS3硬件加速（GPU加速）</li></ul><h3 id="7-3-XSS和CSRF攻击"><a href="#7-3-XSS和CSRF攻击" class="headerlink" title="7.3 XSS和CSRF攻击"></a>7.3 XSS和CSRF攻击</h3><p>xss：不需要你做任何的登录认证，它会通过合法的操作（比如在url中输入、在评论框中输入），向你的页面注入脚本（可能是js、hmtl代码块等）。<code>跨域脚本攻击</code></p><p>防御：</p><ul><li>编码：对用户输入的数据进行HTML Entity 编码。把字符转换成 转义字符。Encode的作用是将$var等一些字符进行转化，使得浏览器在最终输出结果上是一样的。</li><li>过滤：移除用户输入的和事件相关的属性。</li></ul><p>csrf：在未退出A网站的前提下访问B，B使用A的cookie去访问服务器。<code>跨站请求伪造</code></p><p>防御：</p><ul><li>使用验证码或者 token 验证，每次提交表单时需要带上 token（伪造者访问不到），如果 token 不合法，服务器拒绝请求</li><li>通过 host+origin 来判断是否为非法用户</li><li>给 Cookie 设置 SameSite属性，来限制第三方 Cookie，里面有三个值 strict、lax、none</li></ul><h3 id="7-4-进程和线程"><a href="#7-4-进程和线程" class="headerlink" title="7.4 进程和线程"></a>7.4 进程和线程</h3><p>进程是程序的一次执行，他占有一片独有的内存空间；可以通过windows任务管理器查看</p><p>线程是进程内的一个独立执行单元；是程序执行的一个完整的流程；是CPU的最小的调度单元</p><p>【联系】： 一个线程只能属于一个进程，而一个进程可以有多个线程，但至少有一个线程；<br>资源分配给进程，同一进程的所有线程共享该进程的所有资源；<br>处理机分给线程，即真正在处理机上运行的是线程；</p>]]></content>
      
      
      <categories>
          
          <category> 计算机基础 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>面试题</title>
      <link href="/79333/2021/01/01/%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
      <url>/79333/2021/01/01/%E9%9D%A2%E8%AF%95%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><ul><li><a href="#html">HTML</a><ul><li><a href="#1--html5%E6%9C%89%E4%BB%80%E4%B9%88%E4%BC%98%E5%8C%96">1.  html5有什么优化</a></li><li><a href="#2-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3html%E8%AF%AD%E4%B9%89%E5%8C%96">2. 如何理解HTML语义化</a></li><li><a href="#3-meta%E6%A0%87%E7%AD%BE">3. meta标签</a></li></ul></li><li><a href="#css">CSS</a><ul><li><a href="#0-css3%E6%9C%89%E4%BB%80%E4%B9%88%E4%BC%98%E5%8C%96">0. css3有什么优化</a></li><li><a href="#1-css%E9%80%89%E6%8B%A9%E5%99%A8%E5%8F%8A%E4%BC%98%E5%85%88%E7%BA%A7">1. CSS选择器及优先级</a></li><li><a href="#2-position-%E5%B1%9E%E6%80%A7%E7%9A%84%E5%80%BC%E6%9C%89%E5%93%AA%E4%BA%9B%E5%8F%8A%E5%85%B6%E5%8C%BA%E5%88%AB">2. position 属性的值有哪些及其区别</a></li><li><a href="#3-box-sizing%E5%B1%9E%E6%80%A7">3. box-sizing属性</a></li><li><a href="#4-css-%E7%9B%92%E5%AD%90%E6%A8%A1%E5%9E%8B">4. CSS 盒子模型</a></li><li><a href="#5-bfc%E5%9D%97%E7%BA%A7%E6%A0%BC%E5%BC%8F%E4%B8%8A%E4%B8%8B%E6%96%87%E5%92%8Cifc%E8%A1%8C%E7%BA%A7%E6%A0%BC%E5%BC%8F%E5%8C%96%E4%B8%8A%E4%B8%8B">5. BFC（块级格式上下文）和IFC(行级格式化上下)</a></li><li><a href="#6-%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD">6. 水平垂直居中</a><ul><li><a href="#%E8%87%AA%E9%80%82%E5%BA%94%E4%B8%A4%E6%A0%8F%E5%B8%83%E5%B1%80">自适应两栏布局</a></li><li><a href="#%E4%B8%89%E6%A0%8F%E5%B8%83%E5%B1%80">三栏布局</a></li></ul></li><li><a href="#7-%E7%94%A8css%E5%AE%9E%E7%8E%B0%E4%B8%89%E8%A7%92%E7%AC%A6%E5%8F%B7">7. 用CSS实现三角符号</a></li><li><a href="#8-%E5%B8%B8%E8%A7%81%E7%9A%84%E5%B8%83%E5%B1%80%E7%B1%BB%E5%9E%8B%E6%9F%A5">8. 常见的布局类型（查）</a></li><li><a href="#9-%E6%B5%AE%E5%8A%A8%E6%9F%A5">9. 浮动（查）</a></li><li><a href="#10-%E5%B8%B8%E8%A7%81%E7%9A%84%E8%A1%8C%E5%86%85%E5%85%83%E7%B4%A0%E5%92%8C%E5%9D%97%E7%BA%A7%E5%85%83%E7%B4%A0">10. 常见的行内元素和块级元素</a></li><li><a href="#11-pxemremvwvhrpx%E7%AD%89%E5%8D%95%E4%BD%8D%E7%9A%84%E7%89%B9%E6%80%A7">11. px,em,rem,vw,vh,rpx等单位的特性</a></li><li><a href="#12-%E4%BB%80%E4%B9%88%E6%98%AFdom%E4%BA%8B%E4%BB%B6%E6%B5%81%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98%E6%9F%A5">12. <strong>什么是DOM事件流？什么是事件委托</strong>(查)</a></li><li><a href="#13-%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%E5%92%8C%E4%BA%8B%E4%BB%B6%E6%8D%95%E6%8D%89%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%E6%9F%A5">13. 事件冒泡和事件捕捉有什么区别（查）</a></li><li><a href="#14-link%E5%92%8Cimport">14. link和@import</a></li><li><a href="#15-%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80">15. 响应式布局</a></li><li><a href="#16-%E5%85%83%E7%B4%A0%E4%B8%8D%E5%8F%AF%E8%A7%81">16. 元素不可见</a></li></ul></li><li><a href="#js">JS</a><ul><li><a href="#0-object%E5%B8%B8%E7%94%A8%E7%9A%84api">0. Object常用的API</a></li><li><a href="#1-%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">1. 基本数据类型</a></li><li><a href="#2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%B5%8B">2. 数据类型检测</a></li><li><a href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2">数据类型转换：</a></li><li><a href="#4-%E4%BD%9C%E7%94%A8%E5%9F%9F%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE">4. 作用域和作用域链</a></li><li><a href="#5-%E4%BB%80%E4%B9%88%E6%98%AF%E9%97%AD%E5%8C%85">5. 什么是闭包</a></li><li><a href="#6-this%E7%9A%84%E6%8C%87%E5%90%91">6. this的指向</a></li><li><a href="#7-new-%E5%AE%9E%E7%8E%B0">7. new 实现</a></li><li><a href="#9--%E5%92%8C%E7%9A%84%E5%8C%BA%E5%88%AB">9. &#x3D;&#x3D; 和&#x3D;&#x3D;&#x3D;的区别</a></li><li><a href="#10-nan--nan%E8%BF%94%E5%9B%9E%E4%BB%80%E4%B9%88">10. <strong><code>NaN === NaN</code>返回什么</strong></a></li><li><a href="#11-%E6%89%8B%E5%86%99callapplybind%E6%9F%A5">11. <strong>手写call、apply、bind</strong>（查）</a></li><li><a href="#12-%E6%89%A7%E8%A1%8C%E6%A0%88%E5%92%8C%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87">12. 执行栈和执行上下文</a></li><li><a href="#13-%E5%8E%9F%E5%9E%8B%E5%8E%9F%E5%9E%8B%E9%93%BE">13. 原型，原型链</a></li><li><a href="#14-js-%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E7%9A%84%E7%BB%A7%E6%89%BF%E6%96%B9%E5%BC%8F">14. <strong>JS 中的常用的继承方式</strong></a></li><li><a href="#15-%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F">15. 内存泄漏</a></li><li><a href="#16-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6">16. 垃圾回收机制</a></li><li><a href="#17-%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D">17. 深拷贝和浅拷贝</a></li><li><a href="#18-js%E6%98%AF%E5%8D%95%E7%BA%BF%E7%A8%8B">18. js是单线程</a></li><li><a href="#19-promise">19. promise</a></li><li><a href="#20-async%E5%92%8Cawait">20. async和await</a></li><li><a href="#21-%E5%AE%8F%E4%BB%BB%E5%8A%A1%E5%92%8C%E5%BE%AE%E4%BB%BB%E5%8A%A1">21. 宏任务和微任务</a></li><li><a href="#22-js%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6event-loop-%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF">22. js执行机制(event loop 事件循环)</a></li><li><a href="#24-%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81">24. 防抖和节流</a></li><li><a href="#26-%E5%B8%B8%E7%94%A8%E7%9A%84%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95%E6%9F%A5">26. 常用的数组方法（查）</a><ul><li><a href="#1-%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F">1. 冒泡排序</a></li><li><a href="#2-%E6%95%B0%E7%BB%84%E6%9C%80%E5%A4%A7%E5%80%BC">2. 数组最大值</a></li><li><a href="#3-%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D">3. 数组去重</a></li><li><a href="#4-%E5%8F%8D%E8%BD%AC%E6%95%B0%E7%BB%84">4. 反转数组</a></li><li><a href="#5-%E9%81%8D%E5%8E%86%E6%95%B0%E7%BB%84">5. 遍历数组</a><ul><li><a href="#1-for-of"><strong>1. for of</strong></a></li><li><a href="#2-foreach"><strong>2. forEach</strong></a></li><li><a href="#3-some">3. some</a></li><li><a href="#4-every">4. every</a></li><li><a href="#5-map">5. map</a></li><li><a href="#6-filter">6. filter</a></li><li><a href="#7-find">7. find()</a></li></ul></li></ul></li><li><a href="#28-bom%E5%92%8Cdom%E7%9A%84%E5%8C%BA%E5%88%AB">28. <strong>bom和dom的区别</strong></a></li><li><a href="#29-js%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%9A%84%E6%96%B9%E5%BC%8F">29. JS性能优化的方式</a></li><li><a href="#30-defer-%E5%92%8C-async">30. defer 和 async</a></li><li><a href="#31-set%E5%92%8Cmap">31. set和map</a></li><li><a href="#32-for-of%E5%92%8Cfor-in">32. for of和for in</a></li><li><a href="#25-js%E9%81%8D%E5%8E%86%E6%95%B0%E7%BB%84%E7%9A%84%E6%96%B9%E6%B3%95%E6%9F%A5">25. js遍历数组的方法（查）</a></li><li><a href="#33-%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D">33. 数组去重</a></li><li><a href="#34-%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F">34. 数组排序</a></li><li><a href="#35-%E4%BB%80%E4%B9%88%E6%98%AF%E6%9A%82%E6%97%B6%E6%80%A7%E6%AD%BB%E5%8C%BA">35. <strong>什么是暂时性死区？</strong></a></li><li><a href="#36-%E5%87%BD%E6%95%B0%E6%9F%AF%E9%87%8C%E5%8C%96">36. 函数柯里化</a></li><li><a href="#37-null%E4%B8%8Eundefined%E7%9A%84%E5%8C%BA%E5%88%AB">37. null与undefined的区别</a></li><li><a href="#38-new-stringa%E5%92%8Cstringa">38. new String(‘a’)和String(‘a’)</a></li><li><a href="#39--%E5%92%8C--%E5%92%8C%E6%93%8D%E4%BD%9C%E7%AC%A6%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC">39. || 和 &amp;&amp; 和！！操作符的返回值</a></li></ul></li><li><a href="#es6">ES6</a><ul><li><a href="#1-export-%E5%92%8C-export-default-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB">1. export 和 export default 有什么区别</a></li><li><a href="#2-varletconst%E5%8C%BA%E5%88%AB">2. var&#x2F;let&#x2F;const区别</a></li><li><a href="#3-%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E5%92%8C%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0%E7%9A%84%E5%8C%BA%E5%88%AB">3. 箭头函数和普通函数的区别</a></li></ul></li><li><a href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C">计算机网络</a><ul><li><a href="#0-axios%E7%9A%84%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85">0. Axios的二次封装</a></li><li><a href="#1-%E8%B7%A8%E5%9F%9F%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E5%BC%95%E8%B5%B7%E7%9A%84">1. 跨域（同源策略引起的）</a></li><li><a href="#2-%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B">2. 三次握手</a></li><li><a href="#3-%E7%8A%B6%E6%80%81%E7%A0%81">3. 状态码</a></li><li><a href="#4-http">4. http</a></li><li><a href="#5-localstoragesessionstoragecookiesession">5. <strong>localStorage、SessionStorage、cookie、session</strong></a></li><li><a href="#6-token%E5%92%8Cjwt">6. token和JWT</a></li><li><a href="#7-get%E5%92%8Cpost">7. get和post</a></li><li><a href="#8-tcp%E5%92%8Cudp%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE">8. tcp和udp网络协议</a></li><li><a href="#9-tcp%E9%87%8D%E4%BC%A0">9. tcp重传</a></li><li><a href="#10-%E4%BB%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E5%85%A5url%E5%90%8E%E9%83%BD%E7%BB%8F%E5%8E%86%E4%BA%86%E4%BB%80%E4%B9%88----">10. <strong>从浏览器输入url后都经历了什么</strong>    ***</a></li><li><a href="#11-%E5%9B%9E%E6%B5%81%E5%92%8C%E9%87%8D%E7%BB%98%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E6%9C%BA%E5%88%B6">11. 回流和重绘，浏览器渲染机制</a></li><li><a href="#12-meta%E6%A0%87%E7%AD%BE">12. meta标签</a></li><li><a href="#13-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96">13. 浏览器性能优化</a></li><li><a href="#14-%E7%99%BB%E9%99%86%E5%AE%9E%E7%8E%B0">14. 登陆实现</a></li><li><a href="#15-xss%E8%B7%A8%E5%9F%9F%E8%84%9A%E6%9C%AC%E6%94%BB%E5%87%BB%E5%92%8Ccsrf%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0">15. xss(跨域脚本攻击)和csrf(跨站请求伪造)</a></li><li><a href="#16-%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98">16. 浏览器缓存</a></li><li><a href="#17-%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B">17. 进程和线程</a></li><li><a href="#18-url%E7%9A%84%E7%BB%93%E6%9E%84">18. url的结构</a></li><li><a href="#19-%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87%E5%92%8C%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87%E7%9A%84%E7%BB%93%E6%9E%84">19. 请求报文和响应报文的结构</a></li></ul></li><li><a href="#vue">VUE</a><ul><li><a href="#vue%E7%9A%84%E4%BC%98%E7%82%B9">VUE的优点</a></li><li><a href="#spa%E9%A1%B5%E9%9D%A2">SPA页面：</a></li><li><a href="#1-vue%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A%E7%9A%84%E5%8E%9F%E7%90%86">1. vue双向绑定的原理</a></li><li><a href="#vue%E5%8D%95%E5%90%91%E6%95%B0%E6%8D%AE%E6%B5%81">Vue单向数据流</a></li><li><a href="#2-vue%E7%9B%91%E5%90%AC%E6%95%B0%E7%BB%84">2. Vue监听数组</a></li><li><a href="#3-nexttick">3. nextTick</a></li><li><a href="#4-vue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">4. Vue生命周期</a></li><li><a href="#5-computed-watchmethod%E7%9A%84%E5%8C%BA%E5%88%AB">5. computed 、watch、method的区别</a></li><li><a href="#6-vue%E4%BC%98%E5%8C%96%E6%96%B9%E5%BC%8F">6. Vue优化方式</a></li><li><a href="#7-vue-router">7. Vue-router</a><br>- <a href="#2-history%E6%A8%A1%E5%BC%8F">2. history模式</a><br>- <a href="#3-%E4%B8%A4%E7%A7%8D%E6%A8%A1%E5%BC%8F%E5%AF%B9%E6%AF%94">3. 两种模式对比</a></li><li><a href="#8-diff%E7%AE%97%E6%B3%95">8. diff算法</a></li><li><a href="#9-%E8%99%9A%E6%8B%9Fdom%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9">9. 虚拟DOM的优缺点</a></li><li><a href="#10-vue%E7%9A%84keyindex">10. Vue的key（index）</a></li><li><a href="#11-vue%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%9A%84%E9%80%9A%E4%BF%A1vuex">11. vue组件之间的通信（vuex）</a></li><li><a href="#12-vue-router%E6%9C%89%E5%93%AA%E5%87%A0%E7%A7%8D%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0">12. <strong>Vue-router有哪几种钩子函数</strong></a></li><li><a href="#13-%E4%B8%BA%E4%BB%80%E4%B9%88%E7%BB%84%E4%BB%B6%E4%B8%AD-data-%E6%98%AF%E4%B8%AA%E5%87%BD%E6%95%B0">13. <strong>为什么组件中 data 是个函数</strong></a></li><li><a href="#14-v-model">14. v-model</a></li><li><a href="#15-v-html%E5%92%8Cv-text">15. v-html和v-text</a></li><li><a href="#17-vue20%E5%92%8C30">17. vue2.0和3.0</a></li><li><a href="#18-vue%E7%9A%84set">18. <strong>vue的$set</strong></a></li><li><a href="#19-v-if%E5%92%8Cv-for">19. v-if和v-for</a></li><li><a href="#20-v-if-%E5%92%8C-v-show">20. <strong>v-if 和 v-show</strong></a></li><li><a href="#21-%E6%8F%92%E6%A7%BD">21. 插槽</a></li><li><a href="#22-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6">22. 自定义事件</a></li><li><a href="#23-%E5%9C%A8%E4%BD%BF%E7%94%A8%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E6%97%B6%E5%87%BD%E6%95%B0%E5%90%8D%E4%B8%8Edata%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E5%90%8D%E5%8F%AF%E4%BB%A5%E5%90%8C%E5%90%8D%E5%90%97">23. 在使用计算属性时，函数名与data中的数据名可以同名吗</a></li><li><a href="#24-vue%E6%89%93%E5%8C%85%E5%90%8E%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E8%B7%AF%E5%BE%84">24. vue打包后静态资源路径</a></li><li><a href="#25-vue%E5%8A%A8%E6%80%81%E8%AE%BE%E7%BD%AEimg">25. vue动态设置img</a></li><li><a href="#26-vue-%E4%B8%ADcreated%E5%92%8Cmounted%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE">26. vue 中created和mounted请求数据</a></li><li><a href="#27-%E5%A4%9A%E4%B8%AA%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%A3">27. 多个后端接口</a></li></ul></li><li><a href="#%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93">项目总结</a><ul><li><a href="#%E7%99%BB%E9%99%86">登陆</a></li><li><a href="#1-%E7%99%BB%E5%BD%95%E9%AA%8C%E8%AF%81">1. 登录验证</a></li><li><a href="#2-%E9%A1%B9%E7%9B%AE%E7%9A%84%E4%BC%98%E5%8C%96">2. 项目的优化</a></li></ul></li></ul><h1 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h1><h3 id="1-html5有什么优化"><a href="#1-html5有什么优化" class="headerlink" title="1.  html5有什么优化"></a>1.  html5有什么优化</h3><ul><li>语义化标签的出现<ul><li>header</li><li>footer</li><li>section 等等等等</li></ul></li><li>还有 input 的优化<ul><li>可以给它的 type 设置成 number、tel、email 等等</li></ul></li><li>增加了表单的优化<ul><li>placeholder、required、min&#x2F;max、multiple 等等</li></ul></li><li>增加了 canvas</li><li>增加了 audio播放音频文件的标签</li></ul><h3 id="2-如何理解HTML语义化"><a href="#2-如何理解HTML语义化" class="headerlink" title="2. 如何理解HTML语义化"></a>2. 如何理解HTML语义化</h3><p>概念：合理正确的使用语义化的标签来创建页面结构（正确的标签做正确的事）</p><p>为了避免大篇幅的没有语义的标签来构建页面。</p><p>标签：header nav main article section aside footer</p><p>优点：1. 在<code>没CSS样式的情况下，页面整体也会呈现很好的结构效果</code></p><pre><code>        2. `代码结构清晰`，易于阅读，        2. `利于开发和维护` 方便其他设备解析（如屏幕阅读器）根据语义渲染网页。        2. `有利于搜索引擎优化（SEO）`，搜索引擎爬虫会根据不同的标签来赋予不同的权重</code></pre><h3 id="3-meta标签"><a href="#3-meta标签" class="headerlink" title="3. meta标签"></a>3. meta标签</h3><p>为浏览器提供 html 的元信息</p><p>规定 html 字符编码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br></pre></td></tr></table></figure><p>设置移动端的视区窗口</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta id=<span class="string">&quot;viewport&quot;</span> name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width; initial-scale=1.0; maximum-scale=1; user-scalable=no;&quot;</span>&gt;</span><br></pre></td></tr></table></figure><p>设置 http 头</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta http-equiv=<span class="string">&quot;content-Type&quot;</span> content=<span class="string">&quot;text/html; charset=gb2312&quot;</span>&gt;</span><br></pre></td></tr></table></figure><p>图片403</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=<span class="string">&quot;referrer&quot;</span> content=<span class="string">&quot;no-referrer&quot;</span> /&gt;</span><br></pre></td></tr></table></figure><h3 id="4-src-和-href-的区别"><a href="#4-src-和-href-的区别" class="headerlink" title="4. src 和 href 的区别"></a>4. src 和 href 的区别</h3><ol><li>请求资源不同。<code>href</code>：超文本引用，用于建立文档与资源的联系，常用的有：link,a。<code>src</code>：将其所指向的资源下载并应用。</li><li>作用结果不同：<code>href</code>用于文档与资源之间建立联系。<code>src</code>请求到的资源替换当前内容。</li><li>浏览器的解析不同：<code>href</code>将资源解析成css文件，并行加载请求资源，不会阻塞对当前文档的处理。<code>src</code>会暂停其他资源的处理，直到该资源加载、解析和执行完毕。</li></ol><h1 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h1><h3 id="0-css3有什么优化"><a href="#0-css3有什么优化" class="headerlink" title="0. css3有什么优化"></a>0. css3有什么优化</h3><ul><li>Border-radius、Border-shadow、border-image</li><li>还有动画效果 translate3d，<strong>css3的 translate3d 可以开启 gpu 加速</strong>，所以在使用动画的时候尽量要 css3的 translate3d，而不是 position：absolute+top+left</li><li>box-sizing</li></ul><h3 id="1-CSS选择器及优先级"><a href="#1-CSS选择器及优先级" class="headerlink" title="1. CSS选择器及优先级"></a>1. CSS选择器及优先级</h3><p>带!important 标记的样式属性优先级最高； 样式表的来源相同时：<code>!important &gt; 行内样式&gt;嵌入样式和外链样式&gt;ID选择器 &gt; 类选择器 &gt; 标签 &gt; 通配符 &gt; 继承 &gt; 浏览器默认属性</code></p><h3 id="2-position-属性的值有哪些及其区别"><a href="#2-position-属性的值有哪些及其区别" class="headerlink" title="2. position 属性的值有哪些及其区别"></a>2. position 属性的值有哪些及其区别</h3><p><strong>固定定位 fixed</strong>： 元素的位置相对于浏览器窗口是固定位置，即使窗口是滚动的它也不会移动。Fixed 定 位使元素的位置与文档流无关，因此不占据空间。 Fixed 定位的元素和其他元素重叠。<br> <strong>相对定位 relative</strong>： 如果对一个元素进行相对定位，它将出现在它所在的位置上。然后，可以通过设置垂直 或水平位置，让这个元素“相对于”它的起点进行移动。 在使用相对定位时，无论是 否进行移动，元素仍然占据原来的空间。因此，移动元素会导致它覆盖其它框。<br> <strong>绝对定位 absolute</strong>： 绝对定位的元素的位置相对于最近的已定位父元素，如果元素没有已定位的父元素，那 么它的位置相对于浏览器窗口。absolute 定位使元素的位置与文档流无关，因此不占据空间。 absolute 定位的元素和其他元素重叠。<br> <strong>粘性定位 sticky</strong>： 元素先按照普通文档流定位，然后相对于该元素在流中的 flow root（BFC）和 containing block（最近的块级祖先元素）定位。而后，元素定位表现为在跨越特定阈值前为相对定 位，之后为固定定位。<br> <strong>默认定位 Static</strong>： 默认值。没有定位，元素出现在正常的流中（忽略 top, bottom, left, right 或者 z-index 声 明）。 inherit: 规定应该从父元素继承 position 属性的值。</p><h3 id="3-box-sizing属性"><a href="#3-box-sizing属性" class="headerlink" title="3. box-sizing属性"></a>3. box-sizing属性</h3><p>box-sizing 规定两个并排的带边框的框，语法为 box-sizing：content-box&#x2F;border-box&#x2F;inherit<br> <strong>content-box</strong>：宽度和高度分别应用到元素的内容框，在宽度和高度之外绘制元素的内边距和边框。【标准盒子模型】<br> <strong>border-box</strong>：为元素设定的宽度和高度决定了元素的边框盒。【IE 盒子模型】<br> <strong>inherit</strong>：继承父元素的 box-sizing 值。</p><h3 id="4-CSS-盒子模型"><a href="#4-CSS-盒子模型" class="headerlink" title="4. CSS 盒子模型"></a>4. CSS 盒子模型</h3><p>CSS 盒模型本质上是一个盒子，它包括：边距，边框，填充和实际内容。CSS 中的盒子模型包括 IE 盒子模型和标准的 W3C 盒子模型。<br>在标准的盒子模型中，<code>width 指 content 部分的宽度</code>。<br>在 IE 盒子模型中，<code>width 表示 content+padding+border 这三个部分的宽度</code>。</p><h3 id="5-BFC（块级格式上下文）和IFC-行级格式化上下"><a href="#5-BFC（块级格式上下文）和IFC-行级格式化上下" class="headerlink" title="5. BFC（块级格式上下文）和IFC(行级格式化上下)"></a>5. BFC（块级格式上下文）和IFC(行级格式化上下)</h3><p><code>BFC</code> 是 <code>Block Formatting Context </code>的缩写，即块级格式化上下文。<code>BFC</code>是一个独立的渲染区域，规定了内部box如何布局， 并且这个区域的子元素不会影响到外面的元素，其中比较重要的布局规则有内部 box 垂直放置，计算 BFC 的高度的时候，浮动元素也参与计算</p><p>创建：</p><ul><li>绝对定位元素（<code>position</code> 为 <code>absolute</code> 或 <code>fixed</code> ）。</li><li>行内块元素，即 <code>display</code> 为 <code>inline-block</code> 。</li><li><code>overflow</code> 的值不为 <code>visible</code> 。</li></ul><p>应用： 1.分属于不同的<code>BFC</code>时,可以防止<code>margin</code>重叠 2.清除内部浮动 3.自适应多栏布局</p><p>IFC：内联格式上下文</p><p>布局规则：1.内部的盒子会在水平方向，一个个地放置；<br>                        2.IFC的高度，由里面最高盒子的高度决定；<br>                        3.当一行不够放置的时候会自动切换到下一行</p><h3 id="6-水平垂直居中"><a href="#6-水平垂直居中" class="headerlink" title="6. 水平垂直居中"></a>6. 水平垂直居中</h3><ol><li><p>利用transform，设置 <code>left: 50%</code> 和 <code>top: 50%</code> 现将子元素左上角移到父元素中心位置，然后再通过 <code>translate</code> 来调整子元素的中心点到父元素的中心。该方法可以<strong>不定宽高</strong>。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  .<span class="property">father</span> &#123;</span><br><span class="line">  <span class="attr">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">son</span> &#123;</span><br><span class="line">  <span class="attr">position</span>: absolute;</span><br><span class="line">  <span class="attr">left</span>: <span class="number">50</span>%;</span><br><span class="line">  <span class="attr">top</span>: <span class="number">50</span>%;</span><br><span class="line">  <span class="attr">transform</span>: <span class="title function_">translate</span>(-<span class="number">50</span>%, -<span class="number">50</span>%);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>利用绝对定位，设置 <code>left: 50%</code> 和 <code>top: 50%</code> 现将子元素左上角移到父元素中心位置，然后再通过 <code>margin-left</code> 和 <code>margin-top</code> 以子元素自己的一半宽高进行负值赋值。该方法<strong>必须定宽高</strong>。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">father</span> &#123;</span><br><span class="line">  <span class="attr">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">son</span> &#123;</span><br><span class="line">  <span class="attr">position</span>: absolute;</span><br><span class="line">  <span class="attr">left</span>: <span class="number">50</span>%;</span><br><span class="line">  <span class="attr">top</span>: <span class="number">50</span>%;</span><br><span class="line">  <span class="attr">width</span>: 200px;</span><br><span class="line">  <span class="attr">height</span>: 200px;</span><br><span class="line">  margin-<span class="attr">left</span>: -100px;</span><br><span class="line">  margin-<span class="attr">top</span>: -100px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>利用 <code>flex</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">father</span> &#123;</span><br><span class="line">  <span class="attr">display</span>: flex;</span><br><span class="line">  justify-<span class="attr">content</span>: center;</span><br><span class="line">  align-<span class="attr">items</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h4 id="自适应两栏布局"><a href="#自适应两栏布局" class="headerlink" title="自适应两栏布局"></a>自适应两栏布局</h4><p>通过BFC和浮动</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">content</span>&#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">100</span>%</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">left</span>&#123;</span><br><span class="line">    <span class="attr">width</span>: 200px;</span><br><span class="line">    margin-<span class="attr">right</span>: 10px;</span><br><span class="line">    <span class="attr">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">right</span>&#123;</span><br><span class="line">    <span class="attr">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">left</span>&#123;</span><br><span class="line">    <span class="attr">width</span>: 200px;</span><br><span class="line">    <span class="attr">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">right</span>&#123;</span><br><span class="line">    margin-<span class="attr">left</span>: 210px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>通过定位</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">content</span>&#123;</span><br><span class="line">    <span class="attr">position</span>: relative;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">100</span>%;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">left</span>&#123;</span><br><span class="line">    <span class="attr">width</span>: 200px;</span><br><span class="line">    <span class="attr">position</span>: absolute;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">right</span>&#123;</span><br><span class="line">    <span class="attr">position</span>: absolute;</span><br><span class="line">    <span class="attr">left</span>: 210px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>通过flex：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.content&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    display:flex;</span><br><span class="line">&#125;</span><br><span class="line">.left&#123;</span><br><span class="line">    width: 200px;</span><br><span class="line">    margin-right:10px;</span><br><span class="line">&#125;</span><br><span class="line">.right&#123;</span><br><span class="line">    flex:1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="三栏布局"><a href="#三栏布局" class="headerlink" title="三栏布局"></a>三栏布局</h4><p>普通三栏：通过定位</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line">.left &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    width: 200px;</span><br><span class="line">    height: 200px;</span><br><span class="line">&#125;</span><br><span class="line">.right &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 0;</span><br><span class="line">    right: 0;</span><br><span class="line">    width: 200px;</span><br><span class="line">    height: 200px;</span><br><span class="line">&#125;</span><br><span class="line">.middle &#123;</span><br><span class="line">    margin-left: 210px;</span><br><span class="line">    margin-right: 210px;</span><br><span class="line">    height: 200px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>通过浮动实现</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">box</span> &#123;</span><br><span class="line">    <span class="attr">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">left</span> &#123;</span><br><span class="line">    <span class="attr">float</span>: left;</span><br><span class="line">    background-<span class="attr">color</span>: gray;</span><br><span class="line">    <span class="attr">width</span>: 200px;</span><br><span class="line">    <span class="attr">height</span>: 200px;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">right</span> &#123;</span><br><span class="line">    <span class="attr">float</span>: right;</span><br><span class="line">    background-<span class="attr">color</span>: gray;</span><br><span class="line">    <span class="attr">width</span>: 200px;</span><br><span class="line">    <span class="attr">height</span>: 200px;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">middle</span> &#123;</span><br><span class="line">    <span class="attr">height</span>: 200px;</span><br><span class="line">    background-<span class="attr">color</span>: lightgray;</span><br><span class="line">    margin-<span class="attr">left</span>: 210px;</span><br><span class="line">    margin-<span class="attr">right</span>: 210px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>圣杯布局：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">container</span> &#123;</span><br><span class="line">  padding-<span class="attr">left</span>: 220px;<span class="comment">//为左右栏腾出空间</span></span><br><span class="line">  padding-<span class="attr">right</span>: 220px;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">left</span> &#123;</span><br><span class="line">  <span class="attr">float</span>: left;</span><br><span class="line">  <span class="attr">width</span>: 200px;</span><br><span class="line">  <span class="attr">height</span>: 400px;</span><br><span class="line">  <span class="attr">background</span>: red;</span><br><span class="line">  margin-<span class="attr">left</span>: -<span class="number">100</span>%;</span><br><span class="line">  <span class="attr">position</span>: relative;</span><br><span class="line">  <span class="attr">left</span>: -220px;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">center</span> &#123;</span><br><span class="line">  <span class="attr">float</span>: left;</span><br><span class="line">  <span class="attr">width</span>: <span class="number">100</span>%;</span><br><span class="line">  <span class="attr">height</span>: 500px;</span><br><span class="line">  <span class="attr">background</span>: yellow;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">right</span> &#123;</span><br><span class="line">  <span class="attr">float</span>: left;</span><br><span class="line">  <span class="attr">width</span>: 200px;</span><br><span class="line">  <span class="attr">height</span>: 400px;</span><br><span class="line">  <span class="attr">background</span>: blue;</span><br><span class="line">  margin-<span class="attr">left</span>: -200px;</span><br><span class="line">  <span class="attr">position</span>: relative;</span><br><span class="line">  <span class="attr">right</span>: -220px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="7-用CSS实现三角符号"><a href="#7-用CSS实现三角符号" class="headerlink" title="7. 用CSS实现三角符号"></a>7. 用CSS实现三角符号</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">div &#123; </span><br><span class="line">    <span class="attr">width</span>: 0px;   </span><br><span class="line">    <span class="attr">height</span>: 0px;  </span><br><span class="line">    border-<span class="attr">right</span>: 10px solid transparent;   </span><br><span class="line">    border-<span class="attr">top</span>: 30px solid #ff0;  </span><br><span class="line">    border-<span class="attr">left</span>: 10px solid transparent;  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*记忆口诀：盒子宽高均为零，三面边框皆透明。 */</span></span><br></pre></td></tr></table></figure><h3 id="8-常见的布局类型（查）"><a href="#8-常见的布局类型（查）" class="headerlink" title="8. 常见的布局类型（查）"></a>8. 常见的布局类型（查）</h3><p>浮动，定位，flex,grid网格布局</p><p>浮动：</p><ul><li>优点：兼容性好</li><li>缺点：浮动会脱离标准文档流</li></ul><p>定位：</p><ul><li>优点：快捷</li><li>缺点：子元素也脱离了标准文档流，可用性差</li></ul><p>flex布局：弹性布局</p><ul><li>[<a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html]">http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html]</a>:</li></ul><p>网格布局：</p><ul><li>[<a href="http://www.ruanyifeng.com/blog/2019/03/grid-layout-tutorial.html]">http://www.ruanyifeng.com/blog/2019/03/grid-layout-tutorial.html]</a>:</li></ul><h3 id="9-浮动（查）"><a href="#9-浮动（查）" class="headerlink" title="9. 浮动（查）"></a>9. 浮动（查）</h3><p>设置浮动的图片，文字会环绕图片，设置浮动的块级元素，可以排列在一行，设置浮动的行内元素，可以设置宽高。</p><p>设置了浮动的元素会脱离文档流，如果父级盒子没有设置宽高，需要子盒子将她撑起来，则会造成高度塌陷。也会影响其他元素的排列。</p><ol><li><p>额外标签法（在最后一个浮动标签后，新加一个标签，给其设置clear:both）</p><p>新添加了一个标签，会造成不必要的渲染</p></li><li><p>父级添加overflow属性（overflow: hidden;）</p><p>写法方便简单，但是如果盒子中有定位元素超出了父级，则超出部分会隐藏。</p></li><li><p>使用after不会新增加标签，不回影响元素，是最流行的方法。</p></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    .<span class="property">clearfix</span>:：after&#123;<span class="comment">/*伪元素是行内元素 正常浏览器清除浮动方法*/</span></span><br><span class="line">        <span class="attr">content</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="attr">display</span>: table;</span><br><span class="line">        <span class="attr">clear</span>:both;</span><br><span class="line">    &#125;</span><br><span class="line">    .<span class="property">clearfix</span>&#123;</span><br><span class="line">        *<span class="attr">zoom</span>: <span class="number">1</span>;<span class="comment">/*ie6清除浮动的方式 *号只有IE6-IE7执行，其他浏览器不执行*/</span></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;fahter clearfix&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;big&quot;</span>&gt;</span>big<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;small&quot;</span>&gt;</span>small<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="comment">&lt;!--&lt;div class=&quot;clear&quot;&gt;额外标签法&lt;/div&gt;--&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="10-常见的行内元素和块级元素"><a href="#10-常见的行内元素和块级元素" class="headerlink" title="10. 常见的行内元素和块级元素"></a>10. 常见的行内元素和块级元素</h3><p>行内元素 inline</p><ul><li>span、input、img、textarea、label、select</li><li>不能设置宽高，多个元素共享一行，占满的时候会换行</li></ul><p> 块级元素block</p><ul><li>p、h1&#x2F;h2&#x2F;h3&#x2F;h4&#x2F;h5、div、ul、li、table</li><li>可以设置宽高，一个元素占满一整行</li></ul><p>inline-block</p><ul><li>可以设置宽高，多个元素共享一行，占满的时候会换行</li></ul><p>display</p><h3 id="11-px-em-rem-vw-vh-rpx等单位的特性"><a href="#11-px-em-rem-vw-vh-rpx等单位的特性" class="headerlink" title="11. px,em,rem,vw,vh,rpx等单位的特性"></a>11. px,em,rem,vw,vh,rpx等单位的特性</h3><p>px:像素</p><p>em:当前元素的字体大小</p><p>rem:根元素字体大小</p><p>vw:相对于视窗的宽度，视窗宽度是100vw</p><p>vh:相对于视窗的高度，视窗高度是100vh</p><p>rem单位翻译为像素值的时候是由html元素的字体大小决定的。此字体大小会被浏览器中字体大小的设置影响，除非显式的在html为font-size重写一个单位。</p><p>2.em单位转换为像素值的时候，取决于使用它们的元素的font-size的大小，但是有因为有继承关系，所以比较复杂。</p><h3 id="12-什么是DOM事件流？什么是事件委托-查"><a href="#12-什么是DOM事件流？什么是事件委托-查" class="headerlink" title="12. 什么是DOM事件流？什么是事件委托(查)"></a>12. <strong>什么是DOM事件流？什么是事件委托</strong>(查)</h3><ul><li>DOM事件流:事件发生时会在元素节点之间按照特定的顺序进行传播<ul><li>​捕获阶段：最顶层节点开始，向下传播到目标元素接受的过程</li><li>​目标阶段</li><li>​冒泡阶段：目标元素接受然后逐级的向上传播</li></ul></li><li>在addeventListener()的第三个参数(useCapture)设为true，就会在捕获阶段运行，默认是false冒泡</li><li>事件委托:<ul><li>利用冒泡原理（子向父一层层穿透），把事件绑定到父元素中，以实现事件委托</li></ul></li></ul><h3 id="13-事件冒泡和事件捕捉有什么区别（查）"><a href="#13-事件冒泡和事件捕捉有什么区别（查）" class="headerlink" title="13. 事件冒泡和事件捕捉有什么区别（查）"></a>13. 事件冒泡和事件捕捉有什么区别（查）</h3><ul><li>事件冒泡<ul><li>在<code>addEventListener</code>中的第三属性设置为false（默认）</li><li>从下至上（儿子至祖宗）执行</li><li>阻止事件冒泡：<ul><li>e.stopPropagation</li></ul></li></ul></li><li>事件捕捉<ul><li>在<code>addEventListener</code>中的第三属性设置为true</li><li>从上至下（祖宗到儿子）执行</li></ul></li></ul><h3 id="14-link和-import"><a href="#14-link和-import" class="headerlink" title="14. link和@import"></a>14. link和@import</h3><p>1、从属关系：link是html的标签，不仅可以加载 CSS 文件，还可以定义 RSS、rel 连接属性等；而@import是css的语法，只有导入样式表的作用。</p><p>2、加载顺序：页面被加载时，link会和html同时被加载而；@import引入的 CSS 将在页面加载完毕后被加载。</p><p>3、兼容性：@import是 CSS2.1 才有的语法，所以只能在 IE5以上 才能识别；而link是 HTML 标签，所以不存在兼容性问题。</p><p>4、DOM：javascript只能控制dom去改变link标签引入的样式，而@import的样式不是dom可以控制的。</p><p>5、link方式的样式权重高于@import的权重</p><h3 id="15-响应式布局"><a href="#15-响应式布局" class="headerlink" title="15. 响应式布局"></a>15. 响应式布局</h3><p>响应式布局指的是同一页面在不同屏幕尺寸下有不同的布局。。</p><ol><li>媒体查询：可以让我们针对不同的媒体类型定义不同的样式，当重置浏览器窗口大小的过程中，页面也会根据浏览器的宽度和高度重新渲染页面。</li><li>rem布局：默认情况下我们html标签的<code>font-size</code>为16px,我们利用媒体查询，设置在不同设备下的字体大小。</li><li>如果通过rem来实现响应式的布局，只需要根据视图容器的大小，动态的改变font-size即可。</li></ol><h3 id="16-元素不可见"><a href="#16-元素不可见" class="headerlink" title="16. 元素不可见"></a>16. 元素不可见</h3><p><strong>display:none</strong></p><ul><li>该元素和他的子元素不会被渲染</li><li>会让元素从DOM消失，渲染的时候不占据任何空间</li></ul><p><strong>visibility:hidden</strong></p><ul><li>隐藏元素而不更改文档的布局</li><li>不会让元素从DOM消失，渲染的时候任然占据原来的空间</li></ul><p><strong>opacity:0</strong></p><ul><li>元素完全透明</li><li>不会让元素从DOM消失，渲染的时候任然占据原来的空间</li></ul><h3 id="17-css动画属性"><a href="#17-css动画属性" class="headerlink" title="17. css动画属性"></a>17. css动画属性</h3><ul><li><h4 id="transform-translate-参数1，参数2-———位移属性"><a href="#transform-translate-参数1，参数2-———位移属性" class="headerlink" title="transform:translate(参数1，参数2)———位移属性"></a>transform:translate(参数1，参数2)———位移属性</h4></li><li><h4 id="transform-scale-———-2D缩放"><a href="#transform-scale-———-2D缩放" class="headerlink" title="transform:scale()———-2D缩放"></a>transform:<a href="https://so.csdn.net/so/search?q=scale&spm=1001.2101.3001.7020">scale</a>()———-2D缩放</h4></li><li><h4 id="transform-rotate-———2D旋转"><a href="#transform-rotate-———2D旋转" class="headerlink" title="transform:rotate()———2D旋转"></a>transform:rotate()———2D旋转</h4></li><li><p>@keyframes 关键帧名称{<br>  from{初始状态属性}<br>  to{结束状态属性}}</p></li></ul><h4 id="animation属性"><a href="#animation属性" class="headerlink" title="animation属性"></a>animation属性</h4><ul><li><h4 id="animation-name"><a href="#animation-name" class="headerlink" title="animation-name"></a>animation-name</h4></li></ul><p>所应用的动画名称（关键帧名称），必须配合@keyframes使用。</p><ul><li><h4 id="animation-duration"><a href="#animation-duration" class="headerlink" title="animation-duration"></a>animation-duration</h4></li></ul><p>动画持续的时间，例：animation-duration:3s; 即为动画的持续时间为3s。</p><ul><li><h4 id="animation-timing-function"><a href="#animation-timing-function" class="headerlink" title="animation-timing-function"></a>animation-timing-function</h4></li></ul><p> 动画的运动状态：<br>linear：匀速。等同于贝塞尔曲线(0.0, 0.0, 1.0, 1.0)<br>ease：平滑。等同于贝塞尔曲线(0.25, 0.1, 0.25, 1.0)<br>ease-in：由慢到快。等同于贝塞尔曲线(0.42, 0, 1.0, 1.0)<br>ease-out：由快到慢。等同于贝塞尔曲线(0, 0, 0.58, 1.0)<br>ease-in-out：由慢到快再到慢。等同于贝塞尔曲线(0.42, 0, 0.58, 1.0) </p><ul><li><h4 id="animation-iteration-count"><a href="#animation-iteration-count" class="headerlink" title="animation-iteration-count"></a>animation-iteration-count</h4></li></ul><p> 动画的循坏次数：<br>infinite： 无限循环<br>number: 循环的次数 </p><h1 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h1><h3 id="0-Object常用的API"><a href="#0-Object常用的API" class="headerlink" title="0. Object常用的API"></a>0. Object常用的API</h3><p>Object.create()方法创建一个新对象，使用现有的对象来提供新创建的对象的__proto__。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  <span class="attr">isHuman</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">printIntroduction</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`My name is <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>. Am I human? <span class="subst">$&#123;<span class="variable language_">this</span>.isHuman&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> me = <span class="title class_">Object</span>.<span class="title function_">create</span>(person);</span><br></pre></td></tr></table></figure><p>Object.is()方法判断两个值是否为<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Equality_comparisons_and_sameness">同一个值</a>。</p><p> Object.hasOwnProperty()方法会返回一个布尔值，指示对象自身属性中是否具有指定的属性（也就是，是否有指定的键）</p><p><code>**Object.assign()**</code> 方法用于将所有可枚举属性的值从一个或多个源对象分配到目标对象。它将返回目标对象。</p><p><code>**Object.values()**</code>方法返回一个给定对象自身的所有可枚举value的数组</p><h3 id="1-基本数据类型"><a href="#1-基本数据类型" class="headerlink" title="1. 基本数据类型"></a>1. 基本数据类型</h3><p> <code>Undefined</code> 、 <code>Null</code> 、 <code>Boolean</code> 、 <code>Number</code> 、 <code>String</code>  、 <code>Symbol</code> 、 <code>BigInt</code></p><ul><li>Symbol 代表独一无二的值，最大的用法是用来定义对象的唯一属性名。</li><li>BigInt 可以表示任意大小的整数。处理转换当中的精度缺失，它提供了一种方法来表示大于 <code>2^53 - 1</code> 的整数，在最后加n定义</li></ul><h3 id="2-数据类型检测"><a href="#2-数据类型检测" class="headerlink" title="2. 数据类型检测"></a>2. 数据类型检测</h3><table><thead><tr><th>不同类型</th><th><code>typeof</code></th><th><code>instanceof</code></th><th><code>Object.prototype.toString.call()</code></th></tr></thead><tbody><tr><td>优点</td><td>快速区分基本类型</td><td>能够区分Array、Object和Function，原理：查找目标对象的原型链</td><td>精准判断数据类型</td></tr><tr><td>缺点</td><td>不能将Object、Array和Null区分，都返回object</td><td>Number，Boolean，String基本数据类型不能判断</td><td>写法繁琐不容易记，推荐进行封装后使用</td></tr></tbody></table><p>constructor:返回创建实例对象的构造函数的引用</p><p>如何判断变量是否为数组？</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="title function_">isArray</span>(arr); <span class="comment">// true</span></span><br><span class="line">arr.<span class="property">__proto__</span> === <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>; <span class="comment">// true</span></span><br><span class="line">arr <span class="keyword">instanceof</span> <span class="title class_">Array</span>; <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(arr); <span class="comment">// &quot;[object Array]&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>判断一个数是整数：</p><p>Number.isInteger，取余</p><p>类数组转换为数组</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>);</span><br></pre></td></tr></table></figure><p>array &#x3D; Array.from(arr);</p><h3 id="数据类型转换："><a href="#数据类型转换：" class="headerlink" title="数据类型转换："></a>数据类型转换：</h3><p><strong>强制转换</strong></p><ul><li>Number()</li><li>parseInt()</li><li>String()和toString()</li><li>Boolean()</li></ul><p><strong>自动转换</strong></p><ul><li>比较运算</li><li>算术运算</li></ul><h3 id="4-作用域和作用域链"><a href="#4-作用域和作用域链" class="headerlink" title="4. 作用域和作用域链"></a>4. 作用域和作用域链</h3><p>作用域：规定变量和函数的可适用范围称作用域，分为全局作用域和局部作用域</p><ul><li>全局作用域为程序的最外层作用域，一直存在</li><li>函数作用域只有函数被定义时才会创建，包含在父级函数作用域 &#x2F; 全局作用域内。</li><li>由于作用域的限制，每段独立的执行代码块只能访问自己作用域和外层作用域中的变量，无法访问到内层作用域的变量。</li></ul><p>作用域链：当可执行代码内部访问变量时，会先查找本地作用域，如果找到目标变量即返回，否则会去父级作用域继续查找…一直找到全局作用域。我们把这种作用域的嵌套机制，称为作用域链。</p><h3 id="5-什么是闭包"><a href="#5-什么是闭包" class="headerlink" title="5. 什么是闭包"></a>5. 什么是闭包</h3><p>闭包是指嵌套在一个函数内部中的函数。当一个嵌套的子函数引用了外部复函数的变量时，就产生了闭包。</p><p>原理：当前作用域可以访问上级作用域中的变量</p><p>作用：</p><p>（1）保护：<br> （2）保存：当前上下文的某些内容被上下文以外的内容占用，当前上下文不被释放，则存储的这些私有变量也不会被释放，可以供其下级上下文中调取使用，相当于把一些值保存起来</p><p>优点和缺点：延长局部变量的生命周期，但会导致函数的变量一直保存在内存中，过多的闭包可能会导致内存泄漏</p><p><strong>应用：</strong>setTimeout，柯里化(是把接受多个参数的函数变换成接受一个单一参数（最初函数的第一个参数）的函数，并且返回接受余下的参数而且返回结果的新函数的技术。)，模仿块级作用域，函数防抖和节流</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">create</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> a = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fn = <span class="title function_">create</span>();</span><br><span class="line"><span class="keyword">const</span> a = <span class="number">200</span>;</span><br><span class="line"><span class="title function_">fn</span>(); <span class="comment">// 100</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>解决办法：在退出函数之前，将不使用的局部变量全部删除。</p><h3 id="6-this的指向"><a href="#6-this的指向" class="headerlink" title="6. this的指向"></a>6. this的指向</h3><ul><li>this 总是（非严格模式下）指向一个对象，而具体指向哪个对象是在运行时基于函数的<code>执行环境</code>动态绑定的，而非函数被声明时的环境；</li><li>this 在严格模式下 指向 undefined</li><li>this存在的环境有三种，全局执行上下文和函数执行上下文，eval。</li></ul><p><strong>1、作为对象的方法调用</strong></p><p>当函数作为对象的方法被调用时，<code>this指向该对象</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="string">&#x27;yuguang&#x27;</span>,</span><br><span class="line">    <span class="attr">getName</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span> === obj);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">getName</span>(); <span class="comment">// true yuguang</span></span><br></pre></td></tr></table></figure><p><strong>2、作为普通函数调用</strong></p><p>this总是指向全局对象（在浏览器中，通常是Window对象）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">name</span> = <span class="string">&#x27;老王&#x27;</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;yuguang&#x27;</span>,</span><br><span class="line">    <span class="attr">getName</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> getNew = obj.<span class="property">getName</span>;</span><br><span class="line"><span class="title function_">getNew</span>(); <span class="comment">// 老王</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>3、构造器调用</strong></p><p>当new运算符调用函数时，总是返回一个对象，this通常也指向这个对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">MyClass</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;yuguang&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title class_">MyClass</span>();</span><br><span class="line">obj.<span class="property">name</span>; <span class="comment">// yuguang</span></span><br></pre></td></tr></table></figure><p>但是，如果显式的返回了一个object对象，那么此次运算结果最终会返回这个对象</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">MyClass</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> myClass = <span class="keyword">new</span> <span class="title class_">MyClass</span>(); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;myClass:&#x27;</span>, myClass); <span class="comment">// &#123; name: 2&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>4、call或apply调用</strong></p><p>跟普通的函数调用相比，用call和apply可以动态的改变函数的this</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">getName</span>: <span class="keyword">function</span> (<span class="params">num = <span class="string">&#x27;&#x27;</span></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span> + num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="number">2</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 可以理解成在 obj2的作用域下调用了 obj1.getName()函数</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="title function_">getName</span>()); <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">getName</span>.<span class="title function_">call</span>(obj2, <span class="number">2</span>)); <span class="comment">// 2 + 2 = 4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">getName</span>.<span class="title function_">apply</span>(obj2, [<span class="number">2</span>])); <span class="comment">// 2 + 2 = 4</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>5.箭头函数</strong></p><p>箭头函数不会创建自己的this，它只会从自己的父类执行上下文继承this。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">val</span> = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">val</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">getVal</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">val</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">getVal</span>(); <span class="comment">// 2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="7-new-实现"><a href="#7-new-实现" class="headerlink" title="7. new 实现"></a>7. new 实现</h3><ol><li><p>首先创一个新的空对象。</p></li><li><p>根据原型链，设置空对象的 <code>__proto__</code> 为构造函数的 <code>prototype</code> 。</p></li><li><p>构造函数的 this 指向这个对象，执行构造函数的代码（为这个新对象添加属性）。</p></li><li><p>判断函数的返回值类型，如果是引用类型，就返回这个引用类型的对象。</p></li><li><pre><code class="javascript">function createPerson(name,age)&#123;    // 1.实例化Object对象    const o=new Object()    // 2.改变构造函数的this指向    Person.call(o,name,age)    // 3.原型链继承    o.__proto__=Person.prototype    // 4.返回这个对象    return o  &#125;<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">   </span><br><span class="line">   创建一个空对象</span><br><span class="line">   </span><br><span class="line">   `object.create(null)`</span><br><span class="line"></span><br><span class="line">### 8. **0.1+0.2&gt;0.3** </span><br><span class="line"></span><br><span class="line">因为在JS底层中，每个变量是以二进制表示，固定长度为64位，其中第1位是符号位，再往后11位是指数为，最后52表示的是尾数位，而0.1和0.2转为二进制的时候是无限循环小数，所以JS就会进行截取，截取以后0.1和0.2就不是他们本身了，要比原来大那么一丢丢，所以0.1+0.2就&gt;0.3了</span><br><span class="line"></span><br><span class="line">解决：先给他们**放大倍数**，随后在**除以相应倍数**</span><br><span class="line"></span><br><span class="line">```javascript</span><br><span class="line">const a = 0.1;</span><br><span class="line">const b = 0.2;</span><br><span class="line"></span><br><span class="line">console.log(a + b === 0.3)   // false</span><br><span class="line">console.log((a * 1000 + b * 1000) / 1000 === 0.3)  // true</span><br><span class="line"></span><br></pre></td></tr></table></figure></code></pre></li></ol><h3 id="9-和-的区别"><a href="#9-和-的区别" class="headerlink" title="9. &#x3D;&#x3D; 和&#x3D;&#x3D;&#x3D;的区别"></a>9. &#x3D;&#x3D; 和&#x3D;&#x3D;&#x3D;的区别</h3><p>&#x3D;&#x3D;&#x3D;是严格意义上的相等，会比较两边的数据类型和值大小</p><p>&#x3D;&#x3D;是非严格意义上的相等</p><p>Null &#x3D;&#x3D; Undefined -&gt;true<br>String &#x3D;&#x3D; Number -&gt;先将String转为Number，在比较大小<br>Boolean &#x3D;&#x3D; Number -&gt;现将Boolean转为Number，在进行比较<br>Object &#x3D;&#x3D; String，Number，Symbol -&gt; Object 转化为原始类型</p><h3 id="10-NaN-NaN返回什么"><a href="#10-NaN-NaN返回什么" class="headerlink" title="10. NaN === NaN返回什么"></a>10. <strong><code>NaN === NaN</code>返回什么</strong></h3><p>返回 <code>false</code>，<code>NaN</code>永远不等于<code>NaN</code>，判断是否为<code>NaN</code>用一个函数 <code>isNaN</code>来判断；</p><p><code>isNaN</code>传入的如果是其他数据类型，那么现将它使用<code>Number()</code>转为数字类型在进行判断</p><h3 id="11-手写call、apply、bind（查）"><a href="#11-手写call、apply、bind（查）" class="headerlink" title="11. 手写call、apply、bind（查）"></a>11. <strong>手写call、apply、bind</strong>（查）</h3><p>三者都是改变this的指向的方法，</p><p>判断是否是函数，call和apply都会调用函数，改变函数内部this的指向。</p><p>call和apply传递的参数不一样</p><p>call:</p><ul><li>如果不传参数，或者第一个参数是<code>null</code>或<code>nudefined</code>，<code>this</code>都指向<code>window</code></li><li>第一个参数是谁，this就指向谁，包括null和undefined，如果不传参数this就是undefined</li></ul><p>apply:</p><ul><li>apply把需要传递给fn的参数放到一个数组（或者类数组）中传递进去，虽然写的是一个数组，但是也相当于给fn一个个的传递</li></ul><p>bind:改变函数内部的this指向，函数不会被调用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myCall</span> = <span class="keyword">function</span> (<span class="params">context</span>) &#123;</span><br><span class="line">  <span class="comment">// 先判断调用myCall是不是一个函数</span></span><br><span class="line">  <span class="comment">// 这里的this就是调用myCall的</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable language_">this</span> !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&quot;Not a Function&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 不传参数默认为window</span></span><br><span class="line">  context = context || <span class="variable language_">window</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 保存this</span></span><br><span class="line">  context.<span class="property">fn</span> = <span class="variable language_">this</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 保存参数</span></span><br><span class="line">  <span class="keyword">let</span> args = <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="variable language_">arguments</span>).<span class="title function_">slice</span>(<span class="number">1</span>)   <span class="comment">//Array.from 把伪数组对象转为数组</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 调用函数</span></span><br><span class="line">  <span class="keyword">let</span> result = context.<span class="title function_">fn</span>(...args)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">delete</span> context.<span class="property">fn</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myApply</span> = <span class="keyword">function</span> (<span class="params">context</span>) &#123;</span><br><span class="line">      <span class="comment">// 判断this是不是函数</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable language_">this</span> !== <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&quot;Not a Function&quot;</span>)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> result</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 默认是window</span></span><br><span class="line">      context = context || <span class="variable language_">window</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// 保存this</span></span><br><span class="line">      context.<span class="property">fn</span> = <span class="variable language_">this</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// 是否传参</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">arguments</span>[<span class="number">1</span>]) &#123;</span><br><span class="line">        result = context.<span class="title function_">fn</span>(...<span class="variable language_">arguments</span>[<span class="number">1</span>])</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        result = context.<span class="title function_">fn</span>()</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">delete</span> context.<span class="property">fn</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> result</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myBind</span> = <span class="keyword">function</span>(<span class="params">context</span>)&#123;</span><br><span class="line">  <span class="comment">// 判断是否是一个函数</span></span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable language_">this</span> !== <span class="string">&quot;function&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&quot;Not a Function&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 保存调用bind的函数</span></span><br><span class="line">  <span class="keyword">const</span> _this = <span class="variable language_">this</span> </span><br><span class="line">  <span class="comment">// 保存参数</span></span><br><span class="line">  <span class="keyword">const</span> args = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">arguments</span>,<span class="number">1</span>)</span><br><span class="line">  <span class="comment">// 返回一个函数</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> <span class="title function_">F</span> () &#123;</span><br><span class="line">    <span class="comment">// 判断是不是new出来的</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">this</span> <span class="keyword">instanceof</span> F) &#123;</span><br><span class="line">      <span class="comment">// 如果是new出来的</span></span><br><span class="line">      <span class="comment">// 返回一个空对象，且使创建出来的实例的__proto__指向_this的prototype，且完成函数柯里化</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title function_">_this</span>(...args,...<span class="variable language_">arguments</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="comment">// 如果不是new出来的改变this指向，且完成函数柯里化</span></span><br><span class="line">      <span class="keyword">return</span> _this.<span class="title function_">apply</span>(context,args.<span class="title function_">concat</span>(...<span class="variable language_">arguments</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="12-执行栈和执行上下文"><a href="#12-执行栈和执行上下文" class="headerlink" title="12. 执行栈和执行上下文"></a>12. 执行栈和执行上下文</h3><p>执行栈：</p><ul><li>首先栈特点：先进后出</li><li>每次函数调用时，就会创建出它的执行上下文，然后进行压栈，当函数执行完成时，它的执行上下文就会被销毁，进行弹栈。</li><li>栈底永远是全局环境的执行上下文，栈顶永远是正在执行函数的执行上下文</li><li>只有浏览器关闭的时候全局执行上下文才会弹出</li></ul><p>执行上下文：</p><ul><li>全局执行上下文：只有一个，浏览器中的全局对象就是 window 对象，this 指向这个全局对象。</li><li>函数执行上下文：每次函数调用时，都会新创建一个函数执行上下文</li></ul><h3 id="13-原型，原型链"><a href="#13-原型，原型链" class="headerlink" title="13. 原型，原型链"></a>13. 原型，原型链</h3><p>每个实例对象上都有一个 <code>__proto__ </code>隐式原型属性,每个构造函数都有一个<code>prototype</code>显示原型属性，两者都指向了构造函数的原型对象上。原型对象上的方法和属性能够被实例对象所共享。而原型对象上也是一个对象，他也有自己的原型。就这样一层一层的往上，直到Object的原型对象上的__proto__为null，就这样一层一层的链条形成了原型链。这也就是为什么每个对象都能够使用Object.prototype.tostring的方法</p><h3 id="14-JS-中的常用的继承方式"><a href="#14-JS-中的常用的继承方式" class="headerlink" title="14. JS 中的常用的继承方式"></a>14. <strong>JS 中的常用的继承方式</strong></h3><p>原型继承、构造函数继承、组合继承，寄生组合继承、ES6的extend</p><p>原型继承：会共享引用属性</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">// ----------------------方法一：原型继承</span></span><br><span class="line">   <span class="comment">// 原型继承</span></span><br><span class="line">   <span class="comment">// 把父类的实例作为子类的原型</span></span><br><span class="line">   <span class="comment">// 缺点：子类的实例共享了父类构造函数的引用属性 </span></span><br><span class="line"></span><br><span class="line">   <span class="comment">//父类</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name,age</span>)&#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">name</span> = name || <span class="string">&#x27;unknow&#x27;</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">age</span> = age || <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//子类</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Student</span>(<span class="params">name</span>)&#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">score</span> = <span class="number">80</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//继承</span></span><br><span class="line"><span class="title class_">Student</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> stu = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&#x27;lucy&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stu.<span class="property">name</span>);  <span class="comment">//lucy  --子类覆盖父类的属性</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stu.<span class="property">age</span>);   <span class="comment">// 0    --父类的属性</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stu.<span class="property">score</span>);  <span class="comment">// 80   --子类自己的属性</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>构造函数继承：会独享所有属性，包括引用属性（重点是函数）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//父类</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">hobbies</span> = [<span class="string">&#x27;music&#x27;</span>,<span class="string">&#x27;reading&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//子类</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Student</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="title class_">Person</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> stu1 = <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line"><span class="keyword">var</span> stu2 = <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line"></span><br><span class="line">stu1.<span class="property">hobbies</span>.<span class="title function_">push</span>(<span class="string">&#x27;basketball&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stu1.<span class="property">hobbies</span>);  <span class="comment">// [&quot;music&quot;, &quot;reading&quot;, &quot;basketball&quot;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(stu2.<span class="property">hobbies</span>);  <span class="comment">//  [&quot;music&quot;, &quot;reading&quot;]</span></span><br></pre></td></tr></table></figure><p>组合继承：利用原型链继承要共享的属性，利用构造函数继承要独享的属性，实现相对完美的继承</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ----------------------方法二：组合继承</span></span><br><span class="line"><span class="comment">// 在子函数中运行父函数，但是要利用call把this改变一下，</span></span><br><span class="line"><span class="comment">// 再在子函数的prototype里面new Father() ,使Father的原型中的方法也得到继承，最后改变Son的原型中的constructor</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 缺点：调用了两次父类的构造函数，造成了不必要的消耗，父类方法可以复用</span></span><br><span class="line"><span class="comment">// 优点可传参，不共享父类引用属性</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Father</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">hobby</span> = [<span class="string">&quot;篮球&quot;</span>, <span class="string">&quot;足球&quot;</span>, <span class="string">&quot;乒乓球&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Father</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getName</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">  <span class="title class_">Father</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, name)</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Father</span>()</span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Son</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&quot;ming&quot;</span>, <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>寄生组合继承：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ----------------------方法三：寄生组合继承</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Father</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">hobby</span> = [<span class="string">&quot;篮球&quot;</span>, <span class="string">&quot;足球&quot;</span>, <span class="string">&quot;乒乓球&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Father</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getName</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">  <span class="title class_">Father</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, name)</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Father</span>.<span class="property"><span class="keyword">prototype</span></span>)</span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Son</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s2 = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&quot;ming&quot;</span>, <span class="number">18</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s2);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>extend：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ----------------------方法四：ES6的extend（寄生组合继承的语法糖）</span></span><br><span class="line"><span class="comment">//     子类只要继承父类，可以不写 constructor ，一旦写了，则在 constructor 中的第一句话</span></span><br><span class="line"><span class="comment">// 必须是 super 。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son3</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Father</span> &#123; <span class="comment">// Son.prototype.__proto__ = Father.prototype</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">y</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(<span class="number">200</span>)  <span class="comment">// super(200) =&gt; Father.call(this,200)</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> = y</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="15-内存泄漏"><a href="#15-内存泄漏" class="headerlink" title="15. 内存泄漏"></a>15. 内存泄漏</h3><p>概念：内存泄露是指不再用的内存没有被及时释放出来，导致该段内存无法被使用就是内存泄漏（全局变量、闭包、DOM 元素的引用、定时器）</p><p>原因：内存泄漏指我们无法在通过js访问某个对象，而垃圾回收机制却认为该对象还在被引用，因此垃圾回收机制不会释放该对象，导致该块内存永远无法使用，积少成多，系统会越来越卡以至于崩溃</p><p>解决：避免使用全局变量，手动删除定时器和DOM,removeEventListener移除事件监听。</p><h3 id="16-垃圾回收机制："><a href="#16-垃圾回收机制：" class="headerlink" title="16. 垃圾回收机制："></a>16. 垃圾回收机制：</h3><ul><li>标记清除法</li></ul><p>垃圾回收机制获取根节点并标记他们，然后访问并标记所有来自它们的引用，然后在访问这些对象并标记它们的引用…如此递进结束后若发现有没有标记的（不可达的）进行删除，进入执行环境的不能进行删除</p><ul><li>引用计数法</li></ul><p>当声明一个变量并赋值时，值+1，当该值被取代时-1，为0时进行删除。</p><h3 id="17-深拷贝和浅拷贝"><a href="#17-深拷贝和浅拷贝" class="headerlink" title="17. 深拷贝和浅拷贝"></a>17. 深拷贝和浅拷贝</h3><p>浅拷贝：创建了一个新对象，这个对象有着原始对象属性值的一份精确拷贝。如果属性是基本类型，则拷贝的就是基本类型的值；如果属性是引用类型，拷贝的就是内存地址，所以如果其中一个对象改变了这个地址，就会影响到另一个对象。</p><ol><li><strong>Object.assign() 方法：</strong> 用于将所有可枚举属性的值从一个或多个源对象复制到目标对象。它将返回目标对象。</li><li><strong>Array.prototype.slice()：</strong>slice() 方法返回一个新的数组对象，这一对象是一个由 begin和end（不包括end）决定的原数组的浅拷贝。原始数组不会被改变。</li><li><strong>拓展运算符<code>...</code></strong></li></ol><p>深拷贝：拷贝所有的属性，并在计算机中开辟出了一块新的内存，拷贝前后两个对象互不影响。</p><p>js实用工具库，提供了许多API</p><ul><li>Lodash中的_.cloneDeep()，_.merge(a,b)(合并)，_.reject()（根据条件去除某个元素）</li><li>手写循环递归</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span> <span class="title function_">clone</span>(<span class="params">target</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> target === <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> cloneTarget = <span class="title class_">Array</span>.<span class="title function_">isArray</span>(target) ? [] : &#123;&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> target) &#123;</span><br><span class="line">            cloneTarget[key] = <span class="title function_">clone</span>(target[key]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cloneTarget;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> target;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li>JSON.parse(JSON.stringify())</li></ul><p>缺点：NaN &#x3D;&#x3D;&#x3D;&gt; null</p><p>​undefined 函数 &#x3D;&#x3D;&#x3D;&gt; 丢失</p><p>​时间戳 &#x3D;&#x3D;&#x3D;&gt; 字符串时间</p><p>​错误信息 &#x3D;&#x3D;&#x3D;&gt; 空对象</p><p>​循环引用对象 &#x3D;&#x3D;&#x3D;》 报错</p><p>​obj中有属性是new出来的，则会丢弃对应的constructor 初始化构造器</p><h3 id="18-js是单线程"><a href="#18-js是单线程" class="headerlink" title="18. js是单线程"></a>18. js是单线程</h3><p>因为JS里面有可视的Dom，如果是多线程的话，这个线程正在删除DOM节点，另一个线程正在编辑Dom节点，导致浏览器不知道该听谁的。</p><h3 id="19-promise"><a href="#19-promise" class="headerlink" title="19. promise"></a>19. promise</h3><p><code>promise</code>是异步编程的解决方案，简单来说就是一个容器，里面保存着一个异步操作的结果，从语法上说，<code>promise</code>是一个对象，可以改变对象获取异步操作的消息。promise共有三个状态</p><p>pending（执行中）、success（成功）、rejected（失败）</p><p>状态只能由 Pending –&gt; Fulfilled 或者 Pending –&gt; Rejected，且一但发生改变便不可二次修改</p><p>作用：他可以解决回调地狱的问题，也就是异步深层嵌套的问题。</p><p>基本使用：我们可以new一个promise  <code>promise</code>的构造函数接受一个函数，并且传入两个参数：<code>resolve</code>和<code>reject</code>分别表示异步操作执行成功的回调和失败的回调。<code>promise</code>实例生成以后，可以用then方法指定resolved状态和reject状态的回调函数。</p><p>.catch()：获取异常信息</p><p>.all()：Promise.all()创建的Promise会在这一组Promise全部解决后在解决。也就是说会等待所有的promise程序都返回结果之后执行后续的程序。返回一个新的Promise。应用：当需要加载的资源较多时。</p><ul><li>如果所有都成功，则合成Promise的返回值就是所有子Promise的返回值数组。</li><li>如果有一个失败，那么第一个失败的会把自己的理由作为合成Promise的失败理由</li></ul><p>.race()：得到的却是数组中跑的最快的那个，当最快的一跑完就立马结束。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">let p = new Promise(function(resolve, reject)&#123;</span><br><span class="line">//做一些异步操作</span><br><span class="line">setTimeout(function()&#123;</span><br><span class="line">var flag = false</span><br><span class="line">if(flag) &#123;</span><br><span class="line">resolve(&#x27;hello&#x27;)</span><br><span class="line">&#125;else &#123;</span><br><span class="line">reject(&#x27;出错了&#x27;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;, 2000);</span><br><span class="line">&#125;);</span><br><span class="line">p.then(function(data) &#123;</span><br><span class="line">console.log(&#x27;成功回调&#x27;,data)</span><br><span class="line">&#125;,function(info) &#123;</span><br><span class="line">console.log(&#x27;失败了&#x27;,info))</span><br></pre></td></tr></table></figure><p>通过promise获取网络图片</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">title</span>&gt;</span>手写promise加载图片<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> url1=<span class="string">&#x27;https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=3719520752,2657134858&amp;fm=26&amp;gp=0.jpg&#x27;</span><span class="comment">//网上随便找一个图片的地址</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> url2=<span class="string">&#x27;https://dss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3461776228,1302027451&amp;fm=26&amp;gp=0.jpg&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">function</span> <span class="title function_">loadImage</span>(<span class="params">src</span>)&#123;<span class="comment">//定义一个异步加载图片的函数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;<span class="comment">//new一个promise对象</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> img =<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;img&#x27;</span>)<span class="comment">//创建一个img节点</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">img.<span class="property">src</span>=src<span class="comment">//把我们的图片地址给我们新建的节点</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">img.<span class="property">onload</span>=<span class="function">()=&gt;</span>&#123;<span class="comment">//通过监听节点成功建立（当然图片也传进去）调用resolve</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="title function_">resolve</span>(img)<span class="comment">//返回整个节点,可以用.then捕捉</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">img.<span class="property">onerror</span>=<span class="function">()=&gt;</span>&#123;<span class="comment">//监听错误，可以用.catch捕捉</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="title function_">reject</span>(<span class="string">`图片加载失败，地址为<span class="subst">$&#123;src&#125;</span>`</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;) </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">return</span> p<span class="comment">//记得把整个promise对象返回</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="title function_">loadImage</span>(url1)<span class="comment">//调用异步函数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="20-async和await"><a href="#20-async和await" class="headerlink" title="20. async和await"></a>20. async和await</h3><p>作用：async用于申明一个function是异步的，而await用于等待一个异步方法执行完成，他可以很好的替代promise中的then。</p><p>async函数返回一个promise对象，当函数执行的时候，一旦遇到await就会先返回，等到异步操作完成，在接着执行函数体内后面的语句</p><h3 id="21-宏任务和微任务"><a href="#21-宏任务和微任务" class="headerlink" title="21. 宏任务和微任务"></a>21. 宏任务和微任务</h3><ul><li>宏任务：script,setTimeOut<code>、</code>setInterval,DOM事件</li><li>微任务：promise.then<code>,</code>process.nextTick<code>、</code>MutationObserver</li><li>微任务比宏任务先执行</li><li>promise的resolve是同步的，async遇到await之前是同步的，在执行await后面的代码，返回promise,await下面的代码放入微任务并退出。</li></ul><h3 id="22-js执行机制-event-loop-事件循环"><a href="#22-js执行机制-event-loop-事件循环" class="headerlink" title="22. js执行机制(event loop 事件循环)"></a>22. js执行机制(event loop 事件循环)</h3><p>JavaScript代码的执行过程中，除了依靠函数调用栈来搞定函数的执行顺序外，还依靠任务队列(task queue)来搞定另外一些代码的执行。</p><p>1）所有的同步任务都在主线程上执行，行成一个执行栈。</p><p>2）除了主线程之外，还存在一个任务列队event table，只要异步任务有了运行结果，Event Table会将这个函数移入Event Queue。</p><p>3）但是js异步有一个机制，就是遇到宏任务，先执行宏任务，将宏任务放入eventqueue，然后在执行宏任务中的微任务，将微任务放入eventqueue，但是两个queue不同。</p><p>4）主线程执行完毕后，会去微任务queue中读取，进入主线程执行，再从宏任务的queue读取。</p><p>5）重复上面三步。</p><h3 id="24-防抖和节流"><a href="#24-防抖和节流" class="headerlink" title="24. 防抖和节流"></a>24. 防抖和节流</h3><p>防抖：n秒后在执行该事件，若在n秒内被重复触发，则重新计时（频繁操作点赞和取消点赞，搜索联想，）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounce2</span>(<span class="params">fn, delay</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> timer</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> args = <span class="variable language_">arguments</span></span><br><span class="line">        <span class="keyword">if</span> (timer) <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> callNow = !timer</span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          timer = <span class="literal">null</span></span><br><span class="line">        &#125;, delay);</span><br><span class="line">        <span class="keyword">if</span> (callNow) &#123; <span class="title function_">fn</span>(args) &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>节流：n秒内只运行一次，若在n秒内重复触发，只有一次生效（鼠标不断点击触发）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttle2</span>(<span class="params">fn, wait</span>) &#123;</span><br><span class="line">     <span class="keyword">let</span> timer</span><br><span class="line">     <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">       <span class="keyword">let</span> _this = <span class="variable language_">this</span></span><br><span class="line">       <span class="keyword">let</span> args = <span class="variable language_">arguments</span></span><br><span class="line">       <span class="keyword">if</span> (!timer) &#123;</span><br><span class="line">         timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">           timer = <span class="literal">null</span></span><br><span class="line">           fn.<span class="title function_">apply</span>(_this, <span class="variable language_">arguments</span>)</span><br><span class="line">         &#125;, wait);</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>函数防抖是某一段时间内只执行一次，而函数节流是间隔时间执行</p><h3 id="26-常用的数组方法（查）"><a href="#26-常用的数组方法（查）" class="headerlink" title="26. 常用的数组方法（查）"></a>26. 常用的数组方法（查）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&quot;李白&quot;</span>, <span class="number">123</span>, <span class="literal">false</span>, <span class="literal">undefined</span>, <span class="literal">null</span>, <span class="literal">true</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">13</span>]</span><br><span class="line">        <span class="comment">// 在数组末尾增加 push()</span></span><br><span class="line">        arr.<span class="title function_">push</span>(<span class="string">&quot;剑仙&quot;</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">        <span class="comment">// 在数组末尾删除 pop()</span></span><br><span class="line">        arr.<span class="title function_">pop</span>()</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">        <span class="comment">// 在数组开头删除 shift()</span></span><br><span class="line">        arr.<span class="title function_">shift</span>()</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">        <span class="comment">// 删除 splice()</span></span><br><span class="line">        arr.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">        <span class="comment">// 修改 splice()</span></span><br><span class="line">        arr.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">0</span>, <span class="string">&quot;诗圣&quot;</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">        arr.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">3</span>, <span class="number">10</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 数组转化为字符串 join() 产生一个新数组，不会改变原数组 以xx隔开</span></span><br><span class="line">        <span class="keyword">var</span> arr1 = arr.<span class="title function_">join</span>(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr1);</span><br><span class="line">        <span class="comment">// 合并两个数组 concat() 产生一个新数组，不会改变原数组</span></span><br><span class="line">        <span class="keyword">var</span> arr3 = arr.<span class="title function_">concat</span>(arr1)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr3);</span><br><span class="line">        <span class="comment">// 数组的截取 slice() 产生一个新数组，不会改变原数组</span></span><br><span class="line">        <span class="keyword">var</span> arr4 = arr.<span class="title function_">slice</span>(<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr4);</span><br><span class="line">        <span class="comment">// 数组的翻转 reverse() 产生一个新数组，不会改变原数组</span></span><br><span class="line">        <span class="keyword">var</span> arr5 = arr.<span class="title function_">reverse</span>()</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr5);</span><br><span class="line">        <span class="comment">// 数组排序 sort() 产生一个新数组，不会改变原数组</span></span><br><span class="line">        <span class="keyword">var</span> arr6 = arr.<span class="title function_">sort</span>(<span class="keyword">function</span> (<span class="params">a, b</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> a - b</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr6);</span><br></pre></td></tr></table></figure><h4 id="1-数组排序"><a href="#1-数组排序" class="headerlink" title="1. 数组排序"></a>1. 数组排序</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">4</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= arr.<span class="property">length</span> - <span class="number">1</span>; i++) &#123; </span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt;= arr.<span class="property">length</span> - i - <span class="number">1</span>; j++) &#123; </span><br><span class="line">                <span class="keyword">if</span> (arr[j] &lt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                    <span class="keyword">var</span> temp = arr[j];</span><br><span class="line">                    arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">                    arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br></pre></td></tr></table></figure><h4 id="2-数组最大值"><a href="#2-数组最大值" class="headerlink" title="2. 数组最大值"></a>2. 数组最大值</h4><h5 id="1-冒泡排序"><a href="#1-冒泡排序" class="headerlink" title="1. 冒泡排序"></a>1. 冒泡排序</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">2</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">343</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">65</span>, <span class="number">234</span>]</span><br><span class="line">        <span class="keyword">var</span> max = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (a[i] &gt; a[i + <span class="number">1</span>]) &#123;</span><br><span class="line">                max = a[i]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(max);</span><br></pre></td></tr></table></figure><h4 id="3-数组去重"><a href="#3-数组去重" class="headerlink" title="3. 数组去重"></a>3. 数组去重</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">23</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">54</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span> - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; arr.<span class="property">length</span> - <span class="number">1</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (arr[i] == arr[j]) &#123;</span><br><span class="line">                    arr.<span class="title function_">splice</span>(j, <span class="number">1</span>)</span><br><span class="line">                    j--  <span class="comment">// 因为每次删除都会改变数组的长度，所以删了之后要是下标-1,之后再+1回到原来下标</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br></pre></td></tr></table></figure><h4 id="4-反转数组"><a href="#4-反转数组" class="headerlink" title="4. 反转数组"></a>4. 反转数组</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>, <span class="string">&#x27;pink&#x27;</span>, <span class="string">&#x27;purple&#x27;</span>, <span class="string">&#x27;hotpink&#x27;</span>];</span><br><span class="line">        <span class="keyword">var</span> newArr = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = arr.<span class="property">length</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            newArr[newArr.<span class="property">length</span>] = arr[i]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(newArr);</span><br></pre></td></tr></table></figure><h4 id="5-遍历数组"><a href="#5-遍历数组" class="headerlink" title="5. 遍历数组"></a>5. 遍历数组</h4><h5 id="1-for-of"><a href="#1-for-of" class="headerlink" title="1. for of"></a><strong>1. for of</strong></h5><ul><li>不同于forEach的是，for of 循环可以随时退出</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>, <span class="string">&#x27;pink&#x27;</span>, <span class="string">&#x27;purple&#x27;</span>, <span class="string">&#x27;hotpink&#x27;</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> arr) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(i) <span class="comment">//red green blue pink purplr hotpink</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h5 id="2-forEach"><a href="#2-forEach" class="headerlink" title="2. forEach"></a><strong>2. forEach</strong></h5><ul><li>可以通过return跳出本次循环，执行下一次循环</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">    arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (item === <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 2 4 5 6</span></span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><h5 id="3-some"><a href="#3-some" class="headerlink" title="3. some"></a>3. some</h5><ul><li>不会对空数组进行检测</li><li>不会改变原数组</li><li>检测数组里的每一个值是否满足条件，如果有一个满足就返回true，否则返回false</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">    <span class="keyword">const</span> result = arr.<span class="title function_">some</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 2 3</span></span><br><span class="line">      <span class="keyword">return</span> item === <span class="number">3</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(result) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h5 id="4-every"><a href="#4-every" class="headerlink" title="4. every"></a>4. every</h5><ul><li>不会对空数组进行检测</li><li>不会改变原数组</li><li>检测数组里的每一个值是否满足条件，如果有一个不满足就返回false，否则返回true</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">    <span class="keyword">const</span> result = arr.<span class="title function_">every</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 </span></span><br><span class="line">      <span class="keyword">return</span> item === <span class="number">3</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(result) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h5 id="5-map"><a href="#5-map" class="headerlink" title="5. map"></a>5. map</h5><ul><li>不会对空数组进行检测</li><li>不会改变原数组</li><li>按照原始数组元素顺序依次处理，返回一个新数组</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">   <span class="keyword">const</span> result = arr.<span class="title function_">map</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 2 3 4 5 6 </span></span><br><span class="line">     <span class="keyword">return</span> item * item</span><br><span class="line">   &#125;)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(result) <span class="comment">// [1 4 9 16 25 36]</span></span><br></pre></td></tr></table></figure><h5 id="6-filter"><a href="#6-filter" class="headerlink" title="6. filter"></a>6. filter</h5><ul><li>不会对空数组进行检测</li><li>不会改变原数组</li><li>对数组进行渲染，返回符合条件的数组</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">   <span class="keyword">const</span> result = arr.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 2 3 4 5 6</span></span><br><span class="line">     <span class="keyword">return</span> item &gt; <span class="number">3</span></span><br><span class="line">   &#125;)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(result) <span class="comment">// [4,5,6]</span></span><br></pre></td></tr></table></figure><h5 id="7-find"><a href="#7-find" class="headerlink" title="7. find()"></a>7. find()</h5><ul><li><p>不会对空数组进行检测</p></li><li><p>不会改变原数组</p></li><li><p>找到符合条件的第一项，没有找到返回undefined</p></li><li><pre><code class="js">var arr = [1, 2, 3, 4, 5, 6]    const result = arr.find((item) =&gt; &#123;      console.log(item) // 1 2 3 4 5 6      return item &gt; 3    &#125;)    console.log(result) // 4<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">### 27. 常用的字符串方法（查）</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line"> // 字符串的长度                length</span><br><span class="line">        console.log(str1.length)</span><br><span class="line">        // 通过下标获取某个字符       str.charAt()</span><br><span class="line">        let str5 = &#x27;我是一个字符串&#x27;</span><br><span class="line">        console.log(str5.charAt(3))</span><br><span class="line">        // 截取字符串 str.slice()</span><br><span class="line">        console.log(str5.slice(2, 4))</span><br><span class="line"></span><br><span class="line">        // 返回字符串第一次出现的位置  没有出现过返回-1 str.indexOf()</span><br><span class="line">        console.log(str5.indexOf(&#x27;123&#x27;))</span><br><span class="line">        console.log(str5.search(&#x27;个&#x27;))</span><br><span class="line">        // indexOf和search的区别    indexOf只能匹配字符串</span><br><span class="line">        // search可以匹配 正则和字符串</span><br><span class="line">        </span><br><span class="line">        // 替换字符串                  str.replace()</span><br><span class="line">        let str6 = &#x27;sldjfsljflskjfdslfjdsl&#x27;</span><br><span class="line">        let str7 = str6.replace(&#x27;s&#x27;, &#x27;我的&#x27;)</span><br><span class="line">        console.log(str7, str6)</span><br><span class="line"></span><br><span class="line">        // 分割字符串转化为数组          str.split()</span><br><span class="line">        console.log(str6.split(&#x27;s&#x27;))</span><br><span class="line"></span><br><span class="line">        // 表单里面比较重要的的      str.trim()</span><br><span class="line">        let str8 = &#x27; 我的字符 &#x27;</span><br><span class="line">        console.log(str8.length)</span><br><span class="line">        console.log(str8.trim().length)</span><br><span class="line"></span><br><span class="line">        // 判断字符串是否有某个字符  str.includes()</span><br><span class="line">        console.log(str8.includes(&#x27;我&#x27;))</span><br><span class="line">        // 多一嘴 数组也是一样的方法</span><br><span class="line">        let arr = [1, 2, 3, 45, 3, 1, &#x27;123&#x27;, 12]</span><br><span class="line">        console.log(arr.includes(123))</span><br></pre></td></tr></table></figure></code></pre></li></ul><h3 id="28-bom和dom的区别"><a href="#28-bom和dom的区别" class="headerlink" title="28. bom和dom的区别"></a>28. bom和dom的区别</h3><ul><li><p>bom就是window，包含windows（窗口）、navigator（浏览器）、screen（浏览器屏幕）、history（访问历史）、location（地址）等，浏览器相关的东西。bom是包含dom的。</p></li><li><p>dom是document， html相关的都在里面</p></li></ul><h3 id="29-JS性能优化的方式"><a href="#29-JS性能优化的方式" class="headerlink" title="29. JS性能优化的方式"></a>29. JS性能优化的方式</h3><ul><li>垃圾回收</li><li>防抖节流</li><li>分批加载（setInterval,加载10000个节点）</li><li>事件委托</li><li>requestAnimationFrame的使用</li><li>script标签中的defer和async</li><li>CDN（CDN的基本原理是广泛采用各种缓存服务器，将这些缓存服务器分布到用户访问相对集中的地区或网络中，在用户访问网站时，利用全局负载技术将用户的访问指向距离最近的工作正常的缓存服务器上，由缓存服务器直接响应用户请求）</li></ul><h3 id="30-defer-和-async"><a href="#30-defer-和-async" class="headerlink" title="30. defer 和 async"></a>30. defer 和 async</h3><ul><li><p>浏览器是同步加载 JavaScript 脚本，即渲染引擎遇到<script>标签就会停下来，等到执行完脚本，再继续向下渲染。如果是外部脚本，还必须加入脚本下载的时间。</p><p>如果脚本体积很大，下载和执行的时间就会很长，因此造成浏览器堵塞，用户会感觉到浏览器“卡死”了，没有任何响应。这显然是很不好的体验，所以浏览器允许脚本异步加载，下面就是两种异步加载的语法。</p></li><li><p>然后是 defer和 async；他们两个是异步加载 js 代码的。</p></li><li><p>defer，async</p><ul><li><p>渲染引擎遇到这一行命令，就会开始下载外部脚本，但不会等它下载和执行，而是直接执行后面的命令。</p><p>defer与async的区别是：defer要等到整个页面在内存中正常渲染结束（DOM 结构完全生成，以及其他脚本执行完成），才会执行；async一旦下载完，渲染引擎就会中断渲染，执行这个脚本以后，再继续渲染。一句话，<strong>defer是“渲染完再执行”，async是“下载完就执行”</strong>。另外，如果有多个defer脚本，会按照它们在页面出现的顺序加载，而多个async脚本是不能保证加载顺序的。</p></li></ul></li></ul><h3 id="31-set和map"><a href="#31-set和map" class="headerlink" title="31. set和map"></a>31. set和map</h3><p>ES6 提供了新的数据结构 Set。它类似于数组，但是成员的值都是唯一的，<strong>没有重复的值</strong>。通过 <em><strong>*add方法*</strong></em> 向 Set 结构加入成员，也可以利用set进行数组去重。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 去除数组的重复成员</span></span><br><span class="line">[...<span class="keyword">new</span> <span class="title class_">Set</span>(array)]</span><br></pre></td></tr></table></figure><p>ES6 提供了 Map 数据结构。它类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键，用作数据存储</p><h3 id="32-for-of和for-in"><a href="#32-for-of和for-in" class="headerlink" title="32. for of和for in"></a>32. for of和for in</h3><ul><li>for of 遍历数组</li><li>for in 遍历对象：遍历对象的key或者数组的下标，到原型链查找，遍历新增加的属性的key值，所以不能用于遍历数组。</li></ul><h3 id="25-js遍历数组的方法（查）"><a href="#25-js遍历数组的方法（查）" class="headerlink" title="25. js遍历数组的方法（查）"></a>25. js遍历数组的方法（查）</h3><ul><li><p><strong>for循环，也是最常见的</strong></p></li><li><pre><code class="js">var arr = [1, 2, 3, 4, 5, 6]for(var i = 0; i &lt; arr.length; i++) &#123;    console.log(arr[i])&#125;// 1 2 3 4 5 6<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- **forEach( function(item,index,array)&#123;&#125;) //当前元素（必须），下标（可选），数组（可选）。** **没有返回值**</span><br><span class="line"></span><br><span class="line">  - ```js</span><br><span class="line">    var arr = [1, 2, 3, 4, 5, 6]</span><br><span class="line">    arr.forEach((item, idnex, array) =&gt; &#123;</span><br><span class="line">        console.log(item)     // 1 2 3 4 5 6</span><br><span class="line">        console.log(array)    // [1, 2, 3, 4, 5, 6]</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure></code></pre></li><li><p><strong>array.map(function(item, index, array){ }).//当前元素（必须），下标（可选），数组（可选）。</strong> <strong>有返回值</strong></p><ul><li><pre><code class="js">// 一、会改变原数组var arr = [1, 2, 3, 4, 5, 6]var newArr = arr.map(function (item, idnex) &#123;    return item * item&#125;)console.log(arr)      // [1, 2, 3, 4, 5, 6]console.log(newArr)<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- **filter**“过滤”、“筛选”, 对数组中的每一项运行给定函数，返回该函数会返回true的想项组成的新数组。指数组filter后，返回过滤后的新数组。</span><br><span class="line"></span><br><span class="line">  与map方法不同的是，filter方法的callback函数需要返回等于true值。如果为true，则通过，否则，不通过。不可以原数组。</span><br><span class="line"></span><br><span class="line">  ```js</span><br><span class="line">  var arr = [</span><br><span class="line">  &#123; id: 1, name: &#x27;买笔&#x27;, done: true &#125;,</span><br><span class="line">  &#123; id: 2, name: &#x27;买笔记本&#x27;, done: true &#125;,</span><br><span class="line">  &#123; id: 3, name: &#x27;练字&#x27;, done: false &#125;</span><br><span class="line">  ]</span><br><span class="line">      </span><br><span class="line">  var newArr = arr.filter(function (item, index) &#123;</span><br><span class="line">  return item.done</span><br><span class="line">  &#125;)</span><br><span class="line">  console.log(newArr)</span><br></pre></td></tr></table></figure></code></pre></li></ul><p>every()，some()</p></li><li><p>for of </p><ul><li><pre><code class="js">var arr = [&#39;我&#39;, &#39;是&#39;, &#39;谁&#39;, &#39;我&#39;, &#39;在&#39;, &#39;哪&#39;]for(var key of arr) &#123;    console.log(key)&#125;// 我 是 谁 我 在 哪<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">### 33. 数组去重</span><br><span class="line"></span><br><span class="line">- **for循环嵌套，利用splice去重**</span><br><span class="line"></span><br><span class="line">```javascript</span><br><span class="line">function newArr(arr)&#123;</span><br><span class="line">    for(var i=0;i&lt;arr.length;i++)&#123;</span><br><span class="line">        for(var j=i+1;j&lt;arr.length;j++)&#123;</span><br><span class="line">            if(arr[i]==arr[j])&#123; </span><br><span class="line">            //如果第一个等于第二个，splice方法删除第二个</span><br><span class="line">            arr.splice(j,1);</span><br><span class="line">            j--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br><span class="line">var arr = [1,1,2,5,6,3,5,5,6,8,9,8];</span><br><span class="line">console.log(newArr(arr))</span><br></pre></td></tr></table></figure></code></pre></li></ul></li><li><p><strong>建新数组，利用indexOf去重</strong></p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">newArr</span>(<span class="params">array</span>)&#123; </span><br><span class="line">    <span class="comment">//一个新的数组 </span></span><br><span class="line">    <span class="keyword">var</span> arrs = []; </span><br><span class="line">    <span class="comment">//遍历当前数组 </span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; array.<span class="property">length</span>; i++)&#123; </span><br><span class="line">        <span class="comment">//如果临时数组里没有当前数组的当前值，则把当前值push到新数组里面 </span></span><br><span class="line">        <span class="keyword">if</span> (arrs.<span class="title function_">indexOf</span>(array[i]) == -<span class="number">1</span>)&#123; </span><br><span class="line">            arrs.<span class="title function_">push</span>(array[i])</span><br><span class="line">        &#125;; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">return</span> arrs; </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">8</span>];</span><br><span class="line"> </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">newArr</span>(arr))</span><br></pre></td></tr></table></figure><ul><li><strong>Set去重</strong></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">newArr</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="keyword">new</span> <span class="title class_">Set</span>(arr))</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"> </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">newArr</span>(arr))</span><br></pre></td></tr></table></figure><h3 id="34-数组排序"><a href="#34-数组排序" class="headerlink" title="34. 数组排序"></a>34. 数组排序</h3><ul><li><strong>冒泡排序</strong></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 冒泡排序</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">52</span>,<span class="number">3</span>,<span class="number">8</span>,<span class="number">57</span>,<span class="number">75</span>,<span class="number">2</span>,<span class="number">1</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i&lt;arr.<span class="property">length</span>; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> j =<span class="number">0</span>;j&lt;arr.<span class="property">length</span>-i; j++) &#123;</span><br><span class="line"><span class="keyword">if</span>(arr[j]&gt;arr[j+<span class="number">1</span>])&#123;</span><br><span class="line"><span class="keyword">var</span> temp = arr[j];</span><br><span class="line">arr[j]=arr[j+<span class="number">1</span>];</span><br><span class="line">arr[j+<span class="number">1</span>]=temp; </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr); <span class="comment">//[1, 2, 3, 8, 52, 57, 75]</span></span><br></pre></td></tr></table></figure><ul><li>sort<strong>排序</strong></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// sort排序</span></span><br><span class="line"><span class="keyword">var</span> arr=[<span class="number">8</span>,<span class="number">12</span>,<span class="number">312</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sortArray</span>(<span class="params">n1,n2</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> n1-n2;</span><br><span class="line">&#125;</span><br><span class="line">arr.<span class="title function_">sort</span>(<span class="title function_">sortArray</span>()); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr) <span class="comment">//[4, 5, 8, 12, 312]</span></span><br></pre></td></tr></table></figure><ul><li><p><strong>选择排序</strong></p></li><li><pre><code class="javascript">// 选择排序var arr = [14, 82, 7, 1, 9, 0];for(var i = 0; i &lt; arr.length - 1; i++)&#123;    for(var j = i + 1; j &lt; arr.length; j++)&#123;        if(arr[i] &gt; arr[j])&#123;            var tmp = arr[i];            arr[i] = arr[j];            arr[j] = tmp;        &#125;    &#125; &#125;console.log(arr);//[0, 1, 7, 9, 14, 82]<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">### 35. 反转字符串</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">function reverseString(str) &#123;</span><br><span class="line">    return str.split(&#x27;&#x27;).reverse().join(&#x27;&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">reverseString(&#x27;hello&#x27;);</span><br><span class="line"></span><br></pre></td></tr></table></figure></code></pre></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">reverseString</span>(<span class="params">str</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> newString = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = str.<span class="property">length</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        newString += str[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> newString;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">reverseString</span>(<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">reverseString</span>(<span class="params">str</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (str === <span class="string">&#x27;&#x27;</span>) <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="title function_">reverseString</span>(str.<span class="title function_">substr</span>(<span class="number">1</span>)) + str.<span class="title function_">charAt</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">reverseString</span>(<span class="string">&#x27;hello&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="35-什么是暂时性死区？"><a href="#35-什么是暂时性死区？" class="headerlink" title="35. 什么是暂时性死区？"></a>35. 什么是暂时性死区？</h3><p>暂时性死区是指，当进入一个作用域，我去使用一个变量名，而这个变量名已经存在了，但是是不可获取的，就会报错，造成暂时性死区问题；比如一个作用域下面使用了 let 定义了 <code>x</code>,但是在定义之前就使用了 <code>x</code>，就会报错；</p><h3 id="36-函数柯里化"><a href="#36-函数柯里化" class="headerlink" title="36. 函数柯里化"></a>36. 函数柯里化</h3><p>”函数柯里化”是指将多变量函数拆解为单变量的多个函数的依次调用， 可以从高元函数动态地生成批量的低元的函数。简单讲：就是利用函数执行，可以形成一个不销毁的私有作用域，把预先处理的内容都存在这个不销毁的作用域里面，并且返回一个函数，以后要执行的就是这个函数。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 常规的add函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Currying后</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">curryingAdd</span>(<span class="params">x</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">y</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> x + y</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>)           <span class="comment">// 3</span></span><br><span class="line"><span class="title function_">curryingAdd</span>(<span class="number">1</span>)(<span class="number">2</span>)   <span class="comment">// 3</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="37-null与undefined的区别"><a href="#37-null与undefined的区别" class="headerlink" title="37. null与undefined的区别"></a>37. null与undefined的区别</h3><ul><li>null表示⼀个对象可以是null，代表是个空对象，⽽null本身也是对象。<ul><li>①用作函数的参数，表示该函数的参数不是对象。</li><li>②用作对象原型链的终点。</li></ul></li><li>undefined表示『不存在』，JavaScript是⼀⻔动态类型语⾔，成员除了表示存在的空值外，还有可能根本就不存在(因为存不存在只在运⾏期才知道)，这就是undefined的意义所在。<ul><li>①函数没有返回值时，默认返回undefined。</li><li>②变量已声明，没有赋值时，为undefined。</li><li>③对象中没有赋值的属性，该属性的值为undefined。</li><li>④调用函数时，应该提供的参数没有提供，该参数等于undefined。</li></ul></li></ul><h3 id="38-new-String-a-和String-a"><a href="#38-new-String-a-和String-a" class="headerlink" title="38. new String('a')和String('a')"></a>38. new String('a')和String('a')</h3><ul><li>new String('a')：返回的是引用类型，在堆内进行存储，返回值是字符串对象；</li><li>String('a')：返回类型是基本类型，在栈内存储，返回的是字符串。</li></ul><h3 id="39-和-和！！操作符的返回值"><a href="#39-和-和！！操作符的返回值" class="headerlink" title="39. || 和 && 和！！操作符的返回值"></a>39. || 和 && 和！！操作符的返回值</h3><p>两者都会对第一个操作数执行条件判断，如果其不是布尔值就先强制转换为布尔类型，然后在执行条件判断</p><ul><li>对于||来说，如果条件判断结果为true就返回第一个操作数的值，如果为false就返回第二个操作数的值</li><li>&&则相反，如果条件判断结果为true就返回第二个操作数的值，如果为false就返回第一个操作数的值</li><li>!!运算符可以将右侧的值强制转换为布尔值，这也是将值转化为布尔值的方法之一</li></ul><h3 id="40-获取安全的undefined"><a href="#40-获取安全的undefined" class="headerlink" title="40.获取安全的undefined"></a>40.获取安全的undefined</h3><p>因为<code>undefined</code>是一个标识符，所以可以被当做变量来使用和赋值，但是这样会影响<code>undefined</code>的正常判断。</p><p>使用void 0来获得undefined</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span>  a = <span class="keyword">void</span> <span class="number">0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a == <span class="literal">undefined</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h1 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h1><ol><li><p>新增symbol类型 表示独一无二的值，用来定义独一无二的对象属性名;</p></li><li><p>const/let  都是用来声明变量,不可重复声明，具有块级作用域。存在暂时性死区，也就是不存在变量提升。(const一般用于声明常量);</p></li><li><p>解构赋值, 可以将属性/值从对象/数组中取出，赋值给其他变量。这种语法是 ECMAscript 6 规范引入了一种新语法，可以更轻松地从数组和对象中获取值。</p></li><li><p>模板字符串(<code>$&#123;data&#125;</code>)</p></li></ol><ul><li>比如在处理嵌入表达式、多行字符串、字符串中插入变量、字符串格式化等方面的应用</li></ul><ol start="5"><li>扩展运算符(数组、对象);</li></ol><ul><li><strong><code>对象中的扩展运算符(...)用于取出参数对象中的所有可遍历属性，拷贝到当前对象之中</code></strong></li><li>可以将数组转换为参数序列</li></ul><ol start="6"><li><p>箭头函数;</p></li><li><p>Set和Map数据结构;</p></li></ol><ul><li>ES6 提供了新的数据结构 Set。它类似于数组，但是成员的值都是唯一的，<strong>没有重复的值</strong>。通过 <em><strong>*add方法*</strong></em> 向 Set 结构加入成员，也可以利用set进行数组去重。</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 去除数组的重复成员</span></span><br><span class="line">[...<span class="keyword">new</span> <span class="title class_">Set</span>(array)]</span><br></pre></td></tr></table></figure><ul><li>ES6 提供了 Map 数据结构。它类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键，用作数据存储</li></ul><ol start="8"><li><p>Proxy/Reflect;</p></li><li><p>Promise;</p></li><li><p>async函数;</p></li><li><p>Class;</p></li><li><p>Module语法(import/export)。</p></li></ol><h3 id="1-export-和-export-default-有什么区别"><a href="#1-export-和-export-default-有什么区别" class="headerlink" title="1. export 和 export default 有什么区别"></a>1. export 和 export default 有什么区别</h3><ul><li><code>export</code> 是命名导出，每个模块可以命名导出多个。</li><li><code>export default</code> 是默认导出，每个模块只能默认导出一个。</li><li>使用<code>export</code>导出的使用 <code>import &#123;exportName&#125; from &#39;xxx&#39;</code>来导入。</li><li>使用<code>export default </code>导出的使用<code>import xx from &#39;xxx&#39;来导入</code></li><li>两者可以同时存在。</li></ul><h3 id="2-var-let-const区别"><a href="#2-var-let-const区别" class="headerlink" title="2. var/let/const区别"></a>2. var/let/const区别</h3><ul><li>var、let 定义的是变量，const 定义的是常量</li><li>var 存在变量提升，let const 不存在变量提升</li><li>let const 存在块级作用域</li><li>const 声明的常量，基本数据类型无法被修改，对象或者数组的可以修改内部的属性值</li><li>var 可以重复声明，let，const 在同一个块级作用域中重复声明会报语法错误</li><li>浏览器的全局对象是window，Node的全局对象是global。var 声明的变量为全局变量，并且会将改变量添加为全局对象的属性，但是let 和 const 不会。</li><li>在使用let const 命令声明变量之前，该变量都是不可用的。在这语法上，称为暂时性死区。使用 var 不会存在暂时性死区。</li><li>在变量声明时，let var 可以不用设置初始值。而 const 声明变量必须设置初始值。</li></ul><h3 id="3-箭头函数和普通函数的区别"><a href="#3-箭头函数和普通函数的区别" class="headerlink" title="3. 箭头函数和普通函数的区别"></a>3. 箭头函数和普通函数的区别</h3><ul><li>箭头函数没有自己的this，他会从自己的作用域链的上一层继承this(因此无法使用call / apply / bing 进行绑定this值)</li><li>箭头函数没有arguments对象，如果要用，可以用rest参数代替</li><li>不可以使用yield命令，因此箭头函数不能用作Generator 函数</li><li>不可以使用new 命令，因为没有自己的this 以及 prototype 属性</li></ul><h3 id="4-CommonJS模块和ES6模块"><a href="#4-CommonJS模块和ES6模块" class="headerlink" title="4. CommonJS模块和ES6模块"></a>4. CommonJS模块和ES6模块</h3><ul><li>CommonJS是对模块的浅拷贝，ES6 Module是对模块的引用，即ES6 Module只存不读，不能改变值，指针指向不能变。</li></ul><p>共同点：CommonJS和ES6 Module都可以对引⼊的对象进⾏赋值，即对对象内部属性的值进⾏改变。  </p><h3 id="5-import-和-require-的区别"><a href="#5-import-和-require-的区别" class="headerlink" title="5. import 和 require 的区别"></a>5. import 和 require 的区别</h3><ul><li><strong>遵循规范</strong>：<code>require</code> 是 AMD(异步模块加载机制)，<code>import</code> 是ES6的一个语法标准，如果要兼容的话必须转化成ES5</li><li><strong>调用时间</strong>：<code>require</code>是运行时调用， 所以require理论上可以运用在代码的任何地方 ；<code>import</code>是编译时调用，所以必须放在文件开头。</li><li><strong>本质</strong>：<code>require</code> 是赋值过程， module.exports后面的内容是什么，require的结果就是什么，比如对象、数字、字符串、函数等，然后再把require的结果赋值给某个变量，它相当于module.exports的传送门 ；<code>import</code>是解构过程。</li></ul><h3 id="6-Object-defineproperty-和-Proxy"><a href="#6-Object-defineproperty-和-Proxy" class="headerlink" title="6.  Object.defineproperty 和 Proxy"></a>6.  Object.defineproperty 和 Proxy</h3><p> Object.defineproperty 是Vue2实现响应式的原理。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;jack&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 参数：劫持对象，对象属性，属性值</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;age&#x27;</span>, &#123;</span><br><span class="line">    <span class="comment">//value:18, // 属性值</span></span><br><span class="line">    <span class="comment">//writeable:true, // 是否可以被修改 默认为false,不可以</span></span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">true</span>, <span class="comment">// 是否可以被删除</span></span><br><span class="line">    <span class="attr">enumerable</span>: <span class="literal">true</span>, <span class="comment">// 是否可以枚举</span></span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="comment">// 访问 age 属性时会调用该方法，返回值就是age的值</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">20</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="comment">// 修改age的值得时候，会调用该方法</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br><span class="line"></span><br><span class="line">******************************************</span><br><span class="line">    </span><br><span class="line">多个数据劫持</span><br><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">    <span class="attr">msg</span>: <span class="string">&#x27;Hi&#x27;</span>,</span><br><span class="line">    <span class="attr">num</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> vm = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.keys 返回对象的所有的属性</span></span><br><span class="line"><span class="comment">// Object.values 返回对象的所有的属性值</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">defineReact</span> () &#123;</span><br><span class="line">    <span class="keyword">const</span> arr = <span class="title class_">Object</span>.<span class="title function_">keys</span>(data)</span><br><span class="line">    arr.<span class="title function_">forEach</span>(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(vm, key, &#123;</span><br><span class="line">            get () &#123;</span><br><span class="line">                <span class="keyword">return</span> data[key]</span><br><span class="line">            &#125;,</span><br><span class="line">            set (newValue) &#123;</span><br><span class="line">                <span class="keyword">if</span> (newValue === data[key]) &#123;</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                &#125;</span><br><span class="line">                data[key] = newValue</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 试图更新</span></span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#app&#x27;</span>).<span class="property">innerHTML</span> = data[key]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">defineReact</span>()</span><br></pre></td></tr></table></figure><p>缺陷：</p><ul><li>无法检测对象属性的新增和删除。若想实现，则通过Vue.set( (obj, propertName/index, value )或者Vue.delete( obj, propertyName/index )</li><li>无法检测到数组的变化。</li></ul><p>Proxy:是Vue3实现响应式的原理</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> info = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;dmc&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// info 代理对象</span></span><br><span class="line"><span class="keyword">let</span> infoProxy = <span class="keyword">new</span> <span class="title class_">Proxy</span>(info, &#123;</span><br><span class="line">    <span class="comment">// target 目标对象</span></span><br><span class="line">  <span class="title function_">get</span>(<span class="params">target, key</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;获取对象属性&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> target[key]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">set</span>(<span class="params">target, key, newValue</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;设置对象属性&#x27;</span>)</span><br><span class="line">    target[key] = newValue</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">has</span>(<span class="params">target, key</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;触发has捕获器&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>优点：代理整个对象而非对象属性。可以监听数组的变化。</p><h1 id="计算机网络"><a href="#计算机网络" class="headerlink" title="计算机网络"></a>计算机网络</h1><h2 id="一、-跨域问题"><a href="#一、-跨域问题" class="headerlink" title="一、 跨域问题"></a>一、 跨域问题</h2><p>概述：浏览器基于安全因素的考虑，是不允许进行跨域请求的，如果发生跨域请求，就会发生一下类似的错误。</p><p>跨域原因：</p><ul><li>协议：<code>http</code></li><li>域名：<code>baidu.com</code></li><li>端口号: <code>3000</code></li></ul><p>解决：解决方案有很多种，比如前端开发时进行<code>反向代理</code>，使用<code>JSONP</code>，后端设置<code>CORS</code>、配置 <code>nginx </code>反向代理等等</p><h3 id="1-CORS"><a href="#1-CORS" class="headerlink" title="1. CORS"></a>1. <code>CORS</code></h3><p>概述：跨域资源共享是一种机制，当一个资源访问到另一个资源时，资源就会发起一个跨域的http请求需要浏览器和服务器同时支持：</p><p><code>node.js</code>处理</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;*&#x27;</span>, <span class="keyword">function</span>(<span class="params">req, res, next</span>) &#123;</span><br><span class="line">      res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="string">&#x27;*&#x27;</span>); <span class="comment">// 表示允许哪些网站访问，上线后应该直接指定ip而不应该 *</span></span><br><span class="line">      res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span>, <span class="string">&#x27;GET, POST, PUT, DELETE&#x27;</span>);</span><br><span class="line">      res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span>, <span class="string">&#x27;Content-Type,Content-Length, Authorization, Accept,X-Requested-With&#x27;</span>);</span><br><span class="line">      res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Credentials&#x27;</span>, <span class="string">&#x27;true&#x27;</span>);<span class="comment">//和客户端对应，必须设置以后，才能接收cookie.</span></span><br><span class="line"></span><br><span class="line">      <span class="title function_">next</span>();</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure><h3 id="2-反向代理"><a href="#2-反向代理" class="headerlink" title="2. 反向代理"></a>2. 反向代理</h3><ul><li>Vue  config.js中配置</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:3000&#x27;</span>, <span class="comment">// 服务器地址</span></span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;</span><br><span class="line">          <span class="string">&#x27;^/api&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>, <span class="comment">// 本地会虚拟一个服务端接受你的请求并代你发送该请求</span></span><br><span class="line">        <span class="attr">secure</span>: <span class="literal">false</span>, <span class="comment">// 代理某些 https 服务时用</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><ul><li>React 在src目录下创建setupProxy.js文件</li><li>下载依赖</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i http-proxy-middleware -D</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;createProxyMiddleware&#125; = <span class="built_in">require</span>(<span class="string">&#x27;http-proxy-middleware&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="keyword">function</span> (<span class="params">app</span>) &#123;</span><br><span class="line">    app.<span class="title function_">use</span>(<span class="title function_">createProxyMiddleware</span>(</span><br><span class="line">    <span class="string">&#x27;/mock&#x27;</span>,&#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:3000&#x27;</span>,</span><br><span class="line">        <span class="attr">changeOrigin</span>:<span class="literal">true</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>:&#123;</span><br><span class="line">            <span class="string">&#x27;^/mock&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-Nginx"><a href="#3-Nginx" class="headerlink" title="3. Nginx"></a>3. Nginx</h3><h2 id="二、HTTP问题"><a href="#二、HTTP问题" class="headerlink" title="二、HTTP问题"></a>二、HTTP问题</h2><p>原理：HTTP协议采用了请求/响应模型。客户端向服务器发送一个请求报文，请求报文包含请求的方法、URL、协议版本、请求头部和请求数据。服务器以一个状态行作为响应，响应的内容包括协议的版本、成功或者错误代码、服务器信息、响应头部和响应数据。</p><p>步骤：客户端连接到Web服务器->发送Http请求->服务器接受请求并返回HTTP响应->释放连接TCP连接->客户端浏览器解析HTML内容</p><h3 id="2-1-GET和POST请求"><a href="#2-1-GET和POST请求" class="headerlink" title="2.1 GET和POST请求"></a>2.1 GET和POST请求</h3><ul><li>应用场景：GET请求用于对服务器资源不会产生影响的场景。而POST请求一般用于对服务器资源会产生影响的场景。</li><li>是否缓存：浏览器一般会对GET请求进行缓存，但很少对POST请求进行缓存。</li><li>请求参数：GET请求使用URL进行传递参数，URL的？后面拼接参数，POST请求中的实体报文部分一般为服务器发送的数据。</li><li>安全性：因为GET请求的参数是拼接在URL后面的，所以安全性较差，因为请求的URL会被保留在历史记录中，而POST请求安全性较好。</li><li>请求长度：浏览器对URL有长度限制，因此会影响GET请求发送数据的长度，而POST请求并没有长度限制。</li><li>刷新：GET请求支持刷新和后退，而POST请求每次刷新都会重新发送</li><li>参数类型：POST请求的参数传递支持更多的数据类型</li></ul><h3 id="2-2-HTTP请求头和响应头"><a href="#2-2-HTTP请求头和响应头" class="headerlink" title="2.2 HTTP请求头和响应头"></a>2.2 HTTP请求头和响应头</h3><h4 id="请求头："><a href="#请求头：" class="headerlink" title="请求头："></a>请求头：</h4><ul><li>Accept:浏览器能够处理的内容类型</li><li>Accept-Charset:浏览器能够显示的字符集</li><li>Accept-Encoding：浏览器能够处理的压缩编码</li><li>Accept-Language：浏览器当前设置的语言</li><li>Connection：浏览器与服务器之间连接的类型</li><li>Cookie：当前页面设置的任何Cookie</li><li>Host：发出请求的页面所在的域</li><li>Referer：发出请求的页面的URL</li><li>User-Agent：浏览器的用户代理字符串</li></ul><h4 id="响应头："><a href="#响应头：" class="headerlink" title="响应头："></a>响应头：</h4><ul><li>Date：表示消息发送的时间，时间的描述格式由rfc822定义</li><li>server:服务器名称</li><li>Connection：浏览器与服务器之间连接的类型</li><li>Cache-Control：控制HTTP缓存</li><li>content-type:表示后面的文档属于什么MIME类型</li></ul><h3 id="2-3-HTTP状态码304"><a href="#2-3-HTTP状态码304" class="headerlink" title="2.3 HTTP状态码304"></a>2.3 HTTP状态码304</h3><p>概述：客户端有缓存情况下的服务端的一种响应客户端性能优化的一种方式</p><p>过多的304状态码可能会导致网站快照停止，收录减少，权重下降</p><h3 id="2-4-HTTP-1-0-和-HTTP-1-1"><a href="#2-4-HTTP-1-0-和-HTTP-1-1" class="headerlink" title="2.4 HTTP 1.0 和 HTTP 1.1"></a>2.4 HTTP 1.0 和 HTTP 1.1</h3><ul><li><strong>连接方面</strong>：1.0默认使用非持久连接，而1.1 默认使用持久连接。1.1通过使用持久连接来使多个http请求复用同一个TCP连接，一次来避免使用非持久连接时每件需要建立链接的时延。</li><li><strong>资源请求</strong>：1.0 中会存在一些浪费宽带的现象，例如客户端只是需要某个对象的一部分，而服务器却将整个对象送过来了，并且不支持断点续传功能。1.1 则在请求头引入 range 头域，他允许只请资源的某个部分，即返回码是206</li><li><strong>缓存方面</strong>： 1.0 主要使用了 header 里的  If-Modified-Since、Expires 来做为缓存判断的标准，http1.1 则引入了更多的缓存控制策略，例如 Etag、If-Unmodified-Since、If-Match、If-None-Match 等更多可供选择的缓存头来控制缓存策略 </li><li>1.1 新增加了 host 字段，用来指定服务器的域名。1.0 中并没有传递主机名。</li><li>1.1 新增加了很多的请求方法</li></ul><h3 id="2-5-HTTP-1-1-和-HTTP-2-0"><a href="#2-5-HTTP-1-1-和-HTTP-2-0" class="headerlink" title="2.5 HTTP 1.1 和 HTTP 2.0"></a>2.5 HTTP 1.1 和 HTTP 2.0</h3><ul><li><strong>二进制协议</strong>：1.1 中的豹纹的头信息必须是文本，数据体可以是文本，也可以是二进制。2.0 则是一个彻底的二进制协议，头信息和数据题都是二进制</li><li><strong>多路复用</strong>：2.0 实现了多路复用，任然复用TCP连接，但是在一个连接里，客户端和服务器都可以同时发送多喝请求或者回应，而且不用按照顺序一一发送。</li><li><strong>数据流</strong>：2.0使用了数据流的概念，因为2.0的数据包是不按顺序发送的，同一个链接里面连续的数据包，可能属于不同的请求。因此，必须对数据包做标记，指出他属于那个请求。2.0将每个请求或回应的所有数据包，成为一个数据流，每个数据流都有一个独一无二的编号。</li><li><strong>头信息压缩</strong>： HTTP/2 实现了头信息压缩，由于 HTTP 1.1 协议不带状态，每次请求都必须附上所有信息。所以，请求的很多字段都是重复的，比如 Cookie 和 User Agent ，一模一样的内容，每次请求都必须附带，这会浪费很多带宽，也影响速度。HTTP/2 对这一点做了优化，引入了头信息压缩机制。一方面，头信息使用 gzip 或 compress 压缩后再发送；另一方面，客户端和服务器同时维护一张头信息表，所有字段都会存入这个表，生成一个索引号，以后就不发送同样字段了，只发送索引号，这样就能提高速度了。 </li><li><strong>服务器推送</strong>： HTTP/2 允许服务器未经请求，主动向客户端发送资源，这叫做服务器推送。使用服务器推送提前给客户端推送必要的资源，这样就可以相对减少一些延迟时间。这里需要注意的是 http2 下服务器主动推送的是静态资源，。</li></ul><h3 id="2-6-HTTP和HTTPS"><a href="#2-6-HTTP和HTTPS" class="headerlink" title="2.6 HTTP和HTTPS"></a>2.6 HTTP和HTTPS</h3><ul><li>HTTPS 协议需要CA证书，费用较高；HTTP协议不需要</li><li>HTTP是超文本传输协议，信息是明文传输的；HTTPS则是具有安全性的SSL加密传输协议</li><li>使用不同的连接方式，端口也不同，HTTP协议端口是80，HTTPS协议端口是443</li><li>HTTP协议连接很简单，是无状态的；HTTPS协议是由SSL和HTTP协议构建的可进行加密传输，身份认证的网络协议，比HTTP更加安全。</li></ul><h3 id="2-7-输入URL后发生了生么"><a href="#2-7-输入URL后发生了生么" class="headerlink" title="2.7 输入URL后发生了生么"></a>2.7 输入URL后发生了生么</h3><ul><li><strong>解析URL</strong>：首先会对 URL 进行解析，分析所需要使用的传输协议和请求的资源的路径。如果输入的 URL 中的协议或者主机名不合法，将会把地址栏中输入的内容传递给搜索引擎。如果没有问题，浏览器会检查 URL 中是否出现了非法字符，如果存在非法字符，则对非法字符进行转义后再进行下一过程。</li><li><strong>缓存判断</strong>：浏览器会判断所请求的资源是否在缓存里，如果请求的资源在缓存里并且没有失效，那么就直接使用，否则向服务器发起新的请求。</li><li><strong>DNS解析</strong>：下一步首先需要获取的是输入的 URL 中的域名的 IP 地址，首先会判断本地是否有该域名的 IP 地址的缓存，如果有则使用，如果没有则向本地 DNS 服务器发起请求。本地 DNS 服务器也会先检查是否存在缓存，如果没有就会先向根域名服务器发起请求，获得负责的顶级域名服务器的地址后，再向顶级域名服务器请求，然后获得负责的权威域名服务器的地址后，再向权威域名服务器发起请求，最终获得域名的 IP 地址后，本地 DNS 服务器再将这个 IP 地址返回给请求的用户。用户向本地 DNS 服务器发起请求属于递归请求，本地 DNS 服务器向各级域名服务器发起请求属于迭代请求。</li><li><strong>获取MAC地址</strong>：当浏览器得到 IP 地址后，数据传输还需要知道目的主机 MAC 地址，因为应用层下发数据给传输层，TCP 协议会指定源端口号和目的端口号，然后下发给网络层。网络层会将本机地址作为源地址，获取的 IP 地址作为目的地址。然后将下发给数据链路层，数据链路层的发送需要加入通信双方的 MAC 地址，本机的 MAC 地址作为源 MAC 地址，目的 MAC 地址需要分情况处理。通过将 IP 地址与本机的子网掩码相与，可以判断是否与请求主机在同一个子网里，如果在同一个子网里，可以使用 APR 协议获取到目的主机的 MAC 地址，如果不在一个子网里，那么请求应该转发给网关，由它代为转发，此时同样可以通过 ARP 协议来获取网关的 MAC 地址，此时目的主机的 MAC 地址应该为网关的地址。</li><li><strong>TCP三次握手</strong>：下面是 TCP 建立连接的三次握手的过程，首先客户端向服务器发送一个 SYN 连接请求报文段和一个随机序号，服务端接收到请求后向服务器端发送一个 SYN ACK报文段，确认连接请求，并且也向客户端发送一个随机序号。客户端接收服务器的确认应答后，进入连接建立的状态，同时向服务器也发送一个ACK 确认报文段，服务器端接收到确认后，也进入连接建立状态，此时双方的连接就建立起来了。</li><li><strong>HTTPS握手</strong>：如果使用的是 HTTPS 协议，在通信前还存在 TLS 的一个四次握手的过程。首先由客户端向服务器端发送使用的协议的版本号、一个随机数和可以使用的加密方法。服务器端收到后，确认加密的方法，也向客户端发送一个随机数和自己的数字证书。客户端收到后，首先检查数字证书是否有效，如果有效，则再生成一个随机数，并使用证书中的公钥对随机数加密，然后发送给服务器端，并且还会提供一个前面所有内容的 hash 值供服务器端检验。服务器端接收后，使用自己的私钥对数据解密，同时向客户端发送一个前面所有内容的 hash 值供客户端检验。这个时候双方都有了三个随机数，按照之前所约定的加密方法，使用这三个随机数生成一把秘钥，以后双方通信前，就使用这个秘钥对数据进行加密后再传输。</li><li><strong>返回数据</strong>：当页面请求发送到服务器端后，服务器端会返回一个 html 文件作为响应，浏览器接收到响应后，开始对 html 文件进行解析，开始页面的渲染过程。</li><li><strong>页面渲染</strong>：浏览器首先会根据 html 文件构建 DOM 树，根据解析到的 css 文件构建 CSSOM 树，如果遇到 script 标签，则判端是否含有 defer 或者 async 属性，要不然 script 的加载和执行会造成页面的渲染的阻塞。当 DOM 树和 CSSOM 树建立好后，根据它们来构建渲染树。渲染树构建好后，会根据渲染树来进行布局。布局完成后，最后使用浏览器的 UI 接口对页面进行绘制。这个时候整个页面就显示出来了。</li><li><strong>TCP四次挥手</strong>：最后一步是 TCP 断开连接的四次挥手过程。若客户端认为数据发送完成，则它需要向服务端发送连接释放请求。服务端收到连接释放请求后，会告诉应用层要释放 TCP 链接。然后会发送 ACK 包，并进入 CLOSE_WAIT 状态，此时表明客户端到服务端的连接已经释放，不再接收客户端发的数据了。但是因为 TCP 连接是双向的，所以服务端仍旧可以发送数据给客户端。服务端如果此时还有没发完的数据会继续发送，完毕后会向客户端发送连接释放请求，然后服务端便进入 LAST-ACK 状态。客户端收到释放请求后，向服务端发送确认应答，此时客户端进入 TIME-WAIT 状态。该状态会持续 2MSL（最大段生存期，指报文段在网络中生存的时间，超时会被抛弃） 时间，若该时间段内没有服务端的重发请求的话，就进入 CLOSED 状态。当服务端收到确认应答后，也便进入 CLOSED 状态。</li></ul><h3 id="2-8-请求报文"><a href="#2-8-请求报文" class="headerlink" title="2.8 请求报文"></a>2.8 请求报文</h3><ul><li><strong>请求行</strong>： 请求⽅法字段、URL字段、HTTP协议版本字段。它们⽤空格分隔。例如，GET /index.html HTTP/1.1。 </li><li><strong>请求头部</strong>： 请求头部由关键字/值对组成，每⾏⼀对，关键字和值⽤英⽂冒号“:”分割<ul><li>User-Agent：产⽣请求的浏览器类型。 </li><li>Accept：客户端可识别的内容类型列表。 </li><li>Host：请求的主机名，允许多个域名同处⼀个IP地址，即虚拟主机。</li></ul></li><li><strong>空行</strong></li><li><strong>请求体</strong>：post put等请求携带的数据</li></ul><h3 id="2-9-响应报文"><a href="#2-9-响应报文" class="headerlink" title="2.9 响应报文"></a>2.9 响应报文</h3><ul><li><strong>响应行</strong>： 由网络协议版本，状态码和状态码的原因短语组成，例如 HTTP/1.1 200 OK 。 </li><li><strong>响应头</strong>：响应部首组成</li><li><strong>空行</strong></li><li><strong>响应体</strong>：服务器响应的数据</li></ul><h3 id="2-10-URL"><a href="#2-10-URL" class="headerlink" title="2.10 URL"></a>2.10 URL</h3><ul><li>协议：访问服务器获取资源时使用的协议</li><li>域名：资源服务器主机名或IP地址</li><li>端口：资源服务器监听的端口，不同的scheme有不同的默认端口（HTTP使用80作为默认端口）</li><li>路径：服务器上的资源路径。路径与服务器和scheme有关</li><li>文件名：打开的文件名称</li><li>参数：提供给服务器上的值</li><li>锚点：打开用户页面时滚动到该锚点位置</li></ul><h3 id="2-11-常见的状态码"><a href="#2-11-常见的状态码" class="headerlink" title="2.11 常见的状态码"></a>2.11 常见的状态码</h3><ul><li>2开头的表示成功<ul><li>一般见到的就是200</li></ul></li><li>3开头的表示重定向<ul><li>301永久重定向</li><li>302临时重定向</li><li>304表示可以在缓存中取数据（协商缓存）</li></ul></li><li>4开头表示客户端错误<ul><li>403跨域</li><li>404请求资源不存在</li></ul></li><li>5开头表示服务端错误<ul><li>50</li></ul></li></ul><h2 id="三、DNS"><a href="#三、DNS" class="headerlink" title="三、DNS"></a>三、DNS</h2><p>概述： DNS 是域名系统 (Domain Name System) 的缩写，提供的是一种主机名到 IP 地址的转换服务，就是我们常说的域名系统。 </p><p>作用： 将域名解析为IP地址，客户端向DNS服务器（DNS服务器有自己的IP地址）发送域名查询请求，DNS服务器告知客户机Web服务器的 IP 地址。 </p><p>解析过程：</p><ul><li><strong>浏览器缓存</strong>：首先在浏览器缓存中查找对应的IP地址，如果查到直接返回，若找不到就继续下一步</li><li><strong>本地DNS服务器</strong>： 将请求发送给本地DNS服务器，在本地域名服务器缓存中查询，如果查找到，就直接将查找结果返回，若找不到继续下一步 </li><li><strong>根域名服务器</strong>： 本地DNS服务器向根域名服务器发送请求，根域名服务器会返回一个所查询域的顶级域名服务器地址 </li><li><strong>顶级域名服务器</strong>： 本地DNS服务器向顶级域名服务器发送请求，接受请求的服务器查询自己的缓存，如果有记录，就返回查询结果，如果没有就返回相关的下一级的权威域名服务器的地址 </li><li><strong>权威域名服务器</strong>： 本地DNS服务器向权威域名服务器发送请求，域名服务器返回对应的结果 </li><li>本地DNS服务器将返回的结果保存在缓存中，便于下次使用</li><li>本地DNS服务器将返回结果返回给浏览器</li><li>用户向本地 DNS 服务器发起请求属于递归请求，本地 DNS 服务器向各级域名服务器发起请求属于迭代请求。</li></ul><p> 比如要查询 <a href="http://www.baidu.com/">www.baidu.com</a> 的 IP 地址，首先会在浏览器的缓存中查找是否有该域名的缓存，如果不存在就将请求发送到本地的 DNS 服务器中，本地DNS服务器会判断是否存在该域名的缓存，如果不存在，则向根域名服务器发送一个请求，根域名服务器返回负责 .com 的顶级域名服务器的 IP 地址的列表。然后本地 DNS 服务器再向其中一个负责 .com 的顶级域名服务器发送一个请求，负责 .com 的顶级域名服务器返回负责 .baidu 的权威域名服务器的 IP 地址列表。然后本地 DNS 服务器再向其中一个权威域名服务器发送一个请求，最后权威域名服务器返回一个对应的主机名的 IP 地址列表。 </p><h2 id="四、网络模型"><a href="#四、网络模型" class="headerlink" title="四、网络模型"></a>四、网络模型</h2><ul><li><strong>应用层</strong>：为应用程序提供服务</li><li><strong>表示层</strong>：数据格式转化、数据加密</li><li><strong>会话层</strong>：建立、管理和维护会话</li><li><strong>传输层</strong>：建立、管理和维护端到端的连接</li><li><strong>网络层</strong>：IP选址及路由选择</li><li><strong>数据链路层</strong>：提供介质访问和链路管理</li><li><strong>物理层</strong>：物理层</li></ul><h2 id="五、TCP和UDP"><a href="#五、TCP和UDP" class="headerlink" title="五、TCP和UDP"></a>五、TCP和UDP</h2><table><thead><tr><th align="center"></th><th align="center">UDP</th><th align="center">TCP</th></tr></thead><tbody><tr><td align="center">是否连接</td><td align="center">无连接</td><td align="center">面向连接</td></tr><tr><td align="center">是否可靠</td><td align="center">不可靠传输，不使用流量控制和拥塞控制</td><td align="center">可靠传输（数据顺序和正确性），使用流量控制和拥塞控制</td></tr><tr><td align="center">连接对象个数</td><td align="center">支持一对一，一对多，多对一和多对多交互通信</td><td align="center">只能是一对一通信</td></tr><tr><td align="center">传输方式</td><td align="center">面向报文</td><td align="center">面向字节流</td></tr><tr><td align="center">首部开销</td><td align="center">首部开销小，仅8字节</td><td align="center">首部最小20字节，最大60字节</td></tr><tr><td align="center">使用场景</td><td align="center">适用于实时应用，例如视频会议、直播</td><td align="center">适用于要求可靠传输的应用，例如文件传输</td></tr></tbody></table><p><strong>TCP重传机制</strong>： TCP在发送一个数据之后，就开启一个定时器，若是在这个时间内没有收到发送数据的ACK确认报文，则对该报文进行重传，在达到一定次数还没有成功时放弃并发送一个复位信号。 </p><p><strong>TCP三次握手</strong>：</p><ul><li>第一次握手： 客户端向服务端发送连接请求报文段。该报文段中包含自身的数据通讯初始序号。请求发送后，客户端便进入 SYN-SENT 状态。</li></ul><p>这样服务端就能得出结论：客户端的发送能力、服务端的接收能力是正常的。</p><ul><li>第二次握手： 服务端收到连接请求报文段后，如果同意连接，则会发送一个应答，该应答中也会包含自身的数据通讯初始序号，发送完成后便进入 SYN-RECEIVED 状态。</li></ul><p>这样客户端就能得出结论：服务端的接收、发送能力，客户端的接收、发送能力是正常的。不过此时服务器并不能确认客户端的接收能力是否正常。</p><ul><li>第三次握手： 当客户端收到连接同意的应答后，还要向服务端发送一个确认报文。客户端发完这个报文段后便进入 ESTABLISHED 状态，服务端收到这个应答后也进入 ESTABLISHED 状态，此时连接建立成功。</li></ul><p>这样服务端就能得出结论：客户端的接收、发送能力正常，服务器自己的发送、接收能力也正常。</p><p><strong>三次握手原因</strong>：客户端共发出了两个连接请求报文段，其中第一个丢失，第二个到达了服务端，但是第一个丢失的报文段只是在某些网络结点长时间滞留了，延误到连接释放以后的某个时间才到达服务端，此时服务端误认为客户端又发出一次新的连接请求，于是就向客户端发出确认报文段，同意建立连接，不采用三次握手，只要服务端发出确认，就建立新的连接了，此时客户端忽略服务端发来的确认，也不发送数据，则服务端一致等待客户端发送数据，浪费资源。</p><p><strong>四次挥手</strong>：</p><ul><li>第一次挥手：若客户端认为数据发送完成，则它需要向服务端发送连接释放请求。</li><li>第二次挥手：服务端收到连接释放请求后，会告诉应用层要释放 TCP 链接。然后会发送 ACK 包，并进入 CLOSE_WAIT 状态，此时表明客户端到服务端的连接已经释放，不再接收客户端发的数据了。但是因为 TCP 连接是双向的，所以服务端仍旧可以发送数据给客户端。</li><li>第三次挥手：服务端如果此时还有没发完的数据会继续发送，完毕后会向客户端发送连接释放请求，然后服务端便进入 LAST-ACK 状态。</li><li>第四次挥手：客户端收到释放请求后，向服务端发送确认应答，此时客户端进入 TIME-WAIT 状态。该状态会持续 2MSL（最大段生存期，指报文段在网络中生存的时间，超时会被抛弃） 时间，若该时间段内没有服务端的重发请求的话，就进入 CLOSED 状态。当服务端收到确认应答后，也便进入 CLOSED 状态。</li></ul><h2 id="六、缓存问题"><a href="#六、缓存问题" class="headerlink" title="六、缓存问题"></a>六、缓存问题</h2><h3 id="6-1-本地缓存、cookie、token"><a href="#6-1-本地缓存、cookie、token" class="headerlink" title="6.1 本地缓存、cookie、token"></a>6.1 本地缓存、cookie、token</h3><ul><li><p>cookie:网站为了标识用户身份而储存在客户端的数据。（不安全，考虑服务器性能适用cookie），每次http求情都会携带 </p></li><li><p>localStorage和SessionStorage不会自动的把数据发给服务器，只会在本地保存</p></li><li><p>session：一般是用来存储用户会话所需的配置和信息，保存在服务端（安全，登录信息保存，其他信息如果需要保留，可以放在cookie中）</p></li></ul><p>存储大小：cookie大小一般不能超过4k，而 **localStorage、SessionStorage比cookie大得多，可以达到5M</p><p>有期事件：localStorage关闭浏览器后数据依然保留，除非手动清除，否则一直在</p><p>​sessionStorage关闭浏览器或者标签后即失效</p><p>​cookie一般由 server 设置值及过期时间</p><p>​session的生命周期是间隔的</p><h3 id="6-2-浏览器缓存"><a href="#6-2-浏览器缓存" class="headerlink" title="6.2 浏览器缓存"></a>6.2 浏览器缓存</h3><p>浏览器对之前请求过的文件进行缓存，以便下一次访问时重复使用，节省带宽，提高访问速度，降低服务器压力</p><p><strong>强缓存</strong>：浏览器不会像服务器发送任何请求，直接从本地缓存中读取文件并返回，强制缓存的情况主要有三种(暂不分析协商缓存过程)，如下：</p><pre><code>    1. 不存在该缓存结果和缓存标识，强制缓存失效，则直接向服务器发起请求（跟第一次发起请求一致）    1. 存在该缓存结果和缓存标识，但该结果已失效，强制缓存失效，则使用协商缓存    1. 存在该缓存结果和缓存标识，且该结果尚未失效，强制缓存生效，直接返回该结果</code></pre><p>​当浏览器向服务器发起请求时，服务器会将缓存规则放入HTTP响应报文的HTTP头中和请求结果一起返回给浏览器，控制强制缓存的字段分别是Expires和Cache-Control，其中Cache-Control优先级比Expires高</p><p><strong>协商缓存</strong>：协商缓存就是强制缓存失效后，浏览器携带缓存标识向服务器发起请求，由服务器根据缓存标识决定是否使用本地缓存的过程，主要有以下两种情况：</p><pre><code>1. 协商缓存生效，返回3041. 协商缓存失效，返回200和请求结果结果</code></pre><h2 id="七、浏览器"><a href="#七、浏览器" class="headerlink" title="七、浏览器"></a>七、浏览器</h2><h3 id="7-1-性能优化"><a href="#7-1-性能优化" class="headerlink" title="7.1 性能优化"></a>7.1 性能优化</h3><ul><li>减少http请求次数</li><li>对js和css打包，资源合并</li><li>适用雪碧图，把请求的icon合并成一张图片</li><li>给资源做缓存</li><li>图片按需加载（懒加载）</li><li>CDN减少打包体积</li><li>异步加载js文件</li><li>开启gzip打包</li><li>路由懒加载，图片懒加载</li><li>预渲染和服务端渲染</li><li>组件的按需加载</li></ul><h3 id="7-2-渲染机制"><a href="#7-2-渲染机制" class="headerlink" title="7.2 渲染机制"></a>7.2 渲染机制</h3><ul><li><code>HTML</code>被HTML解析器解析成<code>DOM</code> 树</li><li><code>css</code>则被css解析器解析成<code>CSSOM </code>树</li><li>结合<code>DOM</code>树和<code>CSSOM</code>树，生成一棵渲染树(<code>Render Tree</code>)</li><li>.根据生成的渲染树，进行回流（Layout）,得到节点的几何信息（位置，大小）</li><li>重绘（Painting）：根据渲染树以及回流得到的几何信息，得到节点的绝对<a href="https://so.csdn.net/so/search?q=%E5%83%8F%E7%B4%A0&spm=1001.2101.3001.7020">像素</a>（像素，背景色，外观等）</li><li>Display将像素发送给GPU，展示在页面上</li></ul><p>回流(重排)： 当<code>DOM</code>的变化影响了元素位置和尺寸大小，浏览器需要重新计算元素的几何属性</p><ul><li><p>页面第一次加载时进行一次回流</p></li><li><p>当元素的 width、height、margin、padding、left、top 发生改变的时候会发生回流、</p></li><li><p>使 DOM节点增减或移动</p></li><li><p>读写 offset、client、scroll 时，浏览器为了获取这些值，会进行回流操作</p></li><li><p>使用 <code>window.getComputedStyle</code>的时候</p></li></ul><p>重绘：</p><ul><li>当改变元素时，只是改变了它的外观，比如背景颜色等，而没有影响到它的布局，这个时候会发生重绘</li><li>回流(重排)必将引起重绘；重绘不一定会引起回流(重排)</li></ul><p>如何避免或减少：</p><ul><li>避免逐次改变样式，样式统一批量修改</li><li>DOM离线处理，减少回流重绘次数<ul><li>使用document fragment在DOM Tree之外建立一个子树</li><li>position属性控制其脱离文档流</li></ul></li><li>CSS3硬件加速（GPU加速）</li></ul><h3 id="7-3-XSS和CSRF攻击"><a href="#7-3-XSS和CSRF攻击" class="headerlink" title="7.3 XSS和CSRF攻击"></a>7.3 XSS和CSRF攻击</h3><p>xss：不需要你做任何的登录认证，它会通过合法的操作（比如在url中输入、在评论框中输入），向你的页面注入脚本（可能是js、hmtl代码块等）。<code>跨域脚本攻击</code></p><p>防御：</p><ul><li>编码：对用户输入的数据进行HTML Entity 编码。把字符转换成 转义字符。Encode的作用是将$var等一些字符进行转化，使得浏览器在最终输出结果上是一样的。</li><li>过滤：移除用户输入的和事件相关的属性。</li></ul><p>csrf：在未退出A网站的前提下访问B，B使用A的cookie去访问服务器。<code>跨站请求伪造</code></p><p>防御：</p><ul><li>使用验证码或者 token 验证，每次提交表单时需要带上 token（伪造者访问不到），如果 token 不合法，服务器拒绝请求</li><li>通过 host+origin 来判断是否为非法用户</li><li>给 Cookie 设置 SameSite属性，来限制第三方 Cookie，里面有三个值 strict、lax、none</li></ul><h3 id="7-4-进程和线程"><a href="#7-4-进程和线程" class="headerlink" title="7.4 进程和线程"></a>7.4 进程和线程</h3><p>进程是程序的一次执行，他占有一片独有的内存空间；可以通过windows任务管理器查看</p><p>线程是进程内的一个独立执行单元；是程序执行的一个完整的流程；是CPU的最小的调度单元</p><p>【联系】： 一个线程只能属于一个进程，而一个进程可以有多个线程，但至少有一个线程；<br>资源分配给进程，同一进程的所有线程共享该进程的所有资源；<br>处理机分给线程，即真正在处理机上运行的是线程；</p><h1 id="VUE"><a href="#VUE" class="headerlink" title="VUE"></a>VUE</h1><h3 id="VUE的优点"><a href="#VUE的优点" class="headerlink" title="VUE的优点"></a>VUE的优点</h3><ol><li>简单易学</li><li>轻量级框架</li><li>渐进式引入</li><li>双向数据绑定</li><li>组件化开发</li><li>结构，数据，视图0分离</li></ol><h3 id="SPA页面："><a href="#SPA页面：" class="headerlink" title="SPA页面："></a>SPA页面：</h3><p>仅在web页面初始化时加载相应的HTML，CSS，JavaScript.一但页面加载完成，SPA不会因为用户的操作而进行页面的重新加载或跳转，取而代之的是利用路由机制实现HTML内容的变化，UI与用户的交互，避免也免得重新加载。</p><ul><li><p>优点：</p><ul><li><p>用户体验好，避免了不必要的跳转和重新渲染。</p></li><li><p>相对对服务器压力小</p></li><li><p>前后端职责分离，架构清晰。</p></li></ul></li><li><p>缺点：</p><ul><li>初次加载时耗时多</li><li>前进后退路由管理</li><li>SEO难度较大</li></ul></li></ul><h3 id="1-vue双向绑定的原理"><a href="#1-vue双向绑定的原理" class="headerlink" title="1. vue双向绑定的原理"></a>1. vue双向绑定的原理</h3><p>vue是采用数据劫持配合发布者-订阅者的模式的方式，通过Object.defineProperty()来劫持各个属性的getter和setter，在数据发生变动时发布消息给订阅者，触发相应的监听回调。具体为：需要observe的数据对象进行遍历，并对其和子属性添加getter和setter，Dep负责管理数据的依赖列表，compile解析模板指令，生成指令对象，每个指令对象绑定一个watcher对象，会触发getter,收集到dep仓库中，然后数据更新时就会触发setter，这时候相应的watcher对其再次求值，如果值确实发生变化了，就会通知相应的指令，调用指令的update方法，由对DOM做更新，这就实现了数据驱动DOM的变化。同时vue还会对DOM做事件监听，如果DOM发生变化，vue监听到，就会修改相应的data。</p><h3 id="Vue单向数据流"><a href="#Vue单向数据流" class="headerlink" title="Vue单向数据流"></a>Vue单向数据流</h3><p>所有的 prop 都使得其父子 prop 之间形成了一个单向下行绑定：父级 prop 的更新会向下流动到子组件中，但是反过来则不行。这样会防止从子组件意外改变父级组件的状态，从而导致你的应用的数据流向难以理解。</p><p>额外的，每次父级组件发生更新时，子组件中所有的 prop 都将会刷新为最新的值。这意味着你不应该在一个子组件内部改变 prop。如果你这样做了，Vue 会在浏览器的控制台中发出警告。</p><p>父级 prop 的更新会向下流动到子组件中，每次父级组件发生更新时，子组件中所有的 prop 都将会刷新为最新的值</p><h3 id="2-Vue监听数组"><a href="#2-Vue监听数组" class="headerlink" title="2. Vue监听数组"></a>2. Vue监听数组</h3><p>首先第一点是要看数组里面是不是还存在对象，如果存在对象的话在进行深层遍历是否还依然存在对象，再把对象进行 defineProperty监听。然后数组的改变实质上只是几个方法，什么 pop，unshift，push…Vue 重写了这几个方法，只要在调用这些方法的时候做出回调更新就可以了</p><h3 id="3-nextTick"><a href="#3-nextTick" class="headerlink" title="3. nextTick"></a>3. nextTick</h3><p>解释：就是当页面上的元素被重新渲染之后，才会执行回调函数中的代码(涉及事件循环机制)</p><p>正是因为Vue是异步更新Dom，所以当我们修改数据之后，Dom节点的内容不会立即修改，我们这样获取Dom节点的新内容的时候，获取的还是旧的内容</p><p>应用：1. 想要在Vue生命周期函数中的<code>created()</code>操作DOM可以使用<code>Vue.nextTick()</code>回调函数</p><ol start="2"><li>在数据改变后要执行的操作，而这个操作需要等数据改变后而改变DOM结构的时候才进行操作，需要用到<code>nextTick</code></li></ol><p><strong>Vue在一个tick中多次更新数据页面只会更新一次</strong></p><p>数据 name 被 页面引用，name 会收集到 页面的 watcher；<br>name 被修改时，会通知所有收集到的 watcher 进行更新（watcher.update）；<br>如果name 一时间被修改三次时，按道理应该会通知三次 watcher 更新，那么页面会更新三次，但是最后只会更新一次。<br>这是因为：<br>当数据变化后，把 watcher.update 函数存放进 nextTick 的 回调数组中，并且会做过滤。<br>通过 watcher.id 来判断 回调数组 中是否已经存在这个 watcher 的更新函数不存在，才 push。<br>之后 nextTick时 遍历回调数组，便会执行了更新。</p><p>所以当三次修改数据的时候，会 push 回调数组 三个 watcher.update，但是只有第一次是 push 成功的，其他的会被过滤掉，因为已经存在了。<br>所以，不管你修改多少次数据，nextTick 的回调数组中只存在唯一一个 watcher.update，从而页面只会更新一次。</p><h3 id="4-Vue生命周期"><a href="#4-Vue生命周期" class="headerlink" title="4. Vue生命周期"></a>4. Vue生命周期</h3><p>实例化创建，初始化数据，编译模板，挂载dom，渲染，数据的更新，渲染以及销毁，vue提供了一些生命周期函数，我们可以编写代码使得vue被实例化的过程中能够完成我们的需求。</p><ul><li>beforeCreate<ul><li>创建之前，此时还没有data和Method</li><li>加一些loading效果。</li></ul></li><li>Created<ul><li>创建完成，此时data和Method可以使用了,不能访问dom节点</li><li>在Created之后beforeMount之前如果没有el选项的话那么此时生命周期结束，停止编译，如果有则继续</li></ul></li><li>beforeMount<ul><li>在渲染之前，压面呈现的是未经Vue编译的DOM结构，所有对DOM的操作都不奏效。</li></ul></li><li>mounted<ul><li>页面已经渲染完成，，这个时候可以操作DOM了（但是是获取不了元素的高度等属性的，如果想要获取，需要使用<code>nextTick()</code>）</li><li>开启定时器，发送网络请求，绑定自定义事件等初始化操作</li></ul></li><li>beforeUpdate<ul><li>数据是新的，页面是旧的。</li></ul></li><li>updated<ul><li>页面与数据保持同步</li></ul></li><li>beforeDestory<ul><li>在实例销毁之前，此时data,methods,指令仍然可以使用</li><li>关闭定时器，取消订阅消息，解绑自定义事件</li></ul></li><li>destoryed<ul><li>实例销毁后</li></ul></li></ul><p>另外还有 <code>keep-alive</code> 独有的生命周期，分别为 <code>activated</code> 和 <code>deactivated</code> 。用 <code>keep-alive</code> 包裹的组件在切换时不会进行销毁，而是缓存到内存中并执行 <code>deactivated</code> 钩子函数，命中缓存渲染后会执行 <code>activated</code> 钩子函数。</p><p>nexttick:就是当页面上的元素被重新渲染之后，才会执行回调函数中的代码</p><h3 id="5-computed-、watch、method的区别"><a href="#5-computed-、watch、method的区别" class="headerlink" title="5. computed 、watch、method的区别"></a>5. computed 、watch、method的区别</h3><ul><li><p>computed</p><ul><li>计算属性，依赖其他属性，当其他属性改变的时候下一次获取computed值时也会改变，<code>computed</code>的值会有缓存</li><li>监控自己定义的变量，改变量不在data中声明，而是在computed里面定义</li><li>计算属性不能向服务器发送请求或者执行异步任务</li></ul></li><li><p>watch</p><ul><li>监听属性的变化，需要在数据变化时执行异步或开销较大的操作时使用</li><li>定义的变量在data中声明</li><li>如果想深度监听的话，后面加一个<code>deep:true</code></li><li>如果想监听完立马运行的话，后面加一个<code>immediate:true</code></li></ul></li><li><p>而对于method ，只要发生重新渲染，method 调用总会执行该函数。</p></li></ul><p><code>computed</code>：当一个属性受多个属性影响的时候使用，例：购物车商品结算功能 <code>watch</code>：当一条数据影响多条数据的时候使用，例：搜索数据</p><h3 id="6-Vue性能优化"><a href="#6-Vue性能优化" class="headerlink" title="6. Vue性能优化"></a>6. Vue性能优化</h3><ol start="4"><li><p>图片懒加载</p><ul><li>一张图片就是一个<code>&lt;img&gt;</code>标签，浏览器是否发起请求图片是根据<code>&lt;img&gt;</code>的src属性，所以实现懒加载的关键就是，在图片没有进入可视区域时，先不给<code>&lt;img&gt;</code>的src赋值，这样浏览器就不会发送请求了，等到图片进入可视区域再给src赋值。</li></ul></li><li><p>路由懒加载</p><ul><li>将路由相关的组件，不再直接导入了，而是改写成异步组件的写法，只有当函数被调用的时候，才去加载对应的组件内容。路由懒加载就是只加载你当前点击的那个模块</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Login</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/login/index.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;@/views/home/home.vue&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>)</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line"> <span class="attr">routes</span>: [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Login</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>, <span class="attr">component</span>: <span class="title class_">Home</span> &#125;</span><br><span class="line">  ]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"> </span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>)</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line"> <span class="attr">routes</span>: [</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span>, <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/login/index.vue&#x27;</span>) &#125;,</span><br><span class="line">    &#123; <span class="attr">path</span>: <span class="string">&#x27;/home&#x27;</span>,  <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/home/home.vue&#x27;</span>) &#125;</span><br><span class="line">  ]</span><br><span class="line"> </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure></li><li><p>CDN：内容分发网络。采用更多的服务器分布于用户访问相对集中的地方。当用户访问时，就会访问最近的服务器上，响应用户的请求。</p></li><li><p>使用字体图标代替图片图标</p></li><li><p>gzip压缩文件：通过向 HTTP 请求头中的 Accept-Encoding 头添加 gzip 标识来开启这一功能。当然，服务器也得支持这一功能。 </p></li><li><p>长列表虚拟滚动：只渲染可视区域的列表项，非可见区域的不渲染。在滚动时动态更新可视区域。原理：计算出列表的总高度，并在触发滚动事件时根据滚动长度实时更新预留缓冲区域高度，以此来从列表数据中截取。</p></li></ol><h3 id="7-Vue-router"><a href="#7-Vue-router" class="headerlink" title="7. Vue-router"></a>7. Vue-router</h3><ul><li>vue 的一个插件库，专门用来实现 SPA 应用。原理：检测url的变化，截获url地址，然后解析来匹配路由规则</li></ul><ol><li>理解： 一个路由（route）就是一组映射关系（key - value），多个路由需要路由器（router）进行管理。</li><li>前端路由：key是路径，value是组件。</li></ol><ul><li><p>实现切换：<strong>router-link</strong>,指定展示位置：<strong>router-view</strong>.若是多级路由，可用children进行配置。</p></li><li><p><strong>两种方式进行传参</strong>：query传参和params进行传参。$router.query.id或者$router.params.id接收参数</p></li><li><p><strong>router-link的replace属性</strong>：控制路由跳转时操作浏览器历史记录的模式，浏览器的历史记录有两种写入方式：分别为<code>push</code>和<code>replace</code>，<code>push</code>是追加历史记录，<code>replace</code>是替换当前记录。路由跳转时候默认为<code>push</code>如何开启<code>replace</code>模式：<code>&lt;router-link replace .......&gt;News&lt;/router-link&gt;</code></p></li><li><p><strong>编程式路由导航</strong>：</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//$router的两个API</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line"><span class="attr">params</span>:&#123;</span><br><span class="line"><span class="attr">id</span>:xxx,</span><br><span class="line"><span class="attr">title</span>:xxx</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">replace</span>(&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line"><span class="attr">params</span>:&#123;</span><br><span class="line"><span class="attr">id</span>:xxx,</span><br><span class="line"><span class="attr">title</span>:xxx</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">forward</span>() <span class="comment">//前进</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">back</span>() <span class="comment">//后退</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">go</span>() <span class="comment">//可前进也可后退</span></span><br></pre></td></tr></table></figure><ul><li><strong>keep-alive</strong>：让不展示的路由组件保持挂载，不被销毁</li></ul><p>缓存多个用数组，缓存一个用字符串</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive include=<span class="string">&quot;News&quot;</span>&gt; </span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span></span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure><p><strong>activated和deactivated</strong></p><p>作用：路由组件所独有的两个钩子，用于捕获路由组件的激活状态。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```deactivated```路由组件失活时触发。</span><br><span class="line"></span><br><span class="line">应用：可以将定时器写在被激活时里，销毁定时器写在失活里，组件跳转时会被触发</span><br><span class="line"></span><br><span class="line">- **路由守卫**：全局守卫(前置和后置)、独享守卫、组件内守卫(进入守卫和离开守卫)</span><br><span class="line"></span><br><span class="line">​作用：对路由进行权限控制</span><br><span class="line"></span><br><span class="line">​全局守卫(前置和后置)</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">//全局前置守卫：初始化时执行、每次路由切换前执行</span><br><span class="line">router.beforeEach((to,from,next)=&gt;&#123;</span><br><span class="line">console.log(&#x27;beforeEach&#x27;,to,from)</span><br><span class="line">if(to.meta.isAuth)&#123; //判断当前路由是否需要进行权限控制</span><br><span class="line">if(localStorage.getItem(&#x27;school&#x27;) === &#x27;atguigu&#x27;)&#123; //权限控制的具体规则</span><br><span class="line">next() //放行</span><br><span class="line">&#125;else&#123;</span><br><span class="line">alert(&#x27;暂无权限查看&#x27;)</span><br><span class="line">// next(&#123;name:&#x27;guanyu&#x27;&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">next() //放行</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//全局后置守卫：初始化时执行、每次路由切换后执行</span><br><span class="line">router.afterEach((to,from)=&gt;&#123;</span><br><span class="line">console.log(&#x27;afterEach&#x27;,to,from)</span><br><span class="line">if(to.meta.title)&#123; </span><br><span class="line">document.title = to.meta.title //修改网页的title</span><br><span class="line">&#125;else&#123;</span><br><span class="line">document.title = &#x27;vue_test&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><pre><code>       独享守卫:</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">beforeEnter</span>(<span class="params">to,<span class="keyword">from</span>,next</span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beforeEnter&#x27;</span>,to,<span class="keyword">from</span>)</span><br><span class="line"><span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">isAuth</span>)&#123; <span class="comment">//判断当前路由是否需要进行权限控制</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;school&#x27;</span>) === <span class="string">&#x27;atguigu&#x27;</span>)&#123;</span><br><span class="line"><span class="title function_">next</span>()</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;暂无权限查看&#x27;</span>)</span><br><span class="line"><span class="comment">// next(&#123;name:&#x27;guanyu&#x27;&#125;)</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="title function_">next</span>()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​组件内守卫：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//进入守卫：通过路由规则，进入该组件时被调用</span><br><span class="line">beforeRouteEnter (to, from, next) &#123;</span><br><span class="line">&#125;,</span><br><span class="line">//离开守卫：通过路由规则，离开该组件时被调用</span><br><span class="line">beforeRouteLeave (to, from, next) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>路由模式：</strong></p><ul><li><h6 id="1-hasn模式"><a href="#1-hasn模式" class="headerlink" title="1. hasn模式"></a>1. hasn模式</h6><ul><li><code>hash</code> 模式是一种把前端路由的路径用井号 <code>#</code> 拼接在真实 <code>url</code> 后面的模式。当井号 <code>#</code> 后面的路径发生变化时，浏览器并不会重新发起请求，而是会触发 <code>onhashchange</code> 事件。不会被包括在 <code>http</code> 请求中。</li><li>hash变化会触发网页跳转，即浏览器的前进和后退。</li><li><code>hash</code> 通过 <code>window.onhashchange</code> 的方式，来监听 <code>hash</code> 的改变，借此实现无刷新跳转的功能</li><li><code>hash</code> 可以改变 <code>url</code> ，但是不会触发页面重新加载，不会出现在``http`中</li><li>首先，<code>hash</code>本来是拿来做页面定位的，如果拿来做路由的话，原来的锚点功能就不能用了。其次，``hash<code>的传参是基于</code>url`的，如果要传递复杂的数据，会有体积的限制</li></ul><h6 id="2-history模式"><a href="#2-history模式" class="headerlink" title="2. history模式"></a>2. history模式</h6><ul><li>利用H5的 history中新增的两个API <code>pushState()</code> 和 <code>replaceState()</code> 和一个事件``onpopstate`监听URL变化</li><li><code>history</code>每次刷新会重新像后端请求整个网址，也就是重新请求服务器。如果后端没有及时响应，就会报错404！ </li><li><code>history</code>模式不仅可以在``url`里放参数，还可以将数据存放在一个特定的对象中。</li><li>修改历史状态：  包括了 HTML5 History Interface 中新增的 <code>pushState()</code> 和 <code>replaceState()</code> 方法，这两个方法应用于浏览器的历史记录栈，提供了对历史记录进行修改的功能。只是当他们进行修改时，虽然修改了 url，但浏览器不会立即向后端发送请求。如果要做到改变 url 但又不刷新页面的效果，就需要前端用上这两个 API。 </li><li>切换历史状态： 包括 <code>forward()</code>、<code>back()</code>、<code>go()</code> 三个方法，对应浏览器的前进，后退，跳转操作。</li></ul><h6 id="3-两种模式对比"><a href="#3-两种模式对比" class="headerlink" title="3. 两种模式对比"></a>3. 两种模式对比</h6><ul><li>history 模式的 pushState() 设置的新 URL 可以是与当前 URL 同源的任意 URL；而 hash 只可修改 # 后面的部分，因此只能设置与当前 URL 同文档的 URL；</li><li>pushState() 设置的新 URL 可以与当前 URL 一模一样，这样也会把记录添加到栈中；而 hash 设置的新值必须与原来不一样才会触发动作将记录添加到栈中；</li><li>pushState() 通过 stateObject 参数可以添加任意类型的数据到记录中；而 hash 只可添加短字符串；</li><li>pushState() 可额外设置 title 属性供后续使用。</li><li>hash 模式下，仅 hash 符号之前的 url 会被包含在请求中，后端如果没有做到对路由的全覆盖，也不会返回 404 错误；history 模式下，前端的 url 必须和实际向后端发起请求的 url一致，如果没有对用的路由处理，将返回 404 错误。</li></ul></li><li><p>怎么定义vue-router的动态路由？怎么获取传过来的动态参数？</p><ul><li>在router目录下的index.js文件中，对path属性加上/:id。使用router对象的params.id获取动态参数</li></ul></li></ul><h3 id="8-diff算法"><a href="#8-diff算法" class="headerlink" title="8. diff算法"></a>8. diff算法</h3><ul><li>diff算法是指对新旧虚拟节点进行对比，并返回一个patch对象，用来存储两个节点不同的地方，最后利用patch记录的消息局部更新DOM</li><li>diff 算法<ul><li>diff算法是虚拟节点的比较</li><li>tag不同认为是不同节点</li><li>进行key值的比较</li><li>先进行同级比较，</li><li>然后再比较是不是一方有儿子，一方没儿子</li></ul></li><li>React和Vue：<ul><li>在React中，当数据发生改变的时候，组件数就会自顶向下的全diff，重新render页面，重新生成新的虚拟dom tree，新旧dom tree进行比较，进行打补丁的方式，局部更新dom。所以react为了避免组件更新而引起不必要的子组件更新，可以再shouldComponentUpdate做逻辑判断，减少不必要的render，以及重新生成虚拟dom</li><li>react 首先对新集合进行遍历，通过唯一key值来判断新旧集合中是否存在相同的节点，如果没有的话就创建，如果有的话就会将节点在新集合中的位置和老集合中的位置进行比较，如果不同，则进行移动操作，否则就不操作。如果在遍历的过程中，发现在新集合中没有，就会进行删除操作。</li><li>在Vue中，通过Object.defineProperty吧data属性全部转为getter/setter。同时watcher实例对象会在组件渲染时，将属性记录为dep，当dep中的setter被调用时，通知watch重新计算，使得关联组件更新</li><li>Vue新旧集合各有头尾的变量，他们的2各变量相互比较，一共有四种比较方式，如果四种都没匹配，则会匹配key值，借助key值找到可复用的节点，在进行相关操作。</li></ul></li></ul><h3 id="9-虚拟DOM"><a href="#9-虚拟DOM" class="headerlink" title="9. 虚拟DOM"></a>9. 虚拟DOM</h3><p>概述：本质上是JS和DOM之间的一个映射缓存，它表现为一个能够描述DOM结构及其属性信息的JS对象。主要存储在内存中。</p><ul><li>虚拟DOM是一个JS对象，存储在内存之中</li><li>能够描述真实DOM</li><li>当数据变化的时候，生成新的DOM，对比新旧虚拟DOM的差异，将差异更新到 真实DOM上。</li></ul><p>虚拟DOM优缺点：</p><ul><li>缺点<ul><li>首次渲染大量DOM时，由于多了一层虚拟DOM的计算，会比innerHTML插入慢</li></ul></li><li>优点<ul><li>减少了dom操作，减少了回流与重绘</li><li>保证性能的下限，但是它具备局部更新的能力，所以大部分时候还是比正常的DOM性能高很多的</li></ul></li></ul><h3 id="10-Vue的key（index）"><a href="#10-Vue的key（index）" class="headerlink" title="10. Vue的key（index）"></a>10. Vue的key（index）</h3><ul><li>key主要用在虚拟Dom算法中，每个虚拟节点有一个唯一标识Key，通过对比新旧节点的key来判断节点是否改变，用key就可以大大提高渲染效率</li><li>使用Index作为key可能会引发的问题<ul><li>若对数据进行: 逆序添加, 逆序删除等破坏顺序操作,会产尘没有必要的真实DOM更新, 界面效果没问题, 但效率低</li><li>如果结构中还包含输入类的DOM, 例如 input 标签,会产生错误DOM更新, 界面有问题</li></ul></li></ul><h3 id="11-vue组件之间的通信（vuex）"><a href="#11-vue组件之间的通信（vuex）" class="headerlink" title="11. vue组件之间的通信（vuex）"></a>11. vue组件之间的通信（vuex）</h3><p><a href="https://juejin.cn/post/6999687348120190983#heading-15">https://juejin.cn/post/6999687348120190983#heading-15</a></p><ul><li><p>父传子</p><ul><li>父组件设置<code>v-bind:</code>/<code>:</code>,子组件设置<strong>props</strong>接受 + <strong>不能直接修改</strong>父组件的数据</li><li>使用**.sync<strong>通信，:num.sync="num" ,子组件用props接收传递的值(绑定的属性名自己决定) 在子组件中通过$emit方法触发<code>&#39;update:属性名&#39;</code>事件 实现父组件子组件值同时变化</strong>this.$emit('update:属性名',要修改的值)**@update:num</li><li>使用<strong>v-model</strong>通信，v-model="num",  ,子组件用props接收传递的值value, 在子组件中通过$emit方法触发input事件 实现父组件子组件值同时变化  **<code>this.$emit(&#39;input&#39;,this.value+1)</code></li></ul></li><li><p>子传父</p><ul><li>自定义事件：在父组件v-on绑定自定义事件，在子组件通过$emit触发事件，第一个参数为事件名称，第二个参数为要传递的参数。</li><li>通过父组件给子组件传递函数类型的props实现：子给父传递</li></ul></li><li><p><strong>ref</strong> 如果在普通的DOM元素上，引用指向的就是该DOM元素;</p><p>如果在子组件上，引用的指向就是子组件实例，然后父组件就可以通过 $ref 主动获取子组件的属性或者调用子组件的方法</p></li><li><p>任意组件</p><ul><li><p>传说中的**$bus**</p><ul><li><pre><code class="js">new Vue(&#123;    ......    beforeCreate() &#123;        Vue.prototype.$bus = this //安装全局事件总线，$bus就是当前应用的vm    &#125;,    ......&#125;) <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line">使用：*在需要向外部发送自定义事件的组件内*通过this.$bus.$emit发送数据</span><br><span class="line">  </span><br><span class="line">*在需要接收外部事件的组件内*通过$on监听事件的触发并接受数据。</span><br><span class="line"></span><br><span class="line">```js</span><br><span class="line">methods()&#123;</span><br><span class="line">  demo(data)&#123;......&#125;</span><br><span class="line">&#125;</span><br><span class="line">......</span><br><span class="line">mounted() &#123;</span><br><span class="line">  this.$bus.$on(&#x27;xxxx&#x27;,this.demo)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre></li></ul></li><li><p>Vuex</p><ul><li>集中式存储管理所有组件的状态</li></ul></li><li><p>[<a href="https://juejin.cn/post/6928468842377117709#heading-8]">https://juejin.cn/post/6928468842377117709#heading-8]</a>: </p><ul><li>state<ul><li>存储数据的</li><li>获取数据最好推荐使用getters</li><li>硬要使用的话可以用MapState， 先引用，放在compute中<code>...mapState([&#39;方法名&#39;,&#39;方法名&#39;])</code></li></ul></li><li>getters<ul><li>. 值为一个对象，包含多个用于返回数据的函数。函数第一个参数为state</li><li>对state中的数据进行操作和加工，</li></ul></li><li>mutations<ul><li>同步操作数据的</li><li>值为一个对象，包含多个响应用户动作的回调函数</li><li>组件中使用this.$store.commit(“方法名”,数据)触发</li><li>也可使用mapMutations ，使用方法和以上一样</li></ul></li><li>actions<ul><li>异步操作数据的</li><li>值为一个对象，包含多个响应用户动作的回调函数</li><li>通过 commit( )来触发 mutation 中函数的调用</li><li>组件中使用this.$store.dispatch(“方法名”,数据)触发 </li><li>也可使用mapActions ，使用方法和以上一样</li></ul></li><li>modules<ul><li>一个 module 是一个 store 的配置对象</li></ul></li></ul><p>引用vuex:</p><ul><li><p>先安装依赖<code>nnpm install vuex --save</code></p></li><li><p>在项目目录src中建立store文件夹</p></li><li><p>在store文件夹下新建index.js文件,写入</p></li><li><pre><code class="js">import Vue from &#39;vue&#39;;import Vuex from &#39;vuex&#39;;Vue.use(Vuex);//不是在生产环境debug为trueconst debug = process.env.NODE_ENV !== &#39;production&#39;;//创建Vuex实例对象const store = new Vuex.Store(&#123;    strict:debug,//在不是生产环境下都开启严格模式    state:&#123;    &#125;,    getters:&#123;    &#125;,    mutations:&#123;    &#125;,    actions:&#123;    &#125;&#125;)export default store;<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line">- 然后再main.js文件中引入Vuex,这么写</span><br><span class="line">  </span><br><span class="line">- ```js</span><br><span class="line">  import Vue from &#x27;vue&#x27;;</span><br><span class="line">  import App from &#x27;./App.vue&#x27;;</span><br><span class="line">  import store from &#x27;./store&#x27;;</span><br><span class="line">  const vm = new Vue(&#123;</span><br><span class="line">      store:store,</span><br><span class="line">      render: h =&gt; h(App)</span><br><span class="line">  &#125;).$mount(&#x27;#app&#x27;)</span><br><span class="line">  </span><br></pre></td></tr></table></figure></code></pre></li></ul></li></ul></li></ul><p><strong>vuex的 store 中的数据是保存在运行内存中的，当页面刷新时，页面会重新加载 vue 实例，vuex 里面的数据就会被重新赋值，这样就会出现页面刷新vuex中的数据丢失的问题。 如何解决浏览器刷新数据丢失问题呢？</strong></p><ol><li>方法一：全局监听，页面刷新的时候将 store 里 state 的值存到 sessionStorage 中，然后从sessionStorage 中获取，再赋值给 store ，并移除 sessionStorage 中的数据。</li><li>安装 vuex-persistedstate 插件，在vuex实例对象后添加插件</li></ol><p>vuex-persistedstate 默认使用 localStorage 来存储数据，若要实现无痕浏览该如何实现呢？</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">persistedState</span>(&#123; <span class="attr">storage</span>: <span class="variable language_">window</span>.<span class="property">sessionStorage</span> &#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="12-Vue-router有哪几种钩子函数"><a href="#12-Vue-router有哪几种钩子函数" class="headerlink" title="12. Vue-router有哪几种钩子函数"></a>12. <strong>Vue-router有哪几种钩子函数</strong></h3><p>全局守卫(前置和后置)、独享守卫、组件内守卫(进入守卫和离开守卫)</p><ul><li><p>beforeEach(全局前置守卫)</p><ul><li>初始化时执行、每次路由切换前执行</li><li>判断当前路由是否需要进行权限控制</li></ul></li><li><p>afterEach(全局后置守卫)</p><ul><li>初始化时执行、每次路由切换后执行</li></ul></li><li><p>beforeRouterLeave</p></li></ul><h3 id="13-为什么组件中-data-是个函数"><a href="#13-为什么组件中-data-是个函数" class="headerlink" title="13. 为什么组件中 data 是个函数"></a>13. <strong>为什么组件中 data 是个函数</strong></h3><p>在 Vue 底层中，在每次创建组件的时候，都会 new 一个VueComponent实例对象，他们的 data会挂载到VueComponent 的原型上共享，如果是一个对象的话，所有人都可以修改，但是如果是一个函数返回值的话就可以创建一个私有作用域来避免互相污染。</p><h3 id="14-v-model"><a href="#14-v-model" class="headerlink" title="14. v-model"></a>14. v-model</h3><p>语法糖，v-bind绑定响应式数据，v-on触发事件并触发数据。用于表单数据的双向绑定。监听用户的输入事件已更新数据，初始值为VUE实例的数据作为数据来源。父子组件中使用v-model通信 ,子组件用props接收传递的值value(一定要叫value) 在子组件中通过$emit方法触发input事件 实现父组件子组件值同时变化</p><p>组件绑定<code>v-model</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父组件</span></span><br><span class="line">&lt;<span class="title class_">Component</span> v-model=<span class="string">&#x27;data&#x27;</span>&gt;&lt;/<span class="title class_">Component</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 子组件</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;input</span><br><span class="line">      type=&quot;checkbox&quot;</span><br><span class="line">      v-bind:checked=&quot;checked&quot;</span><br><span class="line">      v-on:change=&quot;$emit(&#x27;change&#x27;, $event.target.checked)&quot;</span><br><span class="line">    &gt;</span><br><span class="line"> &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">name:&#x27;Component&#x27;,</span><br><span class="line">        model:&#123;</span><br><span class="line">           prop: &#x27;checked&#x27;,</span><br><span class="line">    event: &#x27;change&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        props:&#123;</span><br><span class="line">            checked:Boolean</span><br><span class="line">        &#125;,</span><br><span class="line">            data() &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="15-v-html和v-text"><a href="#15-v-html和v-text" class="headerlink" title="15. v-html和v-text"></a>15. v-html和v-text</h3><p>浏览器解析不出html代码，会将它当做普通文本。v-html就可以解析为标签，而v-text只会解析为文本。</p><p>v-html可能会造成xss攻击，v-html 会替换掉子标签</p><h3 id="17-vue2-0和3-0"><a href="#17-vue2-0和3-0" class="headerlink" title="17. vue2.0和3.0"></a>17. vue2.0和3.0</h3><p>vue2 的双向数据绑定是利用ES5 的一个 API ，Object.definePropert()对数据进行劫持 结合 发布订阅模式的方式来实现的。<br>vue3 中使用了 es6 的 ProxyAPI 对数据代理，通过 reactive() 函数给每一个对象都包一层 Proxy，通过 Proxy 监听属性的变化，从而实现对数据的监控。</p><ul><li>可以监听动态新增的属性；</li><li>可以监听删除的属性 ；</li><li>可以监听数组的变化；</li></ul><p>采用ts编写</p><p><strong>使用proxy的优势</strong></p><ol><li>可直接监听数组类型的数据变化</li><li>监听的目标为对象本身，不需要像Object.defineProperty一样遍历每个属性，有一定的性能提升</li><li>可拦截apply、ownKeys、has等13种方法，而Object.defineProperty不行</li><li>直接实现对象属性的新增/删除</li></ol><h3 id="18-vue的-set"><a href="#18-vue的-set" class="headerlink" title="18. vue的$set"></a>18. <strong>vue的$set</strong></h3><p>vue 中 data的数据，如果是对象的话，会把它的属性转为Object.defineProperty的getter和setter，使之变为响应式的。</p><p><strong>如果在实例创建之后添加新的属性到实例上，它不会触发视图更新</strong>,比如data中有一个对象具有name和sex属性，想追加一个age属性，增加成功但是不贵在视图上进行显示。因为在创建实例的时候 缺少了vue 监听的 set、get属性(直接在mounted中，用<code>$set</code>方法添加进去)<code>this.$set(this.student,&quot;age&quot;,24)</code></p><h3 id="19-v-if和v-for"><a href="#19-v-if和v-for" class="headerlink" title="19. v-if和v-for"></a>19. v-if和v-for</h3><p>在v-if和v-for用在同一个元素上时，因为v-for要比v-if的优先级高，所以会先执行循环，再进行判断，这样无论条件判断的结果如何，循环都会执行。所以要避免她们用在一起，如果需要的话，可以在外层加一个template，v-if用在template上，这样就可以实现先判断再根据判断结果决定是否执行循环了。</p><h3 id="20-v-if-和-v-show"><a href="#20-v-if-和-v-show" class="headerlink" title="20. v-if 和 v-show"></a>20. <strong>v-if 和 v-show</strong></h3><p>v-if是动态的向DOM树内添加或者删除DOM元素；v-show是通过设置DOM元素的display样式属性控制显隐；</p><p>v-show适合频繁切换,v-if适合运行条件不大可能改变</p><h3 id="21-插槽"><a href="#21-插槽" class="headerlink" title="21. 插槽"></a>21. 插槽</h3><p>Slot 通俗的理解就是“占坑”，在组件模板中占好了位置，当使用该组件标签时候，组件标签里面的内容就会自动填坑</p><p>让父组件可以向子组件指定位置插入html结构，也是一种组件间通信的方式</p><p>作用域插槽：数据在组件的自身，但根据数据生成的结构需要组件的使用者来决定，通过 “slot-scope” 来接收子组件传过来的插槽数据，再根据插槽数据来填充插槽的内容</p><h3 id="22-自定义事件"><a href="#22-自定义事件" class="headerlink" title="22. 自定义事件"></a>22. 自定义事件</h3><p>一种组件间通信的方式</p><ol><li>若想让自定义事件只能触发一次，可以使用<code>once</code>修饰符，或<code>$once</code>方法。</li><li>触发自定义事件：<code>this.$emit(&#39;atguigu&#39;,数据)</code></li><li>解绑自定义事件```this.$off('atguigu')`</li></ol><h3 id="23-在使用计算属性时，函数名与data中的数据名可以同名吗"><a href="#23-在使用计算属性时，函数名与data中的数据名可以同名吗" class="headerlink" title="23. 在使用计算属性时，函数名与data中的数据名可以同名吗"></a>23. 在使用计算属性时，函数名与data中的数据名可以同名吗</h3><p>不可以。</p><p>在初始化的时，props、methods、data、computed、watch会依次绑定到vm上，因此，当方法名与数据名重复时，会覆盖掉上一个。</p><h3 id="24-vue打包后静态资源路径"><a href="#24-vue打包后静态资源路径" class="headerlink" title="24. vue打包后静态资源路径"></a>24. vue打包后静态资源路径</h3><p> 1、确定线上环境是否在根路径上，配置资源根目录，vue-cli2 和 vue-cli3 字段不一致（assetsPublicPath 和 publicPath ），如果项目是根路径上，用'/'，'./'都行，如果是在'/hc'这个路径上，用'./' 相对路径（需history模式），也可以用'/hc/'。 在'/hc'路径上，如果需要本地和线上保持一致，可以用环境做判断设置不同的publicPath值。<br>2、确定静态文件放置的位置。<br>①、如果放在public/static，不经过webpack打包， 放在public 又分使用绝对路径和相对路径。<br>②、如果放在assets， 经过webpack打包， 使用的是相对路径<br>3、路径是否是动态的，如果是动态，需要用require() 引入。 </p><h3 id="25-vue动态设置img"><a href="#25-vue动态设置img" class="headerlink" title="25. vue动态设置img"></a>25. vue动态设置img</h3><p><code>&lt;img :src=&quot;require(@/assets/images/xxx.png&#39;)&quot; /&gt;  </code></p><h3 id="26-vue-中created和mounted请求数据"><a href="#26-vue-中created和mounted请求数据" class="headerlink" title="26. vue 中created和mounted请求数据"></a>26. vue 中created和mounted请求数据</h3><p>created比mounted提前，一般在created中发送请求就可以但无法操作dom，如果涉及到需要页面加载完成之后的话就用mounted。</p><h3 id="27-多个后端接口"><a href="#27-多个后端接口" class="headerlink" title="27. 多个后端接口"></a>27. 多个后端接口</h3><p>devServer中把所有的服务人员的地址代理都写进去，然后动态地更改接口的baseUrl</p><h3 id="28-render-template-el"><a href="#28-render-template-el" class="headerlink" title="28. render>template>el"></a>28. render>template>el</h3><p>****1.****当Vue选项对象中有render渲染函数时，Vue构造函数将直接使用渲染函数渲染DOM树。</p><p>****2.****当选项对象中没有render渲染函数时：Vue构造函数首先通过将template模板编译生成渲染函数，然后再渲染DOM树。</p><p>****3.*<em><strong>而当Vue选项对象中既没有render渲染函数，也没有template模板时，会</strong></em>*通过el属性获取****挂载元素的outerHTML来作为模板，并编译生成渲染函数。</p><p>换言之，在进行DOM树的渲染时，render渲染函数的优先级最高，template次之且需编译成渲染函数，而挂载点el属性对应的元素若存在，则在前两者均不存在时，其outerHTML才会用于编译与渲染。</p><h3 id="29-template编译模板"><a href="#29-template编译模板" class="headerlink" title="29. template编译模板"></a>29. template编译模板</h3><p> vue中的模板template无法被浏览器解析并渲染，因为这不属于浏览器的标准，不是正确的HTML语法，所有需要将template转化成一个JavaScript函数，这样浏览器就可以执行这一个函数并渲染出对应的HTML元素，就可以让视图跑起来了，这一个转化的过程，就成为模板编译。模板编译又分三个阶段：</p><ul><li><strong>解析阶段</strong>： 使用大量的正则表达式对template字符串进行解析，将标签、指令、属性等转化为抽象语法树AST。 </li><li><strong>优化阶段</strong>： 遍历AST，找到其中的一些静态节点并进行标记，方便在页面重渲染的时候进行diff比较时，直接跳过这一些静态节点，优化runtime的性能。 </li><li><strong>生成阶段</strong>： 将最终的AST转化为render函数字符串。</li></ul><h3 id="30-Vue首页白屏渲染"><a href="#30-Vue首页白屏渲染" class="headerlink" title="30. Vue首页白屏渲染"></a>30. Vue首页白屏渲染</h3><ul><li>路由懒加载：当用户打开首页时，会一次性加载所有的资源，造成首页加载很慢，降低用户体验。使用ES6的动态加载模块--<code>import()</code></li><li>组件懒加载：当组件复用性很高或者JS文件较大时或者用户触发时，才会加载该组件。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">dialogInfo</span> = (<span class="params"></span>) =&gt; <span class="keyword">import</span>(<span class="comment">/* webpackChunkName: &quot;dialogInfo&quot; */</span> <span class="string">&#x27;@/components/dialogInfo&#x27;</span>);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;homeView&#x27;</span>,</span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    dialogInfo</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><ul><li>骨架屏：在项目打包时将骨架屏的内容放到 html 文件的根节点中。</li><li>长列表虚拟滚动：只渲染可视区域的列表项，非可见区域的不渲染。在滚动时动态更新可视区域。<ul><li>原理：计算出列表的总高度，并在触发滚动事件时根据滚动长度实时更新预留缓冲区域高度，以此来从列表数据中截取。</li></ul></li><li>图片懒加载： 由于浏览器会自动对页面中的 img 标签的 src 属性发送请求并下载图片，可以通过 html5 自定义属性 data-xxx 先暂存 src 的值，然后在图片出现在屏幕可视区域的时候，再将 data-xxx 的值重新赋值到 img 的 src 属性 。</li><li>JS 异步加载：defer 是渲染完在执行，async 是加载完就执行。</li><li>图片转base64格式.</li><li>Web Woeker 优化长任务。</li></ul><h3 id="31-Vue为什么只有一个根元素"><a href="#31-Vue为什么只有一个根元素" class="headerlink" title="31. Vue为什么只有一个根元素"></a>31. Vue为什么只有一个根元素</h3><p>创建Vue实例时，只能有一个入口，也就是一个根节点，再通过此根节点来递归遍历所有节点。这也是diff算法所必需的。</p><h3 id="32-Vue数据发生改变页面会更新吗？如何实现异步更新的"><a href="#32-Vue数据发生改变页面会更新吗？如何实现异步更新的" class="headerlink" title="32. Vue数据发生改变页面会更新吗？如何实现异步更新的"></a>32. Vue数据发生改变页面会更新吗？如何实现异步更新的</h3><ul><li>Vue 不会检测到实例创建时不存在与data中的变量的改变。</li><li>Vue 不会检测到data 中对象属性的动态添加和删除。</li><li>无法通过数组索引或者赋值，也无法直接改变数组的长度。</li><li>异步获取接口数据，DOM 结构不发生变化。</li></ul><p>实现： Vue 在更新 DOM 时是<strong>异步</strong>执行的。只要侦听到数据变化，Vue 将开启一个队列，并缓冲在同一事件循环中发生的所有数据变更。如果同一个 watcher 被多次触发，只会被推入到队列中一次。这种在缓冲时去除重复数据对于避免不必要的计算和 DOM 操作是非常重要的。然后，在下一个的事件循环“tick”中，Vue 刷新队列并执行实际 (已去重的) 工作。 </p><h3 id="33-Vue的render函数"><a href="#33-Vue的render函数" class="headerlink" title="33. Vue的render函数"></a>33. Vue的render函数</h3><p>VNode 虚拟DOM到真实DOM的过程，实现mount方法挂载(遍历整个DOM树，构建出真实的DOM树)，接收三个参数，节点，属性，子节点，通过判断生成一个真实的DOM元素。</p><h3 id="34-MVVM，MVC的理解"><a href="#34-MVVM，MVC的理解" class="headerlink" title="34. MVVM，MVC的理解"></a>34. MVVM，MVC的理解</h3><ul><li>Model：模型。</li><li>View：视图。</li><li>ViewModel：视图模型。MVVM的核心，主要用来处理业务逻辑。<ul><li>当数据发生变化，ViewModel能够监听到数据的这种变化，然后通知到对应的视图做自动更新 </li><li>当用户操作视图，ViewModel也能监听到视图的变化，然后通知数据做改动， 实现了数据的双向绑定</li></ul></li></ul><p>MVC的C为控制层，缺点：所有的业逻辑都在控制层中处理，不利于维护，不适合小型和中型项目。</p><h1 id="React"><a href="#React" class="headerlink" title="React"></a>React</h1><h2 id="1-React中key的作用"><a href="#1-React中key的作用" class="headerlink" title="1. React中key的作用"></a>1. React中key的作用</h2><p> keys是React用于追踪那些列表重元素被修改，呗添加或者被移除的辅助标识。</p><ul><li>React利用key来识别组件，相同的key react认为是同一个组件，这样相同的key对应组件就不会被创建。</li><li>有了key属性，就可以与组件建立了一种对应关系，react根据key来决定销毁重新创建组件还是更新组件。</li><li>key相同，若组件属性有所变化，则react只更新组件对应的属性；没有变化则不更新。</li><li>key值不同，则react先销毁该组件，然后重新创建该组件，</li></ul><h2 id="2-React的设计思想"><a href="#2-React的设计思想" class="headerlink" title="2. React的设计思想"></a>2. React的设计思想</h2><ul><li>组件化。每个组件都符合开放封闭原则，封闭是针对渲染工作流来说的，指的是组件内部的状态有自身维护，只处理内部的渲染逻辑。开放是针对组件通信来说的，指的是不同组件可以通过props来进行数据交互。</li><li>数据驱动视图。如果要渲染界面，不应该直接操作DOM，而是通过修改数据的方式来驱动视图更新。</li><li>虚拟DOM。虚拟DOM是对真实DOM的印射，React通过新旧虚拟DOM对比，得到需要更新的部分。</li></ul><h2 id="3-JSX是什么，和JS的区别"><a href="#3-JSX是什么，和JS的区别" class="headerlink" title="3. JSX是什么，和JS的区别"></a>3. JSX是什么，和JS的区别</h2><p>JSX是react的语法糖，他允许在html中写JS，不能瘪浏览器直接识别，需要通过webpack babel编译工具转化为JS执行。</p><p>区别：</p><ul><li>JS可以被打包工具直接编译，不需要额外转换，jsx需要通过babel编译，他是 React.createElement 的语法糖。</li><li>jsx是js的语法扩展，允许在html中写JS；JS是原生写法，需要通过script标签引入。</li></ul><p> <strong>为什么在文件中没有使用react，也要在文件顶部import React from “react”</strong> </p><p>只要使用了jsx，就需要引用React，因为jsx本质上就是React.createElement</p><p> <strong>为什么React自定义组件首字母要大写</strong> </p><p>jsx通过babel转义时，调用了React.createElement函数，他接受三个参数，分别是 分别是type元素类型，props元素属性，children子元素。 </p><p>如果组件首字母为小写，则会被当成字符串进行传递，在创建虚拟DOM的时候，就会把它当成一个html标签。而如果是大写，就会当成一个变量进行传递，React知道他是个自定义组件。</p><h2 id="3-React组建为什么只能有一个根元素，为什么不能返回多个元素"><a href="#3-React组建为什么只能有一个根元素，为什么不能返回多个元素" class="headerlink" title="3. React组建为什么只能有一个根元素，为什么不能返回多个元素"></a>3. React组建为什么只能有一个根元素，为什么不能返回多个元素</h2><ul><li>React组件最后会被编译为render函数，函数的返回值只能是一个，如果不用单独的根节点包裹，就会并列返回多个值，这在js中是不允许的。</li><li>react的虚拟DOM是一个树状结构，树的根节点只能是一个，如果有多个根节点，则无法确认实在那棵树上进行更新。</li></ul><h2 id="4-React-Fragment"><a href="#4-React-Fragment" class="headerlink" title="4. React.Fragment"></a>4. React.Fragment</h2><p>可以将元素列表加到一个分组中，而且不会创建额外的节点。</p><h2 id="5-React的生命周期"><a href="#5-React的生命周期" class="headerlink" title="5. React的生命周期"></a>5. React的生命周期</h2><p>生名周期指的是组件实例从创建到销毁的流程，函数组件没有生命周期，只有类组件才有，因为只有class组件才会创建组件实例。</p><ul><li>挂载。 <strong>constructor</strong> 可以进行state和props的初始化 。<strong>componentDidMount</strong>第一次渲染调用，可以访问DOM，进行异步请求和定时器。</li><li>更新。 <strong>shouldComponentUpdate</strong> 返回一个布尔值，默认返回true，可以通过这个生命周期钩子进行性能优化，确认不需要更新组件时调用  <strong>componentDidUpdate</strong> 在组件完成更新后调用 </li><li>卸载。 <strong>componentWillUnmount</strong> 组件从DOM中被移除的时候调用 </li><li>错误捕获。 static getDerivedStateFromError 在<strong>errorBoundary</strong>中使用</li></ul><h2 id="6-React-事件机制"><a href="#6-React-事件机制" class="headerlink" title="6. React 事件机制"></a>6. React 事件机制</h2><p>React基于浏览器的事件机制实现了一套自身的事件机制，它符合W3C规范，包括事件触发，事件冒泡，事件捕获，事件 合成和事件派发等。</p><ul><li>React所有的事件绑定在container(document)上，而不是绑定在目标元素上，减少了内存开销。</li><li>React自身实现了一套冒泡机制，不能通过return false 阻止冒泡</li><li>React 通过SytheticEvent实现了时间合成。</li></ul><h2 id="7-React事件处理为什么要手动绑定this"><a href="#7-React事件处理为什么要手动绑定this" class="headerlink" title="7. React事件处理为什么要手动绑定this"></a>7. React事件处理为什么要手动绑定this</h2><p>React组件会被编译为React.createElement，在createElement中，他的this丢失了，并不是有组件实例调用的，因此需要手动绑定this.</p><h2 id="8-useEffect和useLayoutEffect区别"><a href="#8-useEffect和useLayoutEffect区别" class="headerlink" title="8. useEffect和useLayoutEffect区别"></a>8. useEffect和useLayoutEffect区别</h2><h2 id="9-React性能优化手段"><a href="#9-React性能优化手段" class="headerlink" title="9. React性能优化手段"></a>9. React性能优化手段</h2><ul><li>shouldComponentUpdate</li><li>memo</li><li>getDerviedStateFromProps</li><li>使用Fragment</li><li>v-for使用正确的key</li><li>拆分尽可能小的可复用组件，使用错误边界ErrorBoundary</li><li>使用React.lazy和React.Suspense延迟加载不需要立马使用的组件</li></ul><h2 id="10-Portal"><a href="#10-Portal" class="headerlink" title="10. Portal"></a>10. Portal</h2><p>Portal提供了让子组件渲染在除了父组件之外的DOM节点的方式，他接受两个参数，第一个元素是需要渲染的React元素，第二个是渲染的地方(DOM元素)</p><p><code>ReactDom.createPortal(child,container)</code></p><h2 id="11-React组件通信"><a href="#11-React组件通信" class="headerlink" title="11. React组件通信"></a>11. React组件通信</h2><h3 id="11-1-props"><a href="#11-1-props" class="headerlink" title="11.1 props"></a>11.1 props</h3><p>概述：父组件传递给子组件的数据，子组件不能修改该数据，在 <code>class </code>组件中通过 <code>this.props </code>的方式获取。</p><p>使用：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 子组件</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Welcome</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;welcome&#x27;</span>&gt;</span>&#123;this.props.msg&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 父组件</span></span><br><span class="line">    &lt;<span class="title class_">Welcome</span> msg=<span class="string">&quot;Hi Props&quot;</span> /&gt;</span><br></pre></td></tr></table></figure><p>peops约束：因为从 React 15.x 开始移除了 props 约束，所以需要安装第三方模块实现</p><p><code>nom i --save prop-types</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">PropTypes</span> <span class="keyword">from</span> <span class="string">&#x27;prop-types&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Welcome</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> (</span><br><span class="line">            <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;welcome&#x27;</span>&gt;</span>&#123;this.props.msg&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Welcome</span>.<span class="property">propTypes</span> = &#123;</span><br><span class="line">    <span class="attr">msg</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span></span><br><span class="line">    <span class="attr">msg</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="11-2-子传父"><a href="#11-2-子传父" class="headerlink" title="11.2 子传父"></a>11.2 子传父</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父组件 </span></span><br><span class="line">callback = <span class="function">(<span class="params">id</span>) =&gt;</span> &#123;&#125;</span><br><span class="line">    &lt;<span class="title class_">Button</span> callback=&#123;callback&#125;&gt;</span><br><span class="line">    &lt;/<span class="title class_">Button</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 子组件 </span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">props</span>.<span class="title function_">callback</span>(<span class="string">&#x27;传递给父组件数据&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="11-3-Context"><a href="#11-3-Context" class="headerlink" title="11.3 Context"></a>11.3 Context</h3><p>Context提供了一种跨层级组建数据传递的方法，他解决了组件嵌套造成数据来源不清晰，多余的变量定义等问题。</p><p>使用：</p><ol><li>新建 <code>context</code>文件</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MyContext</span> = <span class="title class_">React</span>.<span class="title function_">createContext</span>([]) <span class="comment">// 创建一个</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">MyContext</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li>新建<code>Provider</code> 组件</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">MyContext</span> <span class="keyword">from</span> <span class="string">&#x27;./MyContext&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Provider</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    <span class="attr">msg</span>: <span class="string">&#x27;hello&#x27;</span>,</span><br><span class="line">    <span class="attr">list</span>: [],</span><br><span class="line">  &#125;</span><br><span class="line">  changeMsg = <span class="function">(<span class="params">msg</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      msg,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  addList = <span class="function">(<span class="params">todo</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">list</span>: [...<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">list</span>, todo],</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> value = &#123;</span><br><span class="line">      <span class="attr">msg</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">msg</span>,</span><br><span class="line">      <span class="attr">list</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">list</span>,</span><br><span class="line">      <span class="attr">changeMsg</span>: <span class="variable language_">this</span>.<span class="property">changeMsg</span>,</span><br><span class="line">      <span class="attr">addList</span>: <span class="variable language_">this</span>.<span class="property">addList</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">MyContext.Provider</span> <span class="attr">value</span>=<span class="string">&#123;value&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;this.props.children&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">MyContext.Provider</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="3"><li>class 组件使用 value</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">MyContext</span>.<span class="property">Consumer</span>&gt;</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;value.msg&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/<span class="title class_">MyContext</span>.<span class="property">Consumer</span>&gt;</span><br></pre></td></tr></table></figure><ol start="4"><li>函数组件使用</li></ol><p>概述： 允许在函数组件中使用 context 对象，在 context 值发生改变时重新渲染。</p><p>问题：context 的值发生改变，无论子组件是否引用 value， 都会导致 子组件重新渲染。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useContext&#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="keyword">const</span> context = <span class="title function_">useContext</span>(<span class="title class_">MyContext</span>); <span class="comment">// 需要接受context作为参数</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">return</span> (</span><br><span class="line">       <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;context.msg&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">     )</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="11-4-UseReducer"><a href="#11-4-UseReducer" class="headerlink" title="11.4 UseReducer"></a>11.4 UseReducer</h3><p>概述： useReducer 是 useState 的替代方案，能够解决 useState 状态更新逻辑散落在 UI 中，不能独立复用，不方便测试。</p><p>使用：</p><ol><li>新建<code>FnProvider</code>组件</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; useState, useReducer &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">MyContext</span> <span class="keyword">from</span> <span class="string">&#x27;./MyContext&#x27;</span></span><br><span class="line"><span class="keyword">import</span> todoReducer <span class="keyword">from</span> <span class="string">&#x27;./todoReducer&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">FnProvider</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> [msg, changeMsg] = <span class="title function_">useState</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  <span class="comment">//   const [todoList, setTodoList] = useState([])</span></span><br><span class="line">  <span class="keyword">const</span> [todoList, dispatch] = <span class="title function_">useReducer</span>(todoReducer, [])</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>FnProvider<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">MyContext.Provider</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">value</span>=<span class="string">&#123;&#123;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">msg</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">changeMsg</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">todoList</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">dispatch</span>,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        &#125;&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      &gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;props.children&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">MyContext.Provider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li>新建<code>reducer.js</code>文件</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">todoReducer</span>(<span class="params">state, action</span>) &#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.<span class="property">type</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;ADD&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> [...state, action.<span class="property">todo</span>]</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;DEL&#x27;</span>:</span><br><span class="line">      <span class="keyword">return</span> state.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">id</span> !== action.<span class="property">id</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;EDIT&#x27;</span>:</span><br><span class="line">      <span class="keyword">const</span> index = state.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">id</span> === action.<span class="property">payload</span>.<span class="property">id</span>) <span class="comment">// 返回下标</span></span><br><span class="line">      <span class="keyword">const</span> newTodoList = [...state]</span><br><span class="line">      newTodoList.<span class="title function_">splice</span>(index, <span class="number">1</span>, action.<span class="property">payload</span>.<span class="property">todo</span>)</span><br><span class="line">      <span class="keyword">return</span> newTodoList</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      <span class="keyword">return</span> state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="3"><li>调用</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">FnProvider</span> <span class="keyword">from</span> <span class="string">&#x27;./store/FnProvider&#x27;</span></span><br><span class="line"></span><br><span class="line">&lt;<span class="title class_">FnProvider</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">HashRouter</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">App</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">HashRouter</span>&gt;</span></span></span><br><span class="line">  &lt;/<span class="title class_">FnProvider</span>&gt;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; useContext, useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> context = <span class="title function_">useContext</span>(<span class="title class_">MyContext</span>)</span><br><span class="line"></span><br><span class="line">onClick=&#123;<span class="function">() =&gt;</span></span><br><span class="line">          context.<span class="title function_">dispatch</span>(&#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;DEL&#x27;</span>,</span><br><span class="line">            <span class="attr">id</span>: item.<span class="property">id</span>,</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h3 id="11-5-Redux"><a href="#11-5-Redux" class="headerlink" title="11.5 Redux"></a>11.5 Redux</h3><p>Redux是一个状态管理库，应用于跨层级组建数据共享与通信，一些需要持久化的全局数据，比如用户登录信息。</p><p>新项目：</p><p><code>npx create-react-app 项目名 --template redux</code></p><p><code>npx create-react-app 项目名 --template redux-typescript</code></p><p>老项目：</p><p><code>npm i redux react-redux</code></p><h5 id="11-5-1-项目引入"><a href="#11-5-1-项目引入" class="headerlink" title="11.5.1 项目引入"></a>11.5.1 项目引入</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/index.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom/client&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Provider</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store/index&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>));</span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Provider</span> <span class="attr">store</span>=<span class="string">&#123;store&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">App</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span></span></span><br><span class="line">);</span><br><span class="line"><span class="title function_">reportWebVitals</span>();</span><br></pre></td></tr></table></figure><h5 id="11-5-2-store-创建"><a href="#11-5-2-store-创建" class="headerlink" title="11.5.2 store 创建"></a>11.5.2 store 创建</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore, combineReducers &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> reducer <span class="keyword">from</span> <span class="string">&#x27;./reducer/reducer&#x27;</span></span><br><span class="line"><span class="keyword">import</span> todoReduce <span class="keyword">from</span> <span class="string">&#x27;./reducer/todoReducer&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mainReducer = <span class="title function_">combineReducers</span>(&#123;</span><br><span class="line">  <span class="attr">reducer</span>: reducer,</span><br><span class="line">  <span class="attr">todo</span>: todoReduce,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(mainReducer)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 检测 state 的变化</span></span><br><span class="line">store.<span class="title function_">subscribe</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;数据发生改变&#x27;</span>, store.<span class="title function_">getState</span>())</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="11-5-3-reducer"><a href="#11-5-3-reducer" class="headerlink" title="11.5.3 reducer"></a>11.5.3 reducer</h5><p>概述：是一个纯函数，会根据不同的 action 对象返回一个新的 state</p><p>纯函数：</p><ul><li>不修改传入的参数</li><li>不执行有副作用的操作，比如API，计时器等等</li><li>不调用非纯函数，如<code>new Date()</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initData = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>(),</span><br><span class="line">    <span class="attr">flag</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">text</span>: <span class="string">&#x27;练习篮球一年半&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> addActionType = <span class="string">&#x27;ADD&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">addTodo</span> = (<span class="params">payload</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">type</span>: addActionType,</span><br><span class="line">    payload,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> editActionType = <span class="string">&#x27;EDIT&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">editTodo</span> = (<span class="params">payload</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">type</span>: editActionType,</span><br><span class="line">    payload,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">DelType</span> = <span class="string">&#x27;DEL&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">actionDel</span> = (<span class="params">payload</span>) =&gt; (&#123;</span><br><span class="line">  <span class="attr">type</span>: <span class="title class_">DelType</span>,</span><br><span class="line">  payload,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">todoReduce</span>(<span class="params">state = initData, action</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; type, payload &#125; = action</span><br><span class="line">  <span class="keyword">switch</span> (type) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="attr">addActionType</span>:</span><br><span class="line">      <span class="keyword">return</span> [...state, payload]</span><br><span class="line">    <span class="keyword">case</span> <span class="title class_">DelType</span>:</span><br><span class="line">      <span class="keyword">return</span> state.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">id</span> !== payload.<span class="property">id</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="attr">editActionType</span>:</span><br><span class="line">      <span class="keyword">const</span> index = state.<span class="title function_">findIndex</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> item.<span class="property">id</span> === payload.<span class="property">id</span>) <span class="comment">// 返回下标</span></span><br><span class="line">      <span class="keyword">const</span> newTodoList = [...state]</span><br><span class="line">      newTodoList.<span class="title function_">splice</span>(index, <span class="number">1</span>, payload)</span><br><span class="line">      <span class="keyword">return</span> newTodoList</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      <span class="keyword">return</span> state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="11-5-4-combineReducers"><a href="#11-5-4-combineReducers" class="headerlink" title="11.5.4 combineReducers"></a>11.5.4 combineReducers</h5><p>概述：用于将多个 reducer 合并为一个 reducer。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;combineReducers&#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mainReducer = <span class="title function_">combineReducers</span>(&#123;</span><br><span class="line">    home,</span><br><span class="line">    user,</span><br><span class="line">    todo</span><br><span class="line">&#125;)</span><br><span class="line">store = <span class="title function_">createStore</span>(mainReducer)</span><br></pre></td></tr></table></figure><h5 id="11-5-5-useSelector"><a href="#11-5-5-useSelector" class="headerlink" title="11.5.5 useSelector"></a>11.5.5 useSelector</h5><p>概述：用于组件中获取 state 的hook</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useSelector&#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"> const App =() =&gt; &#123;</span></span><br><span class="line"><span class="string">    const todoList = useSelector((state) =&gt; state.todo)</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure><h5 id="11-5-6-useDispatch"><a href="#11-5-6-useDispatch" class="headerlink" title="11.5.6 useDispatch"></a>11.5.6 useDispatch</h5><p>概述：返回 dispatch 函数的引用</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useDispatch&#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">const App =() =&gt; &#123;</span></span><br><span class="line"><span class="string">    const dispatch = useDispatch()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    const onSubmitTodo = () =&gt; &#123;</span></span><br><span class="line"><span class="string">    dispatch(</span></span><br><span class="line"><span class="string">      addTodo(&#123;</span></span><br><span class="line"><span class="string">        text,</span></span><br><span class="line"><span class="string">        id: Date.now(),</span></span><br><span class="line"><span class="string">        flag: false,</span></span><br><span class="line"><span class="string">      &#125;)</span></span><br><span class="line"><span class="string">    )</span></span><br><span class="line"><span class="string">    setText(&#x27;</span><span class="string">&#x27;)</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><h5 id="11-5-7-redux-thunk"><a href="#11-5-7-redux-thunk" class="headerlink" title="11.5.7 redux-thunk"></a>11.5.7 redux-thunk</h5><p>概述： 因为在 reducer 中只能同步操作，那么要想异步处理 redux 就只能在组件中先进行异步操作，然后成功后再 dispatch。但是会让redux 的逻辑散落在UI中，不易于后期管理。</p><p>接用该插件可以实现 dispatch 一个函数，然后在这个函数中处理异步。</p><p><code>index.js</code> 文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createStore, applyMiddleware, compose &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> thunkMiddleware <span class="keyword">from</span> <span class="string">&#x27;redux-thunk&#x27;</span></span><br><span class="line"><span class="keyword">import</span> logger <span class="keyword">from</span> <span class="string">&#x27;redux-logger&#x27;</span></span><br><span class="line"><span class="keyword">import</span> mainReducer <span class="keyword">from</span> <span class="string">&#x27;./reducer&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> middleWares = [</span><br><span class="line">  <span class="comment">// 三方模块通过该中间件注册</span></span><br><span class="line">  thunkMiddleware,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;development&#x27;</span>) &#123;</span><br><span class="line">  middleWares.<span class="title function_">push</span>(logger)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Redux DevTools 配置</span></span><br><span class="line"><span class="keyword">const</span> composeEnhancers = <span class="variable language_">window</span>.<span class="property">__REDUX_DEVTOOLS_EXTENSION_COMPOSE__</span> || compose</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建 store</span></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(</span><br><span class="line">  mainReducer,</span><br><span class="line">  <span class="title function_">composeEnhancers</span>(<span class="title function_">applyMiddleware</span>(...middleWares))</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 检测redux 的状态变化</span></span><br><span class="line">store.<span class="title function_">subscribe</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;数据发生改变&#x27;</span>, store.<span class="title function_">getState</span>())</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>userAction.js</code>文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="variable constant_">LOGIN</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;../actionTypes/userActionType&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; loginApi &#125; <span class="keyword">from</span> <span class="string">&#x27;../../http/Api/user&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 同步 类似于 Vuex-mutation</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">loginAction</span> = (<span class="params">payload</span>) =&gt; (&#123;</span><br><span class="line">  <span class="attr">type</span>: <span class="variable constant_">LOGIN</span>,</span><br><span class="line">  payload,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">loginActionAsync</span> = (<span class="params">payload</span>) =&gt; <span class="function">(<span class="params">dispatch</span>) =&gt;</span></span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">loginApi</span>(payload).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (res.<span class="property">data</span>.<span class="property">code</span> == <span class="string">&#x27;200&#x27;</span>) &#123;</span><br><span class="line">        <span class="title function_">dispatch</span>(<span class="title function_">loginAction</span>(res.<span class="property">data</span>.<span class="property">data</span>))</span><br><span class="line">        <span class="title function_">resolve</span>()</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;登陆失败&#x27;</span>)</span><br><span class="line">        <span class="title function_">reject</span>()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>userReducer.js</code>文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="variable constant_">LOGIN</span>, <span class="variable constant_">LOGOUT</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;../actionTypes/userActionType&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">INIT_STATE</span> = &#123;</span><br><span class="line">  <span class="attr">userId</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">username</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">authList</span>: [],</span><br><span class="line">  <span class="attr">token</span>: <span class="literal">null</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">userReducer</span>(<span class="params">state = INIT_STATE, action</span>) &#123;</span><br><span class="line">  <span class="keyword">switch</span> (action.<span class="property">type</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="attr">LOGIN</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        ...state,</span><br><span class="line">        ...action.<span class="property">payload</span>,</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">case</span> <span class="attr">LOGOUT</span>:</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">userId</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">username</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">authList</span>: [],</span><br><span class="line">        <span class="attr">token</span>: <span class="literal">null</span>,</span><br><span class="line">      &#125;                      </span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      <span class="keyword">return</span> state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>reducer/index.js</code>文件</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; combineReducers &#125; <span class="keyword">from</span> <span class="string">&#x27;redux&#x27;</span></span><br><span class="line"><span class="keyword">import</span> userReducer <span class="keyword">from</span> <span class="string">&#x27;./userReducer&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">combineReducers</span>(&#123;</span><br><span class="line">  <span class="attr">user</span>: userReducer,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>使用：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; loginAction, loginActionAsync &#125; <span class="keyword">from</span> <span class="string">&#x27;../../store/actions/userAction&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; useDispatch &#125; <span class="keyword">from</span> <span class="string">&#x27;react-redux&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Login</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> navigate = <span class="title function_">useNavigate</span>()</span><br><span class="line">  <span class="keyword">const</span> dispatch = <span class="title function_">useDispatch</span>()</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">onFinish</span> = <span class="keyword">async</span> (<span class="params">value</span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value)</span><br><span class="line">    <span class="title function_">dispatch</span>(<span class="title function_">loginActionAsync</span>(value)).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">navigate</span>(<span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> ()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="12-React-和-Vue的区别"><a href="#12-React-和-Vue的区别" class="headerlink" title="12. React 和 Vue的区别"></a>12. React 和 Vue的区别</h2><p>相同点：</p><ul><li>数据驱动视图</li><li>组件化思想</li><li>都是用虚拟Dom</li></ul><p>不同点：</p><ul><li>核心思想不通：<ul><li>Vue为渐进式框架，门槛较低，进行数据劫持或者代理</li><li>React函数式编程，数据不可变以及单向数据流</li></ul></li><li>组件写法差异：<ul><li>Vue单文件组建格式，即html,css,js写在同一个文件</li><li>React为html和css都写进js中</li></ul></li><li>diff算法不同：<ul><li>react 首先对新集合进行遍历，通过唯一key值来判断新旧集合中是否存在相同的节点，如果没有的话就创建，如果有的话就会将节点在新集合中的位置和老集合中的位置进行比较，如果不同，则进行移动操作，否则就不操作。如果在遍历的过程中，发现在新集合中没有，就会进行删除操作。</li><li>Vue新旧集合各有头尾的变量，他们的2各变量相互比较，一共有四种比较方式，如果四种都没匹配，则会匹配key值，借助key值找到可复用的节点，在进行相关操作。</li></ul></li><li>响应式原理不同：</li><li><ul><li>Vue依赖收集，自动依赖，数据可变。递归监听data中的所有属性，直接修改，当数据改变时，自动找到引用组件重新渲染。</li><li>React基于状态手动优化，数据不可变，需要setState驱动新的state替换老的state。当数据改变时，以组件为根目录，默认全部重新渲染，所以React中会需要shouldComponentUpdate这个生命周期函数来进行控制。</li></ul></li></ul><h2 id="13-SetState是同步还是异步的"><a href="#13-SetState是同步还是异步的" class="headerlink" title="13. SetState是同步还是异步的"></a>13. SetState是同步还是异步的</h2><p><code>setState </code>是一个异步方法，但是在<code>setTimeout</code>/<code>setInterval</code>等定时器里逃脱了<code>React</code>对他的掌控，变成了同步方法。</p><p>实现机制：类似于<code>Vue</code>的<code>$nextTick</code>和浏览器的时间循环机制，每个<code>setState</code>都会被<code>React</code>加入到任务队列当中，多次对同一个state使用setState只会返回最后一次的结果，因为他不是立刻就更新，而是先放在任务队列中，等时机成熟在执行批量更新。而在<code>React</code>18以后，使用了createRoot api后，所有setState都是异步批量执行。</p><h2 id="14-React渲染流程"><a href="#14-React渲染流程" class="headerlink" title="14. React渲染流程"></a>14. React渲染流程</h2><p>React用JSX描述页面，JSX经过babel编译为render function，执行后产生VDOM，VDOM并不会直接渲染，而是会先转换为fiber，在进行渲染。VDOM转换为fiber的过程叫reconcile，转换过程会创建DOM，全部转换完成后会一次性commit到DOM，这个过程不是一次性的，而是可打断的。</p><h2 id="15-React常用hooks"><a href="#15-React常用hooks" class="headerlink" title="15. React常用hooks"></a>15. React常用hooks</h2><h1 id="Webpack"><a href="#Webpack" class="headerlink" title="Webpack"></a>Webpack</h1><h1 id="项目总结"><a href="#项目总结" class="headerlink" title="项目总结"></a>项目总结</h1><h3 id="登陆"><a href="#登陆" class="headerlink" title="登陆"></a>登陆</h3><ol><li><p>创建登录组件</p><ul><li><p>在component文件夹中创建一个登录组件Login.vue</p></li><li><p>在路由文件中导入登录组件,并添加路由规则</p></li><li><pre><code class="js">import Login from &#39;../components/Login.vue&#39; const routes = [ //重定向路由（当用户访问/时，会自动定向到登录路由）&#123; path: &#39;/&#39;, redirect: &#39;/login&#39; &#125;, //登录组件路由 &#123; path: &#39;/login&#39;, component: Login &#125; ]<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2. 登录页面基本布局</span><br><span class="line"></span><br><span class="line">   - 因为在安装Element插件时配置的是按需导入，因此需要在plugins文件夹中的element.js文件中导入需要用到的组件，并注册为全局可用</span><br><span class="line"></span><br><span class="line">3. 登录表单数据绑定</span><br><span class="line"></span><br><span class="line">   - 根据在Element官网我们所选择的表单组件中绑定数据的方式去绑定我们需要的数据 给密码框添加`type=&#x27;password&#x27;`属性，将密码隐藏</span><br><span class="line"></span><br><span class="line">4. 登录表单数据验证</span><br><span class="line"></span><br><span class="line">   - 根据在Element官网中Form 组件提供了表单验证的功能，只需给表单绑定 rules 属性，并传入约定的验证规则，并将 Form-Item 的 prop 属性设置为需校验的字段名即</span><br><span class="line"></span><br><span class="line">5. 点击重置按钮实现表单重置</span><br><span class="line"></span><br><span class="line">   - 首先通过`ref`给表单添加一个引用对象，之后只要获取到这个引用对象（可以任意命名，只要合法），就可以获取到这个表单的实例对象</span><br><span class="line">   - 给重置按钮添加单机事件，并命名事件处理函数</span><br><span class="line">   - 使用Element官网在Form表单组件中提供的`resetFields`方法（对整个表单进行重置，将所有字段值重置为初始值并移除校验结果）表单实例方法就可以重置表单</span><br><span class="line"></span><br><span class="line">6. 点击登录，对表单数据进行预验证（在发送请求之前）</span><br><span class="line"></span><br><span class="line">   - Form表单组件中提供的`validate`（对整个表单进行校验的方法，参数为一个回调函数。该回调函数会在校验结束后被调用，并传入两个参数：是否校验成功和未通过校验的字段。若不传入回调函数，则会返回一个 promise）表单实例方法就可以对表单进行预验证</span><br><span class="line"></span><br><span class="line">7. 发送登录请求（通过预验证后）</span><br><span class="line"></span><br><span class="line">   - 在入口文件导入`axios`，将其挂载到Vue的原型对象上，并配置请求根路径</span><br><span class="line">   - 在登录事件处理函数中发送请求（异步），使用async/await关键字处理异步代码，返回值是一个对象，其中只有data属性中包含的是有用的服务器返回数据，所以将其解构赋值到一个变量</span><br><span class="line"></span><br><span class="line">8. 告诉用户登录结果</span><br><span class="line"></span><br><span class="line">   - Message 消息提示的组件，在element.js文件中导入需要用到的组件，该组件需要进行全局挂载，而不是全局注册</span><br><span class="line">   - 根据接收到的登录请求返回的状态码来提示用户是否登录成功</span><br><span class="line"></span><br><span class="line">9. 登录成功之后的行为</span><br><span class="line"></span><br><span class="line">   - 将登录成功后，服务器返回的token保存到客户端的sessionStorge中，保持登录状态（sessionStorge和localStorge保存期限不同，sessionStorge在窗口关闭后会删除保存的数据，localStorge没有保存期限）；所有API接口除了登录接口外，都需要登录之后才能访问</span><br><span class="line">   - 通过编程式导航跳转到后台主页，路由地址是/home</span><br><span class="line"></span><br><span class="line">10. 路由导航守卫</span><br><span class="line"></span><br><span class="line">    - 在路由文件中添加导航守卫：如果用户没有登录，用户可以通过直接输入URL地址访问页面，这是不合理的，因此需要重新导航到登录页面</span><br><span class="line"></span><br><span class="line">    - ```js</span><br><span class="line">      // 挂载路由导航守卫</span><br><span class="line">      router.beforeEach((to, from, next) =&gt; &#123;</span><br><span class="line">        // to 代表将要访问的路径</span><br><span class="line">        // from 代表从那个路径跳转而来</span><br><span class="line">        // next 是一个函数，表示是否放行</span><br><span class="line">        // next()  放行   next(&#x27;/login&#x27;)  强制跳转</span><br><span class="line">        if (to.path === &#x27;/login&#x27;) return next()</span><br><span class="line">        // 获取 token </span><br><span class="line">        const tokenStr = window.sessionStorage.getItem(&#x27;token&#x27;)</span><br><span class="line">        if (!tokenStr) return next(&#x27;/login&#x27;)</span><br><span class="line">        next()</span><br><span class="line">      &#125;)</span><br></pre></td></tr></table></figure></code></pre></li></ul></li><li><p>实现退出功能</p><ul><li><p>在Home组件中暂时添加一个退出按钮</p></li><li><p>给按钮绑定单机事件，并命名事件处理函数</p></li><li><p>定义事件处理函数，基于token实现退出功能只需销毁本地token即可</p></li><li><pre><code class="js">logout() &#123;      window.sessionStorage.clear();      this.$router.push(&quot;/login&quot;);    &#125;,</code></pre></li></ul></li></ol><h3 id="1-登录验证"><a href="#1-登录验证" class="headerlink" title="1. 登录验证"></a>1. 登录验证</h3><h3 id="2-项目的优化"><a href="#2-项目的优化" class="headerlink" title="2. 项目的优化"></a>2. 项目的优化</h3><ul><li>在可视化的UI面板中查看控制台和分析面板，看到项目中所存在的问题，资源文件和依赖项文件等文件大小是否需要优化</li><li>Element-UI组件按需加载</li><li>第三方库启用CDN,可以通过 webpack 的 externals 节点，来配置并加载外部的 CDN 资源。</li><li>路由懒加载，将路由相关的组件，不再直接导入了，而是改写成异步组件的写法，只有当函数被调用的时候，才去加载对应的组件内容。路由懒加载就是只加载你当前点击的那个模块</li><li>开启 gzip 配置，减小文件体积，使传输速度更快。<ul><li>安装相应包<code>npm install compression -S</code></li><li>导入包<code>const compression = require(&#39;compression&#39;);</code></li><li>启用中间件<code>app.use(compression());</code></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> 面试题 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面试题 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
