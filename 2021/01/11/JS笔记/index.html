<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>JS笔记 | 野菜收留所</title><meta name="author" content="菜"><meta name="copyright" content="菜"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="JS基础一、初识js1. 书写位置 内嵌式的js 外部引入 行内样式  1234567891011121314&lt;head&gt;    &lt;style&gt;&lt;&#x2F;style&gt;    &lt;!-- 2.内嵌式的js --&gt;    &lt;script&gt;        &#x2F;&#x2F; alert(&amp;#x27;沙漠骆驼&amp;#x27;);    &lt;&#x2F;script&gt;">
<meta property="og:type" content="article">
<meta property="og:title" content="JS笔记">
<meta property="og:url" content="https://793335974.github.io/79333/2021/01/11/JS%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="野菜收留所">
<meta property="og:description" content="JS基础一、初识js1. 书写位置 内嵌式的js 外部引入 行内样式  1234567891011121314&lt;head&gt;    &lt;style&gt;&lt;&#x2F;style&gt;    &lt;!-- 2.内嵌式的js --&gt;    &lt;script&gt;        &#x2F;&#x2F; alert(&amp;#x27;沙漠骆驼&amp;#x27;);    &lt;&#x2F;script&gt;">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img2.imgtp.com/2024/04/15/RbohSoQn.jpeg">
<meta property="article:published_time" content="2021-01-11T07:00:00.000Z">
<meta property="article:modified_time" content="2024-05-24T04:19:23.873Z">
<meta property="article:author" content="菜">
<meta property="article:tag" content="编程">
<meta property="article:tag" content="js">
<meta property="article:tag" content="笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img2.imgtp.com/2024/04/15/RbohSoQn.jpeg"><link rel="shortcut icon" href="/79333/img/favicon.png"><link rel="canonical" href="https://793335974.github.io/79333/2021/01/11/JS%E7%AC%94%E8%AE%B0/index.html"><link rel="preconnect"/><meta/><link rel="stylesheet" href="/79333/css/index.css"><link rel="stylesheet" href="/79333/pluginsSrc/@fortawesome/fontawesome-free/css/all.min.css?v=6.5.1"><link rel="stylesheet" href="/79333/pluginsSrc/@fancyapps/ui/dist/fancybox/fancybox.css?v=5.0.33" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/79333/',
  algolia: undefined,
  localSearch: {"path":"/79333/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: '/79333/pluginsSrc/@egjs/infinitegrid/dist/infinitegrid.min.js?v=4.11.1',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JS笔记',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-05-24 12:19:23'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/79333/css/video.css"><script src="/79333/js/video.js"></script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/79333/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/79333/archives/"><div class="headline">文章</div><div class="length-num">21</div></a><a href="/79333/tags/"><div class="headline">标签</div><div class="length-num">26</div></a><a href="/79333/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/79333/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/79333/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/79333/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/79333/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/79333/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/79333/movies/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li><li><a class="site-page child" href="/79333/images/"><i class="fa-fw fas fa-images"></i><span> 图片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/79333/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/79333/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://img2.imgtp.com/2024/04/15/RbohSoQn.jpeg')"><nav id="nav"><span id="blog-info"><a href="/79333/" title="野菜收留所"><span class="site-name">野菜收留所</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/79333/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/79333/archives/"><i class="fa-fw fas fa-archive"></i><span> 文章</span></a></div><div class="menus_item"><a class="site-page" href="/79333/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/79333/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/79333/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/79333/movies/"><i class="fa-fw fas fa-video"></i><span> 视频</span></a></li><li><a class="site-page child" href="/79333/images/"><i class="fa-fw fas fa-images"></i><span> 图片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/79333/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/79333/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JS笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-01-11T07:00:00.000Z" title="发表于 2021-01-11 15:00:00">2021-01-11</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-05-24T04:19:23.873Z" title="更新于 2024-05-24 12:19:23">2024-05-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/79333/categories/js/">js</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">14.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>61分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="JS基础"><a href="#JS基础" class="headerlink" title="JS基础"></a>JS基础</h1><h2 id="一、初识js"><a href="#一、初识js" class="headerlink" title="一、初识js"></a>一、初识js</h2><h3 id="1-书写位置"><a href="#1-书写位置" class="headerlink" title="1. 书写位置"></a>1. 书写位置</h3><ul>
<li>内嵌式的js</li>
<li>外部引入</li>
<li>行内样式</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line">    &lt;!-- <span class="number">2.</span>内嵌式的js --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// alert(&#x27;沙漠骆驼&#x27;);</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    &lt;!-- <span class="number">3.</span> 外部js script 双标签 --&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;my.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 1. 行内式的js 直接写到元素的内部 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- &lt;input type=&quot;button&quot; value=&quot;唐伯虎&quot; onclick=&quot;alert(&#x27;秋香姐&#x27;)&quot;&gt; --&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="2-注释"><a href="#2-注释" class="headerlink" title="2. 注释"></a>2. 注释</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        <span class="comment">// 1. 单行注释  ctrl + /</span></span><br><span class="line">        <span class="comment">/* 2. 多行注释  默认的快捷键 shift +  alt  + a</span></span><br><span class="line"><span class="comment">           2. 多行注释  vscode 中修改多行注释的快捷键：  ctrl + shift + /</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="3-输入输出语句"><a href="#3-输入输出语句" class="headerlink" title="3. 输入输出语句"></a>3. 输入输出语句</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        // 这是一个输入框</span><br><span class="line">        prompt(&#x27;请输入您的年龄&#x27;);</span><br><span class="line">        // alert 弹出警示框 输出的 展示给用户的</span><br><span class="line">        alert(&#x27;计算的结果是&#x27;);</span><br><span class="line">        // console 控制台输出 给程序员测试用的  </span><br><span class="line">        console.log(&#x27;我是程序员能看到的&#x27;);</span><br><span class="line">        // 在页面中显示</span><br><span class="line">         document.write(&quot;hello,word&quot;)</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="二、变量"><a href="#二、变量" class="headerlink" title="二、变量"></a>二、变量</h2><h3 id="1-数据类型"><a href="#1-数据类型" class="headerlink" title="1. 数据类型"></a>1. 数据类型</h3><h4 id="1-1-简单数据类型"><a href="#1-1-简单数据类型" class="headerlink" title="1.1 简单数据类型"></a>1.1 简单数据类型</h4><ul>
<li>Number, Null, Boolean, String, Undefined,Symbol ，Bigint</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">10</span></span><br><span class="line">    <span class="keyword">var</span> str = <span class="string">&#x27;10&#x27;</span></span><br><span class="line">    <span class="keyword">var</span> bool = <span class="literal">false</span></span><br><span class="line">    <span class="keyword">var</span> und = <span class="literal">undefined</span></span><br><span class="line">    <span class="keyword">var</span> nul = <span class="literal">null</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h4 id="1-2-复杂数据类型"><a href="#1-2-复杂数据类型" class="headerlink" title="1.2 复杂数据类型"></a>1.2 复杂数据类型</h4><ul>
<li>Object,Array,Funtion</li>
</ul>
<h3 id="2-数据类型的转换"><a href="#2-数据类型的转换" class="headerlink" title="2. 数据类型的转换"></a>2. 数据类型的转换</h3><h4 id="2-1-转字符串"><a href="#2-1-转字符串" class="headerlink" title="2.1 转字符串"></a>2.1 转字符串</h4> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 把数字型转换为字符串型 变量.toString()</span></span><br><span class="line">        <span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">var</span> str = num.<span class="title function_">toString</span>();</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(str);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> str);</span><br><span class="line">        <span class="comment">// 2. 我们利用 String(变量)   </span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">String</span>(num));</span><br><span class="line">        <span class="comment">// 3. 利用 + 拼接字符串的方法实现转换效果 隐式转换</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(num + <span class="string">&#x27;&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="2-2-转数字型"><a href="#2-2-转数字型" class="headerlink" title="2.2 转数字型"></a>2.2 转数字型</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// 1. parseInt(变量)  可以把 字符型的转换为数字型 得到是整数</span><br><span class="line">        // console.log(parseInt(age));</span><br><span class="line">        console.log(parseInt(&#x27;3.14&#x27;)); // 3 取整</span><br><span class="line">        console.log(parseInt(&#x27;3.94&#x27;)); // 3 取整</span><br><span class="line">        console.log(parseInt(&#x27;120px&#x27;)); // 120 会去到这个px单位</span><br><span class="line">        console.log(parseInt(&#x27;rem120px&#x27;)); // NaN</span><br><span class="line">        // 2. parseFloat(变量) 可以把 字符型的转换为数字型 得到是小数 浮点数</span><br><span class="line">        console.log(parseFloat(&#x27;3.14&#x27;)); // 3.14</span><br><span class="line">        console.log(parseFloat(&#x27;120px&#x27;)); // 120 会去掉这个px单位</span><br><span class="line">        console.log(parseFloat(&#x27;rem120px&#x27;)); // NaN</span><br><span class="line">        // 3. 利用 Number(变量) </span><br><span class="line">        var str = &#x27;123&#x27;;</span><br><span class="line">        console.log(Number(str));</span><br><span class="line">        console.log(Number(&#x27;12&#x27;));</span><br><span class="line">        // 4. 利用了算数运算 -  *  /  隐式转换</span><br><span class="line">        console.log(&#x27;12&#x27; - 0); // 12</span><br><span class="line">        console.log(&#x27;123&#x27; - &#x27;120&#x27;);</span><br><span class="line">        console.log(&#x27;123&#x27; * 1);</span><br></pre></td></tr></table></figure>



<h4 id="2-3-转布尔型"><a href="#2-3-转布尔型" class="headerlink" title="2.3 转布尔型"></a>2.3 转布尔型</h4><ul>
<li><p>Boolean()</p>
</li>
<li><p>代表空或者否定的值会转化为false，如：’ ‘，0，NaN，null，undefined</p>
</li>
</ul>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="string">&#x27;&#x27;</span>)); <span class="comment">// false</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="number">0</span>)); <span class="comment">// false</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="title class_">NaN</span>)); <span class="comment">// false</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="literal">null</span>)); <span class="comment">// false</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="literal">undefined</span>)); <span class="comment">// false</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;------------------------------&#x27;</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="string">&#x27;123&#x27;</span>));</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="string">&#x27;你好吗&#x27;</span>));</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Boolean</span>(<span class="string">&#x27;我很好&#x27;</span>));</span><br></pre></td></tr></table></figure>

<h3 id="3-获取数据类型"><a href="#3-获取数据类型" class="headerlink" title="3. 获取数据类型"></a>3. 获取数据类型</h3><p>typeof()</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> num); <span class="comment">// number</span></span><br><span class="line">      <span class="keyword">var</span> str = <span class="string">&#x27;pink&#x27;</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> str); <span class="comment">// string</span></span><br><span class="line">      <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> flag); <span class="comment">// boolean</span></span><br><span class="line">      <span class="keyword">var</span> vari = <span class="literal">undefined</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> vari); <span class="comment">// undefined</span></span><br><span class="line">      <span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> timer); <span class="comment">// object</span></span><br><span class="line">      <span class="comment">// prompt 取过来的值是 字符型的</span></span><br><span class="line">      <span class="keyword">var</span> age = <span class="title function_">prompt</span>(<span class="string">&#x27;请输入您的年龄&#x27;</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(age);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> age);</span><br></pre></td></tr></table></figure>

<h2 id="三、运算符"><a href="#三、运算符" class="headerlink" title="三、运算符"></a>三、运算符</h2><h3 id="1-算数运算符"><a href="#1-算数运算符" class="headerlink" title="1. 算数运算符"></a>1. 算数运算符</h3><p><code>+</code> <code>-</code> <code>*</code> <code> /</code> <code>%</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> + <span class="number">1</span>); <span class="comment">// 2</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> - <span class="number">1</span>); <span class="comment">// 0</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> * <span class="number">1</span>); <span class="comment">// 1</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> / <span class="number">1</span>); <span class="comment">// 1</span></span><br><span class="line">      <span class="comment">// 1. % 取余 （取模）  </span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span> % <span class="number">2</span>); <span class="comment">// 0</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">5</span> % <span class="number">3</span>); <span class="comment">// 2</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span> % <span class="number">5</span>); <span class="comment">// 3</span></span><br><span class="line">      <span class="comment">// 2. 浮点数 算数运算里面会有问题</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0.1</span> + <span class="number">0.2</span>); <span class="comment">// 0.30000000000000004</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0.07</span> * <span class="number">100</span>); <span class="comment">// 7.000000000000001</span></span><br><span class="line">      <span class="comment">// 3. 我们不能直接拿着浮点数来进行相比较 是否相等</span></span><br><span class="line">      <span class="keyword">var</span> num = <span class="number">0.1</span> + <span class="number">0.2</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(num == <span class="number">0.3</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h3 id="2-比较运算符"><a href="#2-比较运算符" class="headerlink" title="2. 比较运算符"></a>2. 比较运算符</h3><p><code>&gt; &lt; == &gt;= &lt;= != === !==</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span> &gt;= <span class="number">5</span>); <span class="comment">// false</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span> &lt;= <span class="number">4</span>); <span class="comment">// true</span></span><br><span class="line">      <span class="comment">//1. 我们程序里面的等于符号 是 ==  默认转换数据类型 会把字符串型的			数据转换为数字型 只要求值相等就可以</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span> == <span class="number">5</span>); <span class="comment">// false</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;pink老师&#x27;</span> == <span class="string">&#x27;刘德华&#x27;</span>); <span class="comment">// flase</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">18</span> == <span class="number">18</span>); <span class="comment">// true</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">18</span> == <span class="string">&#x27;18&#x27;</span>); <span class="comment">// true</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">18</span> != <span class="number">18</span>); <span class="comment">// false</span></span><br><span class="line">      <span class="comment">// 2. 我们程序里面有全等 一模一样  要求 两侧的值 还有 数据类型完全			一致才可以 true</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">18</span> === <span class="number">18</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">18</span> === <span class="string">&#x27;18&#x27;</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h3 id="3-逻辑运算符"><a href="#3-逻辑运算符" class="headerlink" title="3. 逻辑运算符"></a>3. 逻辑运算符</h3><p><code>&amp;&amp; || !</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 逻辑与 &amp;&amp;  and 两侧都为true  结果才是 true  只要有一侧为		false  结果就为false </span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span> &gt; <span class="number">5</span> &amp;&amp; <span class="number">3</span> &gt; <span class="number">2</span>); <span class="comment">// false</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span> &lt; <span class="number">5</span> &amp;&amp; <span class="number">3</span> &gt; <span class="number">2</span>); <span class="comment">// true</span></span><br><span class="line">      <span class="comment">// 2. 逻辑或 || or  两侧都为false  结果才是假 false  只要有一侧			为true  结果就是true</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span> &gt; <span class="number">5</span> || <span class="number">3</span> &gt; <span class="number">2</span>); <span class="comment">// true </span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span> &gt; <span class="number">5</span> || <span class="number">3</span> &lt; <span class="number">2</span>); <span class="comment">// false</span></span><br><span class="line">      <span class="comment">// 3. 逻辑非  not  ！ </span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(!<span class="literal">true</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h3 id="4-赋值运算符"><a href="#4-赋值运算符" class="headerlink" title="4. 赋值运算符"></a>4. 赋值运算符</h3><p><code>= += -= *= /=</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line">      <span class="comment">// num = num + 1;   num++</span></span><br><span class="line">      <span class="comment">// num = num + 2; // num += 2;</span></span><br><span class="line">      <span class="comment">// num += 2;</span></span><br><span class="line">      num += <span class="number">5</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line">      <span class="keyword">var</span> age = <span class="number">2</span>;</span><br><span class="line">      age *= <span class="number">3</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(age);</span><br></pre></td></tr></table></figure>

<h3 id="5-一元运算符"><a href="#5-一元运算符" class="headerlink" title="5. 一元运算符"></a>5. 一元运算符</h3><p><code> ++ --</code></p>
<ul>
<li>前置递增 ++num 先自加，再返回值</li>
<li>后置递增 num++ 先返回原值，后自加1</li>
</ul>
<h3 id="6-优先级"><a href="#6-优先级" class="headerlink" title="6. 优先级"></a>6. 优先级</h3><p>！&gt; 算数 &gt; 关系 &gt; 与、或 &gt; 赋值</p>
<h2 id="四、选择结构"><a href="#四、选择结构" class="headerlink" title="四、选择结构"></a>四、选择结构</h2><h3 id="1-if"><a href="#1-if" class="headerlink" title="1. if"></a>1. if</h3><h4 id="1-1-if单分支"><a href="#1-1-if单分支" class="headerlink" title="1.1 if单分支"></a>1.1 if单分支</h4><p>如果 if 里面的条件表达式结果为真 true 则执行大括号里面的 执行语句 </p>
<p>如果if 条件表达式结果为假 则不执行大括号里面的语句 则执行if 语句后面的代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (条件表达式) &#123;</span><br><span class="line">        <span class="comment">// 执行语句</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h4 id="1-2-if双分支"><a href="#1-2-if双分支" class="headerlink" title="1.2 if双分支"></a>1.2 if双分支</h4><p>如果表达式结果为真 那么执行语句1  否则  执行语句2</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (条件表达式) &#123;</span><br><span class="line">        <span class="comment">// 执行语句1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 执行语句2 </span></span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure>

<h4 id="1-3-if多分支"><a href="#1-3-if多分支" class="headerlink" title="1.3 if多分支"></a>1.3 if多分支</h4><p>如果条件表达式1 不满足，则判断条件表达式2  满足的话，执行语句2 以此类推</p>
<p>如果上面的所有条件表达式都不成立，则执行else 里面的语句</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (条件表达式<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">// 语句1;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (条件表达式<span class="number">2</span>) &#123;</span><br><span class="line">            <span class="comment">// 语句2;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (条件表达式<span class="number">3</span>) &#123;</span><br><span class="line">            <span class="comment">// 语句3;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 最后的语句;</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h4 id="1-4-三元表达式"><a href="#1-4-三元表达式" class="headerlink" title="1.4 三元表达式"></a>1.4 三元表达式</h4><p>如果条件表达式结果为真 则 返回 表达式1 的值 如果条件表达式结果为假 则返回 表达式2 的值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 条件表达式 ？ 表达式1 ： 表达式2</span></span><br><span class="line">        <span class="keyword">var</span> num = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">var</span> result = num &gt; <span class="number">5</span> ? <span class="string">&#x27;是的&#x27;</span> : <span class="string">&#x27;不是的</span></span><br></pre></td></tr></table></figure>

<h3 id="2-switch"><a href="#2-switch" class="headerlink" title="2. switch"></a>2. switch</h3><p>利用我们的表达式的值 和 case 后面的选项值相匹配 如果匹配上，就执行该case 里面的语句  如果都没有匹配上，那么执行 default里面的语句</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (表达式) &#123;</span><br><span class="line">             <span class="keyword">case</span> <span class="attr">value1</span>:</span><br><span class="line">                执行语句<span class="number">1</span>;</span><br><span class="line">                 <span class="keyword">break</span>;</span><br><span class="line">             <span class="keyword">case</span> <span class="attr">value2</span>:</span><br><span class="line">                执行语句<span class="number">2</span>;</span><br><span class="line">                 <span class="keyword">break</span>;</span><br><span class="line">                 ...</span><br><span class="line">              <span class="attr">default</span>:</span><br><span class="line">                 执行最后的语句;</span><br><span class="line">         &#125;</span><br></pre></td></tr></table></figure>

<p>特点：</p>
<ul>
<li>我们开发里面 表达式我们经常写成变量</li>
<li>我们num 的值 和 case 里面的值相匹配的时候是 全等  必须是值和数据类型一致才可以 num &#x3D;&#x3D;&#x3D; 1</li>
<li>break 如果当前的case里面没有break 则不会退出switch 是继续执行下一个case</li>
</ul>
<h2 id="五、循环结构"><a href="#五、循环结构" class="headerlink" title="五、循环结构"></a>五、循环结构</h2><h3 id="1-for"><a href="#1-for" class="headerlink" title="1. for"></a>1. for</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for (初始化变量; 条件表达式; 操作表达式) &#123;</span></span><br><span class="line"><span class="comment">//     // 循环体</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;你好吗&#x27;</span>);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-while"><a href="#2-while" class="headerlink" title="2. while"></a>2. while</h3><p>当条件表达式结果为true 则执行循环体 否则 退出循环</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// while (条件表达式) &#123;</span></span><br><span class="line"><span class="comment">//     // 循环体</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (num &lt;= <span class="number">100</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;好啊有&#x27;</span>);</span><br><span class="line">    num++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-do-while"><a href="#3-do-while" class="headerlink" title="3. do while"></a>3. do while</h3><p>跟while不同的地方在于 do while 先执行一次循环体 在判断条件 如果条件表达式结果为真，则继续执行循环体，否则退出循环</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// do &#123;</span></span><br><span class="line"><span class="comment">//     循环体</span></span><br><span class="line"><span class="comment">// &#125; while (条件表达式)</span></span><br><span class="line">		<span class="keyword">var</span> i = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;how are you?&#x27;</span>);</span><br><span class="line">            i++;</span><br><span class="line">        &#125; <span class="keyword">while</span> (i &lt;= <span class="number">100</span>)        </span><br></pre></td></tr></table></figure>

<h3 id="4-continue"><a href="#4-continue" class="headerlink" title="4. continue"></a>4. continue</h3><p>continue 关键字  退出本次（当前次的循环）  继续执行剩余次数循环</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">3</span>) &#123;</span><br><span class="line">                <span class="keyword">continue</span>; <span class="comment">// 只要遇见 continue就退出本次循环 直接跳到 						i++</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我正在吃第&#x27;</span> + i + <span class="string">&#x27;个包子&#x27;</span>);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-break"><a href="#5-break" class="headerlink" title="5. break"></a>5. break</h3><p>break 退出整个循环</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">3</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我正在吃第&#x27;</span> + i + <span class="string">&#x27;个包子&#x27;</span>);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h2 id="六、数组"><a href="#六、数组" class="headerlink" title="六、数组"></a>六、数组</h2><p>数组(Array) ：就是一组数据的集合 存储在单个变量下的优雅方式</p>
<h3 id="1-创建数组"><a href="#1-创建数组" class="headerlink" title="1. 创建数组"></a>1. 创建数组</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var arr = new Array();   // 利用new 创建数组</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var arr = [];  //   利用数组字面量创建数组 []</span><br></pre></td></tr></table></figure>

<h3 id="2-获取数组元素"><a href="#2-获取数组元素" class="headerlink" title="2. 获取数组元素"></a>2. 获取数组元素</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="string">&#x27;pink老师&#x27;</span>, <span class="literal">true</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1[<span class="number">2</span>]); <span class="comment">// pink老师</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1[<span class="number">3</span>]); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="3-数组常用方法"><a href="#3-数组常用方法" class="headerlink" title="3. 数组常用方法"></a>3. 数组常用方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&quot;李白&quot;</span>, <span class="number">123</span>, <span class="literal">false</span>, <span class="literal">undefined</span>, <span class="literal">null</span>, <span class="literal">true</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">13</span>]</span><br><span class="line">        <span class="comment">// 在数组末尾增加 push()</span></span><br><span class="line">        arr.<span class="title function_">push</span>(<span class="string">&quot;剑仙&quot;</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">        <span class="comment">// 在数组末尾删除 pop()</span></span><br><span class="line">        arr.<span class="title function_">pop</span>()</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">        <span class="comment">// 在数组开头删除 shift()</span></span><br><span class="line">        arr.<span class="title function_">shift</span>()</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">        <span class="comment">// 删除 splice()</span></span><br><span class="line">        arr.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">        <span class="comment">// 修改 splice()</span></span><br><span class="line">        arr.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">0</span>, <span class="string">&quot;诗圣&quot;</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">        arr.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">3</span>, <span class="number">10</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 数组转化为字符串 join() 产生一个新数组，不会改变原数组 以xx隔开</span></span><br><span class="line">        <span class="keyword">var</span> arr1 = arr.<span class="title function_">join</span>(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr1);</span><br><span class="line">        <span class="comment">// 合并两个数组 concat() 产生一个新数组，不会改变原数组</span></span><br><span class="line">        <span class="keyword">var</span> arr3 = arr.<span class="title function_">concat</span>(arr1)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr3);</span><br><span class="line">        <span class="comment">// 数组的截取 slice() 产生一个新数组，不会改变原数组</span></span><br><span class="line">        <span class="keyword">var</span> arr4 = arr.<span class="title function_">slice</span>(<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr4);</span><br><span class="line">        <span class="comment">// 数组的翻转 reverse() 产生一个新数组，不会改变原数组</span></span><br><span class="line">        <span class="keyword">var</span> arr5 = arr.<span class="title function_">reverse</span>()</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr5);</span><br><span class="line">        <span class="comment">// 数组排序 sort() 产生一个新数组，不会改变原数组</span></span><br><span class="line">        <span class="keyword">var</span> arr6 = arr.<span class="title function_">sort</span>(<span class="keyword">function</span> (<span class="params">a, b</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> a - b</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr6);</span><br></pre></td></tr></table></figure>

<h3 id="4-冒泡排序"><a href="#4-冒泡排序" class="headerlink" title="4. 冒泡排序"></a>4. 冒泡排序</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">4</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;= arr.<span class="property">length</span> - <span class="number">1</span>; i++) &#123; </span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt;= arr.<span class="property">length</span> - i - <span class="number">1</span>; j++) &#123; </span><br><span class="line">                <span class="keyword">if</span> (arr[j] &lt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                    <span class="keyword">var</span> temp = arr[j];</span><br><span class="line">                    arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">                    arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br></pre></td></tr></table></figure>

<h3 id="5-数组最大值"><a href="#5-数组最大值" class="headerlink" title="5. 数组最大值"></a>5. 数组最大值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">2</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">343</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">65</span>, <span class="number">234</span>]</span><br><span class="line">        <span class="keyword">var</span> max = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (a[i] &gt; a[i + <span class="number">1</span>]) &#123;</span><br><span class="line">                max = a[i]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(max);</span><br></pre></td></tr></table></figure>

<h3 id="6-数组去重"><a href="#6-数组去重" class="headerlink" title="6. 数组去重"></a>6. 数组去重</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">23</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">54</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.<span class="property">length</span> - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> j = i + <span class="number">1</span>; j &lt; arr.<span class="property">length</span> - <span class="number">1</span>; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (arr[i] == arr[j]) &#123;</span><br><span class="line">                    arr.<span class="title function_">splice</span>(j, <span class="number">1</span>)</span><br><span class="line">                    j--  <span class="comment">// 因为每次删除都会改变数组的长度，所以删了之后要是下标-1,之后再+1回到原来下标</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br></pre></td></tr></table></figure>

<h3 id="7-反转数组"><a href="#7-反转数组" class="headerlink" title="7. 反转数组"></a>7. 反转数组</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>, <span class="string">&#x27;pink&#x27;</span>, <span class="string">&#x27;purple&#x27;</span>, <span class="string">&#x27;hotpink&#x27;</span>];</span><br><span class="line">        <span class="keyword">var</span> newArr = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = arr.<span class="property">length</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            newArr[newArr.<span class="property">length</span>] = arr[i]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(newArr);</span><br></pre></td></tr></table></figure>

<h3 id="8-遍历数组"><a href="#8-遍历数组" class="headerlink" title="8. 遍历数组"></a>8. 遍历数组</h3><h4 id="1-for-of"><a href="#1-for-of" class="headerlink" title="1. for of"></a><strong>1. for of</strong></h4><ul>
<li>不同于forEach的是，for of 循环可以随时退出</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>, <span class="string">&#x27;pink&#x27;</span>, <span class="string">&#x27;purple&#x27;</span>, <span class="string">&#x27;hotpink&#x27;</span>];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> arr) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(i) <span class="comment">//red green blue pink purplr hotpink</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-forEach"><a href="#2-forEach" class="headerlink" title="2. forEach"></a><strong>2. forEach</strong></h4><ul>
<li>可以通过return跳出本次循环，执行下一次循环</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">    arr.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (item === <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 2 4 5 6</span></span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<h4 id="3-some"><a href="#3-some" class="headerlink" title="3. some"></a>3. some</h4><ul>
<li>不会对空数组进行检测</li>
<li>不会改变原数组</li>
<li>检测数组里的每一个值是否满足条件，如果有一个满足就返回true，否则返回false</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">    <span class="keyword">const</span> result = arr.<span class="title function_">some</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 2 3</span></span><br><span class="line">      <span class="keyword">return</span> item === <span class="number">3</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(result) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="4-every"><a href="#4-every" class="headerlink" title="4. every"></a>4. every</h4><ul>
<li>不会对空数组进行检测</li>
<li>不会改变原数组</li>
<li>检测数组里的每一个值是否满足条件，如果有一个不满足就返回false，否则返回true</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">    <span class="keyword">const</span> result = arr.<span class="title function_">every</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 </span></span><br><span class="line">      <span class="keyword">return</span> item === <span class="number">3</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(result) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id="5-map"><a href="#5-map" class="headerlink" title="5. map"></a>5. map</h4><ul>
<li>不会对空数组进行检测</li>
<li>不会改变原数组</li>
<li>按照原始数组元素顺序依次处理，返回一个新数组</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">   <span class="keyword">const</span> result = arr.<span class="title function_">map</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 2 3 4 5 6 </span></span><br><span class="line">     <span class="keyword">return</span> item * item</span><br><span class="line">   &#125;)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(result) <span class="comment">// [1 4 9 16 25 36]</span></span><br></pre></td></tr></table></figure>

<h4 id="6-filter"><a href="#6-filter" class="headerlink" title="6. filter"></a>6. filter</h4><ul>
<li>不会对空数组进行检测</li>
<li>不会改变原数组</li>
<li>对数组进行渲染，返回符合条件的数组</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">   <span class="keyword">const</span> result = arr.<span class="title function_">filter</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 2 3 4 5 6</span></span><br><span class="line">     <span class="keyword">return</span> item &gt; <span class="number">3</span></span><br><span class="line">   &#125;)</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(result) <span class="comment">// [4,5,6]</span></span><br></pre></td></tr></table></figure>

<h4 id="7-find"><a href="#7-find" class="headerlink" title="7. find()"></a>7. find()</h4><ul>
<li><p>不会对空数组进行检测</p>
</li>
<li><p>不会改变原数组</p>
</li>
<li><p>找到符合条件的第一项，没有找到返回undefined</p>
</li>
</ul>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">    <span class="keyword">const</span> result = arr.<span class="title function_">find</span>(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// 1 2 3 4 5 6</span></span><br><span class="line">      <span class="keyword">return</span> item &gt; <span class="number">3</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(result) <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>

<h2 id="七、函数"><a href="#七、函数" class="headerlink" title="七、函数"></a>七、函数</h2><h3 id="1-声明函数"><a href="#1-声明函数" class="headerlink" title="1. 声明函数"></a>1. 声明函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hi~~&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="title function_">sayHi</span>();</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sayHi = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hi~~&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="title function_">sayHi</span>();</span><br></pre></td></tr></table></figure>

<h3 id="2-带参数的函数"><a href="#2-带参数的函数" class="headerlink" title="2. 带参数的函数"></a>2. 带参数的函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// function 函数名(形参1,形参2...) &#123; // 在声明函数的小括号里面是 形参 （形式上的参数）</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数名(实参1,实参2...); // 在函数调用的小括号里面是实参（实际的参数）</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">cook</span>(<span class="params">aru</span>) &#123; </span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(aru);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">cook</span>(<span class="string">&#x27;酸辣土豆丝&#x27;</span>);</span><br><span class="line">        <span class="title function_">cook</span>(<span class="string">&#x27;大肘子&#x27;</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>如果实参的个数和形参的个数一致 则正常输出结果</li>
<li>如果实参的个数多于形参的个数  会取到形参的个数</li>
<li>如果实参的个数小于形参的个数  多于的形参定义为undefined  最终的结果就是 NaN</li>
</ul>
<h3 id="3-函数的返回值"><a href="#3-函数的返回值" class="headerlink" title="3. 函数的返回值"></a>3. 函数的返回值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// function 函数名() &#123;</span></span><br><span class="line">        <span class="comment">//     return 需要返回的结果;</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line"> <span class="comment">// 函数名();</span></span><br><span class="line"><span class="comment">//只要函数遇到return 就把后面的结果 返回给函数的调用者  函数名() = return后面的结果</span></span><br><span class="line">		<span class="keyword">function</span> <span class="title function_">getResult</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">666</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">getResult</span>(); <span class="comment">// getResult()   = 666</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getResult</span>());</span><br></pre></td></tr></table></figure>

<ul>
<li>return 后面的代码不会被执行</li>
<li>返回的结果是最后一个值</li>
<li>我们的函数如果有return 则返回的是 return 后面的值，如果函数么有 return 则返回undefined</li>
</ul>
<h3 id="4-arguments伪数组"><a href="#4-arguments伪数组" class="headerlink" title="4. arguments伪数组"></a>4. arguments伪数组</h3><p>所有<strong>函数都内置了一个arguments对象</strong>（只有函数才有arguments），arguments对象中存储了传递的所有<strong>实参</strong>；当不知道传入的实参的个数（实参个数会变，或者不清楚具体几个），就可以不设置形参，在函数体内部直接用arguments去获得传入的实参</p>
<p>特点：</p>
<ul>
<li><p>具有length属性</p>
</li>
<li><p>按索引方式存储数据</p>
</li>
<li><p>不具有数组的push,pop等方法(没有真正的数组的方法)</p>
</li>
</ul>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f1</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">f1</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">        </span><br></pre></td></tr></table></figure>

<h2 id="八、对象"><a href="#八、对象" class="headerlink" title="八、对象"></a>八、对象</h2><p>对象： 无序的相关属性和方法的集合，所有的事物都是对象 </p>
<h3 id="1-声明对象"><a href="#1-声明对象" class="headerlink" title="1. 声明对象"></a>1. 声明对象</h3><h4 id="1-1-字面量创建对象"><a href="#1-1-字面量创建对象" class="headerlink" title="1.1 字面量创建对象"></a>1.1 字面量创建对象</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">                <span class="attr">uname</span>: <span class="string">&#x27;张三疯&#x27;</span>,</span><br><span class="line">                <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">                <span class="attr">sex</span>: <span class="string">&#x27;男&#x27;</span>,</span><br><span class="line">                <span class="attr">sayHi</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hi~&#x27;</span>);</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>

<h4 id="1-2-利用new-Object-创建对象"><a href="#1-2-利用new-Object-创建对象" class="headerlink" title="1.2 利用new Object() 创建对象"></a>1.2 利用new Object() 创建对象</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title class_">Object</span>(); <span class="comment">// 创建了一个空的对象</span></span><br><span class="line">       obj.<span class="property">uname</span> = <span class="string">&#x27;张三疯&#x27;</span>;</span><br><span class="line">       obj.<span class="property">age</span> = <span class="number">18</span>;</span><br><span class="line">       obj.<span class="property">sex</span> = <span class="string">&#x27;男&#x27;</span>;</span><br><span class="line">       obj.<span class="property">sayHi</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">               <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hi~&#x27;</span>);</span><br><span class="line"></span><br><span class="line">           &#125;</span><br><span class="line">           <span class="comment">// (1) 我们是利用 等号 = 赋值的方法 添加对象的属性和方法</span></span><br><span class="line">           <span class="comment">// (2) 每个属性和方法之间用 分号结束</span></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">uname</span>);</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(obj[<span class="string">&#x27;sex&#x27;</span>]);</span><br><span class="line">       obj.<span class="title function_">sayHi</span>();</span><br></pre></td></tr></table></figure>

<h4 id="1-3-利用构造函数创建对象"><a href="#1-3-利用构造函数创建对象" class="headerlink" title="1.3 利用构造函数创建对象"></a>1.3 利用构造函数创建对象</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Star</span>(<span class="params">uname, age, sex</span>) &#123;</span><br><span class="line">           <span class="variable language_">this</span>.<span class="property">name</span> = uname;</span><br><span class="line">           <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">           <span class="variable language_">this</span>.<span class="property">sex</span> = sex;</span><br><span class="line">           <span class="variable language_">this</span>.<span class="property">sing</span> = <span class="keyword">function</span>(<span class="params">sang</span>) &#123;</span><br><span class="line">               <span class="variable language_">console</span>.<span class="title function_">log</span>(sang);</span><br><span class="line"></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">var</span> ldh = <span class="keyword">new</span> <span class="title class_">Star</span>(<span class="string">&#x27;刘德华&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;男&#x27;</span>); <span class="comment">// 调用函数返回的是一个对象</span></span><br><span class="line">       <span class="comment">// console.log(typeof ldh);</span></span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(ldh.<span class="property">name</span>);</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(ldh[<span class="string">&#x27;sex&#x27;</span>]);</span><br></pre></td></tr></table></figure>

<h3 id="2-new关键字内部"><a href="#2-new关键字内部" class="headerlink" title="2. new关键字内部"></a>2. new关键字内部</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// new关键字执行过程</span></span><br><span class="line">        <span class="comment">// 1. new 构造函数可以在内存中创建了一个空的对象 </span></span><br><span class="line">        <span class="comment">// 2. this 就会指向刚才创建的空对象</span></span><br><span class="line">        <span class="comment">// 3. 执行构造函数里面的代码 给这个空对象添加属性和方法</span></span><br><span class="line">        <span class="comment">// 4. 返回这个对象</span></span><br></pre></td></tr></table></figure>

<h3 id="3-遍历对象"><a href="#3-遍历对象" class="headerlink" title="3. 遍历对象"></a>3. 遍历对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;pink老师&#x27;</span>,</span><br><span class="line">                <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">                <span class="attr">sex</span>: <span class="string">&#x27;男&#x27;</span>,</span><br><span class="line">                <span class="attr">fn</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// for in 遍历我们的对象</span></span><br><span class="line">            <span class="comment">// for (变量 in 对象) &#123;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> k <span class="keyword">in</span> obj) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(k); </span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(obj[k]); </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 我们使用 for in 里面的变量 我们喜欢写 k  或者  key</span></span><br></pre></td></tr></table></figure>

<h3 id="4-Date对象"><a href="#4-Date对象" class="headerlink" title="4. Date对象"></a>4. Date对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 日期的方法</span></span><br><span class="line">        <span class="keyword">let</span> myDate = <span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line">        <span class="comment">// 获取日期对象</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate)</span><br><span class="line">        <span class="comment">// 可以通过日期对象获取年月日</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">getFullYear</span>())</span><br><span class="line">        <span class="comment">// js从0月开始</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">getMonth</span>())</span><br><span class="line">		<span class="comment">// 获取多少号</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">getDate</span>())</span><br><span class="line">        <span class="comment">// 星期几</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">getDay</span>())</span><br><span class="line">        <span class="comment">// 时分秒</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">getHours</span>());</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">getMinutes</span>());</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">getSeconds</span>());</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">getMilliseconds</span>());</span><br><span class="line">		<span class="comment">// 获取本地日期</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">toLocaleDateString</span>());</span><br><span class="line">		<span class="comment">// 获取本地时间</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(myDate.<span class="title function_">toLocaleString</span>());</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">getDate</span>(<span class="params">date1, date2</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> time1 = <span class="keyword">new</span> <span class="title class_">Date</span>(date1)</span><br><span class="line">            <span class="keyword">let</span> time2 = <span class="keyword">new</span> <span class="title class_">Date</span>(date2)</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(time1)</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(time2)</span><br><span class="line">            <span class="keyword">return</span> (time2 - time1) / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getDate</span>(<span class="string">&quot;2021-7-12&quot;</span>, <span class="string">&quot;2035-7-15&quot;</span>))</span><br></pre></td></tr></table></figure>

<h3 id="5-for-in-和for-of-的区别"><a href="#5-for-in-和for-of-的区别" class="headerlink" title="5. for in 和for of 的区别"></a>5. for in 和for of 的区别</h3><ul>
<li><p>for-in只是获取数组的索引；而for-of会获取数组的值</p>
</li>
<li><p>for-in会遍历对象的整个原型链，性能差；而for-of只遍历当前对象，不会遍历原型链</p>
</li>
<li><p>对于数组的遍历，for-in会返回数组中所有可枚举的属性(包括原型链上可枚举的属性)；for-of只返回数组的下标对应的属性值</p>
</li>
<li><p>for-of适用遍历数组／字符串&#x2F;map&#x2F;set等有迭代器对象的集合，但是不能遍历普通对象（obj is not iterable）</p>
</li>
</ul>
<h2 id="九、字符串"><a href="#九、字符串" class="headerlink" title="九、字符串"></a>九、字符串</h2><h3 id="1-字符串的常用方法"><a href="#1-字符串的常用方法" class="headerlink" title="1. 字符串的常用方法"></a>1. 字符串的常用方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字符串的长度                length</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str1.<span class="property">length</span>)</span><br><span class="line">     <span class="comment">// 通过下标获取某个字符       str.charAt()</span></span><br><span class="line">     <span class="keyword">let</span> str5 = <span class="string">&#x27;我是一个字符串&#x27;</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str5.<span class="title function_">charAt</span>(<span class="number">3</span>))</span><br><span class="line">     <span class="comment">// 截取字符串 str.slice()</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str5.<span class="title function_">slice</span>(<span class="number">2</span>, <span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 返回字符串第一次出现的位置  没有出现过返回-1 str.indexOf()</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str5.<span class="title function_">indexOf</span>(<span class="string">&#x27;123&#x27;</span>))</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str5.<span class="title function_">search</span>(<span class="string">&#x27;个&#x27;</span>))</span><br><span class="line">     <span class="comment">// indexOf和search的区别    indexOf只能匹配字符串</span></span><br><span class="line">     <span class="comment">// search可以匹配 正则和字符串</span></span><br><span class="line">     </span><br><span class="line">     <span class="comment">// 替换字符串                  str.replace()</span></span><br><span class="line">     <span class="keyword">let</span> str6 = <span class="string">&#x27;sldjfsljflskjfdslfjdsl&#x27;</span></span><br><span class="line">     <span class="keyword">let</span> str7 = str6.<span class="title function_">replace</span>(<span class="string">&#x27;s&#x27;</span>, <span class="string">&#x27;我的&#x27;</span>)</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str7, str6)</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 分割字符串转化为数组          str.split()</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str6.<span class="title function_">split</span>(<span class="string">&#x27;s&#x27;</span>))</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 表单里面比较重要的的      str.trim()</span></span><br><span class="line">     <span class="keyword">let</span> str8 = <span class="string">&#x27; 我的字符 &#x27;</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str8.<span class="property">length</span>)</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str8.<span class="title function_">trim</span>().<span class="property">length</span>)</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 判断字符串是否有某个字符  str.includes()</span></span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(str8.<span class="title function_">includes</span>(<span class="string">&#x27;我&#x27;</span>))</span><br><span class="line">     <span class="comment">// 多一嘴 数组也是一样的方法</span></span><br><span class="line">     <span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">45</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="string">&#x27;123&#x27;</span>, <span class="number">12</span>]</span><br><span class="line">     <span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">includes</span>(<span class="number">123</span>))</span><br></pre></td></tr></table></figure>

<h2 id="十、正则"><a href="#十、正则" class="headerlink" title="十、正则"></a>十、正则</h2><h3 id="1-正则规则"><a href="#1-正则规则" class="headerlink" title="1. 正则规则"></a>1. 正则规则</h3><table>
<thead>
<tr>
<th align="center">语法</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">i</td>
<td align="center">忽略大小写</td>
</tr>
<tr>
<td align="center">g</td>
<td align="center">全局</td>
</tr>
<tr>
<td align="center">\d</td>
<td align="center">数字 [0-9]</td>
</tr>
<tr>
<td align="center">\w</td>
<td align="center">[0-9,a-z,A-Z]</td>
</tr>
<tr>
<td align="center">\s</td>
<td align="center">空格</td>
</tr>
<tr>
<td align="center">\D</td>
<td align="center">非数字 [^0-9]</td>
</tr>
<tr>
<td align="center">\W</td>
<td align="center">非单词  【^a-zA-Z0-9】</td>
</tr>
<tr>
<td align="center">\S</td>
<td align="center">非空格</td>
</tr>
<tr>
<td align="center">\</td>
<td align="center">转义字符</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="center">+</th>
<th align="center">代表一个或者十多个</th>
</tr>
</thead>
<tbody><tr>
<td align="center">? {0,1}</td>
<td align="center">可以有可以没有 可以有0个也可以有1个</td>
</tr>
<tr>
<td align="center">*</td>
<td align="center">可以没有 有的话可以使无限个</td>
</tr>
<tr>
<td align="center">{n}</td>
<td align="center">{5}  只能有5个</td>
</tr>
<tr>
<td align="center">{n,m}</td>
<td align="center">则代表 最少有n个最多有m个</td>
</tr>
<tr>
<td align="center">{n,}</td>
<td align="center">最少有n个 多则不限</td>
</tr>
<tr>
<td align="center">|   ^  $</td>
<td align="center">或者 开头 结尾</td>
</tr>
<tr>
<td align="center">&#x2F;^1[3-9]\d{9}$&#x2F;</td>
<td align="center">开头第一个字符为1 第二个字符为3~9之间  第三个字符0到9的数字一定要有9个就结束了</td>
</tr>
</tbody></table>
<h3 id="2-正则比较"><a href="#2-正则比较" class="headerlink" title="2. 正则比较"></a>2. 正则比较</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// let reg = 手机的规则1开头第二个数字是3到9 然后又9位的数字组成</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^1[3-9]\d&#123;9&#125;$/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 正则作比较的方法 test match</span></span><br><span class="line"><span class="comment">// 1. test()方法</span></span><br><span class="line"><span class="keyword">let</span> phoneNumber = <span class="title function_">prompt</span>(<span class="string">&#x27;请输入一个手机号&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>((reg.<span class="title function_">test</span>(phoneNumber)));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. match()方法</span></span><br><span class="line"><span class="comment">// match 方法 不满足规则的时候 返回空  null 满足则返回数组</span></span><br></pre></td></tr></table></figure>



<h1 id="DOM总结"><a href="#DOM总结" class="headerlink" title="DOM总结"></a><code>DOM</code>总结</h1><h2 id="一、-获取元素方式"><a href="#一、-获取元素方式" class="headerlink" title="一、 获取元素方式"></a>一、 获取元素方式</h2><h4 id="1-传统获取元素方式"><a href="#1-传统获取元素方式" class="headerlink" title="1. 传统获取元素方式"></a>1. 传统获取元素方式</h4><table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>document.getElementById()</code></td>
<td align="center">获取指定id的一个第一个对象的引用</td>
</tr>
<tr>
<td align="center"><code>document.getElementsByClassName()</code></td>
<td align="center">返回文档中所有指定类名的元素集合，作为<code> NodeList</code> 对象</td>
</tr>
<tr>
<td align="center"><code>document.getElementsByTagName()</code></td>
<td align="center">返回带有指定标签名的对象集合</td>
</tr>
<tr>
<td align="center"><code>document.getElementsByName()</code></td>
<td align="center">返回带有指定名称的对象集合</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;mydiv&quot;</span>&gt;mydiv&lt;/div&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mydivClass&quot;</span>&gt;</span>mydiv<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;mydivName&quot;</span>&gt;</span>mydiv<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>mydiv<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mydiv2&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;myP&quot;</span>&gt;</span>我是P<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;myP&quot;</span>&gt;</span>我是P<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;myP&quot;</span>&gt;</span>我是P<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是P<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是P<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">//  dom操作 文档对象模型</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// Document Object model</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// 获取dom节点 ：js获取html标签</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> div = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mydiv&#x27;</span>) <span class="comment">//通过id获取dom节点</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> div1 = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;mydivClass&#x27;</span>)  <span class="comment">//通过class获取dom节点</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> div2 = <span class="variable language_">document</span>.<span class="title function_">getElementsByName</span>(<span class="string">&#x27;mydivName&#x27;</span>)  <span class="comment">// 通过name属性获取dom节点</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> div3 = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;div&#x27;</span>)  <span class="comment">//通过标签获取dom节点</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h4 id="2-H5新增获取元素方式"><a href="#2-H5新增获取元素方式" class="headerlink" title="2. H5新增获取元素方式"></a>2. <code>H5</code>新增获取元素方式</h4><table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>document.querySelector()</code></td>
<td align="center">获取得到的是一个节点  如果参数可以选中多个节点 那么返回该选择器匹配的第一个节点</td>
</tr>
<tr>
<td align="center"><code>document.querySelectorAll()</code></td>
<td align="center">获取得到的是一个集合</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> div4 = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#mydiv2 p&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> div5 = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;#mydiv2 p:not(.myP)&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="3-两种获取元素的区别"><a href="#3-两种获取元素的区别" class="headerlink" title="3. 两种获取元素的区别"></a>3. 两种获取元素的区别</h4><p>区别：</p>
<ul>
<li><code>query</code>方法获取元素获取的是静态节点</li>
<li><code>getElement</code>获取元素获取的是动态节点</li>
<li>即：<code>getElement</code>获取的节点会随DOM的变化而变化，而<code>query</code>获取之后就不会再改变</li>
</ul>
<h2 id="二、-节点操作"><a href="#二、-节点操作" class="headerlink" title="二、 节点操作"></a>二、 节点操作</h2><h4 id="1-获取子节点"><a href="#1-获取子节点" class="headerlink" title="1. 获取子节点"></a>1. 获取子节点</h4><table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>dom.previousElementSibling</code></td>
<td align="center">获取某个节点的哥哥元素的节点</td>
</tr>
<tr>
<td align="center"><code>dom.nextElementSibling</code></td>
<td align="center">获取某个节点的弟弟元素的节点</td>
</tr>
<tr>
<td align="center"><code>dom.childNodes</code></td>
<td align="center">获取所有的子节点</td>
</tr>
<tr>
<td align="center"><code>dom.childElementCount</code></td>
<td align="center">返回所有的子元素的个数</td>
</tr>
<tr>
<td align="center"><code>dom.firstChild</code></td>
<td align="center">获取父元素下的第一个子节点</td>
</tr>
<tr>
<td align="center"><code>dom.firstElementChild</code></td>
<td align="center">获取父元素下的第一个子节点(<code>IE</code>6,7,8不支持)</td>
</tr>
<tr>
<td align="center"><code>dom.lastChild</code></td>
<td align="center">获取父元素下的最后一个子节点</td>
</tr>
<tr>
<td align="center"><code>dom.lastElementChild</code></td>
<td align="center">获取父元素下的最后一个子节点(<code>IE</code>6,7,8不支持)</td>
</tr>
</tbody></table>
<h4 id="2-创建节点"><a href="#2-创建节点" class="headerlink" title="2. 创建节点"></a>2. 创建节点</h4><table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>dom.createElement()</code></td>
<td align="center">创建元素节点</td>
</tr>
<tr>
<td align="center"><code>dom.createTextNode()</code></td>
<td align="center">创建文本节点</td>
</tr>
<tr>
<td align="center"><code>dom.appendChild()</code></td>
<td align="center">添加节点</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;mydiv2&quot;</span>&gt;</span><br><span class="line">       <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mydiv3&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;removeMydiv3(this)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">   &lt;/div&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;createDiv()&quot;</span>&gt;</span>点击创建<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 创建节点 createElement() createTextNode()</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">function</span> <span class="title function_">createDiv</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> newP = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;p&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> str = <span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(<span class="string">&#x27;我是新加的&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           newP.<span class="title function_">appendChild</span>(str)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> mydiv1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mydiv1&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           mydiv1.<span class="title function_">appendChild</span>(newP)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h4 id="3-删除节点"><a href="#3-删除节点" class="headerlink" title="3. 删除节点"></a>3. 删除节点</h4><table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>dom.removeChild()</code></td>
<td align="center">删除父元素的子元素节点</td>
</tr>
<tr>
<td align="center"><code>dom.remove()</code></td>
<td align="center">删除元素节点本身</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">removeDiv</span> () &#123;</span><br><span class="line">      <span class="comment">// 删除节点要通过父元素删除子元素</span></span><br><span class="line">      mydiv2.<span class="title function_">removeChild</span>(mydiv3)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">removeMydiv3</span> (mythis) &#123;</span><br><span class="line">      <span class="keyword">let</span> ziji = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mydiv3&#x27;</span>)</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(mythis)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-添加删除-class类"><a href="#4-添加删除-class类" class="headerlink" title="4. 添加删除 class类"></a>4. 添加删除 <code>class</code>类</h4><table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>dom.className  = &#39;class&#39;</code></td>
<td align="center">覆盖整个class类</td>
</tr>
<tr>
<td align="center"><code>dom.classList.add(&#39;class&#39;)</code></td>
<td align="center">添加一个class类</td>
</tr>
<tr>
<td align="center"><code>dom.className = &#39;&#39;</code></td>
<td align="center">删除所有的class</td>
</tr>
<tr>
<td align="center"><code>dom.classList.remove(&#39;class&#39;)</code></td>
<td align="center">删除指定的class类</td>
</tr>
</tbody></table>
<h4 id="5-添加属性"><a href="#5-添加属性" class="headerlink" title="5. 添加属性"></a>5. 添加属性</h4><p><code>dom.setAttribute(&#39;属性名&#39;,&#39;属性值&#39;)</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img.<span class="title function_">setAttribute</span>(<span class="string">&#x27;src&#x27;</span>,<span class="string">&#x27;./images/close-16x16.png&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="6-添加标签"><a href="#6-添加标签" class="headerlink" title="6. 添加标签"></a>6. 添加标签</h4><p><code>dom.innerHTML()</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mydiv.<span class="property">innerHTML</span> +=  <span class="string">`&lt;div class=&#x27;item&#x27;&gt;<span class="subst">$&#123;name&#125;</span> &lt;img onclick = &#x27;delZiji(this)&#x27; src=&quot;./images/close-16x16.png&quot; alt=&quot;&quot;&gt;&lt;/div&gt;`</span></span><br></pre></td></tr></table></figure>

<h2 id="三、DOM操作"><a href="#三、DOM操作" class="headerlink" title="三、DOM操作"></a>三、DOM操作</h2><table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>dom.insertBefore()</code></td>
<td align="center">插入节点；(要插入的节点，插到那里去)</td>
</tr>
<tr>
<td align="center"><code>dom.replaceChild()</code></td>
<td align="center">替换节点；(新节点，旧节点)</td>
</tr>
<tr>
<td align="center"><code>dom.cloneNode()</code></td>
<td align="center">克隆节点；(<code>boolen</code>)</td>
</tr>
<tr>
<td align="center"><code>dom.getAttribute()</code></td>
<td align="center">获取元素属性</td>
</tr>
<tr>
<td align="center"><code>dom.removeAttribute()</code></td>
<td align="center">移除元素属性</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;p id=<span class="string">&quot;wenzi&quot;</span>&gt;<span class="number">1232131</span>&lt;/p&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mydiv&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">       我是div</span></span><br><span class="line"><span class="language-xml">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;div1&quot;</span>&gt;</span>我是div1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;insertDiv()&quot;</span>&gt;</span>插入节点<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;replaceDiv()&quot;</span>&gt;</span>替换节点<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;cloneDiv()&quot;</span>&gt;</span>克隆节点<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;getattr()&quot;</span>&gt;</span>获取属性<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;removeAttr()&quot;</span>&gt;</span>删除属性<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;innerDiv()&quot;</span>&gt;</span>html<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"> <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// DOM操作</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 插入节点 insertBefore()</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">function</span> <span class="title function_">insertDiv</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> mydiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mydiv&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> textP = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;wenzi&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> div1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div1&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="comment">// 父元素.insertBefore(要插入的节点，插到那里去)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           mydiv.<span class="title function_">insertBefore</span>(textP, div1)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 替换节点 replaceChild()</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">function</span> <span class="title function_">replaceDiv</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> mydiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mydiv&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> textP = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;wenzi&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> div1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div1&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="comment">// 父元素。replaceChild(新节点，旧节点)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           mydiv.<span class="title function_">replaceChild</span>(textP, div1)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 克隆节点 cloneNode()</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">function</span> <span class="title function_">cloneDiv</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> mydiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mydiv&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> div1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div1&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> div2Node = div1.<span class="title function_">cloneNode</span>(<span class="literal">true</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           mydiv.<span class="title function_">appendChild</span>(div2Node)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 获取元素属性 getAttribute()</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">function</span> <span class="title function_">getattr</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> mydiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mydiv&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="variable language_">console</span>.<span class="title function_">log</span>(mydiv.<span class="title function_">getAttribute</span>(<span class="string">&#x27;id&#x27;</span>))</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 移除元素属性 removeAttribute()</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">function</span> <span class="title function_">removeAttr</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> mydiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mydiv&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           mydiv.<span class="title function_">removeAttribute</span>(<span class="string">&#x27;id&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 其他获取或者是设置属性的方法</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 节点.id  这样可以设置或者是获取id的值</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 节点。src 同理</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 节点。href  同理</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">// 节点。className 同理</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="keyword">function</span> <span class="title function_">innerDiv</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           <span class="keyword">let</span> mydiv = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mydiv&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">           mydiv.<span class="property">innerHTML</span> = <span class="string">&#x27;&lt;p&gt;我是p标签&lt;/p&gt;&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">   </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="四、绑定事件"><a href="#四、绑定事件" class="headerlink" title="四、绑定事件"></a>四、绑定事件</h2><h4 id="1-传统方法绑定"><a href="#1-传统方法绑定" class="headerlink" title="1. 传统方法绑定"></a>1. 传统方法绑定</h4><p><code>dom.事件类型 = function() &#123;&#125;</code></p>
<h4 id="2-现代方法绑定"><a href="#2-现代方法绑定" class="headerlink" title="2. 现代方法绑定"></a>2. 现代方法绑定</h4><p><code>addEventListener(事件名字，事件处理函数，布尔值)</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 传统方法绑定</span></span><br><span class="line">      <span class="keyword">let</span> div1 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div1&#x27;</span>)</span><br><span class="line">      div1.<span class="property">onclick</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">11</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 现代方法绑定</span></span><br><span class="line">      <span class="comment">// addEventListener(事件名字，事件处理函数，布尔值)</span></span><br><span class="line">      <span class="keyword">let</span> div2 = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div2&#x27;</span>)</span><br><span class="line">      div2.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">222</span>);</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 区别： 传统绑定会被覆盖只能绑定一次，现代绑定 可以多次绑定</span></span><br></pre></td></tr></table></figure>

<h4 id="3-区别"><a href="#3-区别" class="headerlink" title="3. 区别"></a>3. 区别</h4><p>传统绑定会被覆盖只能绑定一次，现代绑定 可以多次绑定</p>
<h4 id="4-常见的事件类型"><a href="#4-常见的事件类型" class="headerlink" title="4. 常见的事件类型"></a>4. 常见的事件类型</h4><table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>onclick</code></td>
<td align="center">点击事件</td>
</tr>
<tr>
<td align="center"><code>onmousedown</code></td>
<td align="center">鼠标按下</td>
</tr>
<tr>
<td align="center"><code>onmouseup</code></td>
<td align="center">鼠标抬起</td>
</tr>
<tr>
<td align="center"><code>onmouseover</code></td>
<td align="center">鼠标移入</td>
</tr>
<tr>
<td align="center"><code>onmouseout</code></td>
<td align="center">鼠标移出</td>
</tr>
<tr>
<td align="center"><code>onkeydown</code></td>
<td align="center">键盘按下</td>
</tr>
<tr>
<td align="center"><code>onkeyup</code></td>
<td align="center">键盘抬起</td>
</tr>
<tr>
<td align="center"><code>onkeypress</code></td>
<td align="center">键盘按下（只是监听非功能）</td>
</tr>
<tr>
<td align="center"><code>onscroll</code></td>
<td align="center">窗口改变事件</td>
</tr>
<tr>
<td align="center"><code>onload</code></td>
<td align="center">页面加载完毕时间</td>
</tr>
</tbody></table>
<h1 id="BOM总结"><a href="#BOM总结" class="headerlink" title="BOM总结"></a><code>BOM</code>总结</h1><h2 id="一、location对象"><a href="#一、location对象" class="headerlink" title="一、location对象"></a>一、location对象</h2><table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>location.href</code></td>
<td align="center">返回当前页面的完整的URL地址</td>
</tr>
<tr>
<td align="center"><code>location.search</code></td>
<td align="center">返回URL后面的参数(类似于”<code>?name = lcy&amp;age=20</code>“)</td>
</tr>
<tr>
<td align="center"><code>location.protocol</code></td>
<td align="center">返回页面使用的协议(通常是<code>http</code>或<code>https</code>)</td>
</tr>
<tr>
<td align="center"><code>location.host</code></td>
<td align="center">返回页面的域名及端口号</td>
</tr>
<tr>
<td align="center"><code>location.hostname</code></td>
<td align="center">返回页面的域名</td>
</tr>
<tr>
<td align="center"><code>location.port</code></td>
<td align="center">返回页面的端口号</td>
</tr>
<tr>
<td align="center"><code>location.pathname</code></td>
<td align="center">返回页面中的路径或者文件名</td>
</tr>
<tr>
<td align="center"><code>location.origin</code></td>
<td align="center">返回URL源地址</td>
</tr>
<tr>
<td align="center"><code>location.hash</code></td>
<td align="center">返回URL 散列值(#后面的内容)</td>
</tr>
</tbody></table>
<h2 id="二、window对象"><a href="#二、window对象" class="headerlink" title="二、window对象"></a>二、window对象</h2><table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>window.innerHeight</code></td>
<td align="center">浏览器的高度</td>
</tr>
<tr>
<td align="center"><code>window.innerWidth</code></td>
<td align="center">浏览器的宽度</td>
</tr>
<tr>
<td align="center"><code>screenLeft</code></td>
<td align="center">浏览器距离屏幕的左侧位置</td>
</tr>
<tr>
<td align="center"><code>screenTop</code></td>
<td align="center">浏览器距离屏幕的上边距位置</td>
</tr>
<tr>
<td align="center"><code>window.document.documentElement.scrollTop</code></td>
<td align="center">获取滚动条位置。距离顶部</td>
</tr>
<tr>
<td align="center"><code>history.forward()</code></td>
<td align="center">前进一页</td>
</tr>
<tr>
<td align="center"><code>history.back()</code></td>
<td align="center">后退一页</td>
</tr>
</tbody></table>
<h1 id="JS高级总结"><a href="#JS高级总结" class="headerlink" title="JS高级总结"></a>JS高级总结</h1><h2 id="1-IIFE"><a href="#1-IIFE" class="headerlink" title="1. IIFE"></a>1. IIFE</h2><p>概述：自运行匿名函数，该函数在值创建后就会自动运行，不需要调用也无法调用，生命周期只有一次。</p>
<p>特点：函数执行完毕后就会销毁，不会污染区全局。只执行一次。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params">a</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">    &#125;)(<span class="string">&#x27;自运行函数&#x27;</span>) <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<h2 id="2-递归函数"><a href="#2-递归函数" class="headerlink" title="2. 递归函数"></a>2. 递归函数</h2><p>概述：在函数内部通过名字调用自己本身的一种场景。满足一定的条件就必须停止函数的调用，否则容易陷入死循环。</p>
<p>应用：阶乘，树形菜单，省市区级联选择</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 递归从 1 成到 10  </span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">add</span> (n) &#123;</span><br><span class="line">      <span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> n * <span class="title function_">add</span>(n - <span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> a = <span class="title function_">add</span>(<span class="number">10</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 3628800</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 相当于 return 10*9*8*7*6*5*4*3*2*1</span></span><br></pre></td></tr></table></figure>

<h2 id="3-惰性载入"><a href="#3-惰性载入" class="headerlink" title="3. 惰性载入"></a>3. 惰性载入</h2><p>概述：主要用来减少代码每次执行时的重复性分支判断，通过对对象的重新定义来屏蔽原来的对象的分支判断。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> event = &#123;</span><br><span class="line">      <span class="attr">on</span>: <span class="keyword">function</span> (<span class="params">dom, type, fn</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;先判断浏览器&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">addEventListener</span>) &#123; <span class="comment">// 现代浏览器</span></span><br><span class="line">          <span class="comment">// 判断浏览器后就应该重写 event.on</span></span><br><span class="line">          event.<span class="property">on</span> = <span class="keyword">function</span> (<span class="params">dom, type, fn</span>) &#123;</span><br><span class="line">            dom.<span class="title function_">addEventListener</span>(type, fn, <span class="literal">false</span>)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">attachEvent</span>) &#123; <span class="comment">// 高版本IE</span></span><br><span class="line">          event.<span class="property">on</span> = <span class="keyword">function</span> (<span class="params">dom, type, fn</span>) &#123;</span><br><span class="line">            dom.<span class="title function_">attachEvent</span>(<span class="string">&#x27;on&#x27;</span> + type, fn)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123; <span class="comment">// 兼容所有写法</span></span><br><span class="line">          event.<span class="property">on</span> = <span class="keyword">function</span> (<span class="params">dom, type, fn</span>) &#123;</span><br><span class="line">            dom[<span class="string">&#x27;on&#x27;</span> + type] = fn</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 保证首次调用能正常监听</span></span><br><span class="line">        <span class="keyword">return</span> event.<span class="title function_">on</span>(dom, type, fn)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加事件</span></span><br><span class="line">    event.<span class="title function_">on</span>(btn1, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;btn1被点击了&#x27;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    event.<span class="title function_">on</span>(btn2, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;btn2被点击了&#x27;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    event.<span class="title function_">on</span>(btn3, <span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;btn3被点击了&#x27;</span>);</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<h2 id="4-作用域"><a href="#4-作用域" class="headerlink" title="4. 作用域"></a>4. 作用域</h2><p>变量和函数所在的作用范围，离开这个范围就无法使用。</p>
<p><strong>JS执行环境</strong>：</p>
<p>执行环境也成为执行上下文，在程序运行的时候，会生成一个管理函数和变量的对象，他决定了变量和函数的生命周期，以及访问其他数据的权限。</p>
<p><strong>全局执行环境</strong>：</p>
<p>最外围的执行环境，任何不在函数中的代码都在全局只想上下文中、</p>
<p><strong>函数执行环境</strong></p>
<p>每当一个函数被调用的时候，都会为该函数创建一个全新的上下文环境并推入执行栈中，在代码执行完毕后，将该环境弹出（即销毁）。</p>
<p>根据执行环境划分作用域</p>
<ul>
<li>全局作用域：在函数外部分代码，在任意地方都可以使用</li>
<li>函数作用域：只有在函数被定义是才会创建，饱汉子啊父级函数作用域&#x2F;全局作用域内</li>
<li>块级作用域：&#96;&#96;ES6<code>可以通过 </code>let<code> 、</code>const&#96; 关键字声明变量，就有可能形成块级作用域。</li>
</ul>
<p>由于作用域的限制，每段独立的执行代码块只能访问自己作用域和外层作用域中的变量，无法访问内层作用域的变量。</p>
<p><code>作用域链</code>：当可执行代码内部访问变量时，会先查找本地作用域，如果找到目标变量及返回，否则会去父级作用域继续查找。。。一直找到全局作用域。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">3</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span> () &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 3</span></span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">4</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>() <span class="comment">// 执行完成函数被销毁</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// not defined </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">3</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span> () &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 3</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 初始化前无法访问</span></span><br><span class="line">    <span class="keyword">let</span> b = <span class="number">4</span> <span class="comment">// 不会进行预解析 变量提升</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="title function_">fn</span>() <span class="comment">// 执行完成函数被销毁</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// not defined</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i); <span class="comment">// 0 1 2 3 4 </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i); <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(j, <span class="string">&#x27;内部&#x27;</span>); <span class="comment">// 0 1 2 3 4 </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(j, <span class="string">&#x27;外部&#x27;</span>); <span class="comment">// not defined</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 作用域链</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">5</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span> () &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 5</span></span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">3</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">bar</span> () &#123;</span><br><span class="line">        <span class="keyword">var</span> b = <span class="number">2</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 2</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">bar</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">foo</span>()</span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br></pre></td></tr></table></figure>

<h2 id="5-闭包-计算属性"><a href="#5-闭包-计算属性" class="headerlink" title="5. 闭包(计算属性)"></a>5. 闭包(计算属性)</h2><p>概述：闭包是指嵌套在一个函数内部中的函数。一般情况下函数内可以访问函数外的变量，但是函数外无法访问函数内的变量，但是通过必报这个手段就可以在函数外访问函数内部的变量。</p>
<p><code>特点</code>：</p>
<ul>
<li>函数嵌套函数</li>
<li>内层函数访问了外层函数的局部变量，导致该变量常驻内存</li>
<li>将内部函数暴露出去(return或者window)，实现函数外访问函数内的变量</li>
</ul>
<p><code>作用</code>：</p>
<ul>
<li>延长变量的生命周期</li>
<li>创建私有变量</li>
</ul>
<p><code>问题</code>：</p>
<p>一般函数运行结束后，内部产生的函数和变量都会被释放，所以每次运行函数都是全新的。</p>
<p>但是由于使用闭包后，会导致函数中部分的变量保留到内存中，会增加内存的消耗，所以闭包不能乱用。</p>
<p>实现手段：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// window暴露在全局</span></span><br><span class="line">    (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> a = <span class="number">100</span> <span class="comment">// 外层函数的局部变量</span></span><br><span class="line"></span><br><span class="line">      <span class="variable language_">window</span>.<span class="property">getA</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">window</span>.<span class="property">addA</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        a++</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)()</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getA</span>()); <span class="comment">// 100</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// return 暴露在全局</span></span><br><span class="line">    <span class="keyword">const</span> game = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> a = <span class="number">100</span> <span class="comment">// 外层函数的局部变量</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;)()</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">game</span>()); <span class="comment">// 100</span></span><br></pre></td></tr></table></figure>

<h3 id="5-1-封装一个缓存工具"><a href="#5-1-封装一个缓存工具" class="headerlink" title="5.1 封装一个缓存工具"></a>5.1 封装一个缓存工具</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createCache</span> () &#123;</span><br><span class="line">    <span class="keyword">const</span> data = &#123;&#125; <span class="comment">// 局部变量，外部无法访问</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        set (key,val) &#123;</span><br><span class="line">            data[key] = val</span><br><span class="line">        &#125;,</span><br><span class="line">        get (key) &#123;</span><br><span class="line">            <span class="keyword">return</span> data[key]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> cache = <span class="title function_">createCache</span>()</span><br><span class="line">cache.<span class="title function_">set</span>(<span class="string">&#x27;token&#x27;</span>,<span class="string">&#x27;qwer&#x27;</span>)  <span class="comment">// qwer</span></span><br><span class="line">cache.<span class="title function_">set</span>(<span class="string">&#x27;user&#x27;</span>,<span class="string">&#x27;admin&#x27;</span>) <span class="comment">// admin</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(data) not defined</span><br></pre></td></tr></table></figure>

<h3 id="5-2-计算属性-简易原理"><a href="#5-2-计算属性-简易原理" class="headerlink" title="5.2 计算属性 简易原理"></a>5.2 计算属性 简易原理</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 实现一个首字母大写</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">toUpper</span> (str) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;计算过程复杂&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> str.<span class="title function_">charAt</span>(<span class="number">0</span>).<span class="title function_">toUpperCase</span>() + str.<span class="title function_">substr</span>(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 缓存函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">cached</span> (fn) &#123;</span><br><span class="line">    <span class="keyword">const</span> cache = &#123;&#125; <span class="comment">// 缓存数据</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">str</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> hit = cache[str] <span class="comment">// 从缓存中取出数据</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 如果该字符串第一次执行，那么执行 cache[str] = fn(str)</span></span><br><span class="line">        <span class="keyword">return</span> hit || (cache[str] = <span class="title function_">fn</span>(str))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用缓存函数</span></span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">cached</span>(toUpper)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(result); <span class="comment">// function</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">result</span>(<span class="string">&#x27;helloWord&#x27;</span>)); <span class="comment">// HelloWord</span></span><br><span class="line"><span class="title function_">result</span>(<span class="string">&#x27;helloWord&#x27;</span>)</span><br><span class="line"><span class="title function_">result</span>(<span class="string">&#x27;helloWord&#x27;</span>)</span><br><span class="line"><span class="title function_">result</span>(<span class="string">&#x27;helloWord&#x27;</span>)</span><br><span class="line"><span class="title function_">result</span>(<span class="string">&#x27;helloWord&#x27;</span>)</span><br><span class="line"><span class="title function_">result</span>(<span class="string">&#x27;helloWord&#x27;</span>) <span class="comment">// 只打印一次 计算过程复杂</span></span><br></pre></td></tr></table></figure>

<h3 id="5-3-任务队列"><a href="#5-3-任务队列" class="headerlink" title="5.3 任务队列"></a>5.3 任务队列</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 所有的任务都必须排队，先进先出，即必须等到上一个任务完成，才能开始下一个任务</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">queue</span> () &#123;</span><br><span class="line">    <span class="keyword">const</span> awaiting = [] <span class="comment">// 任务队列</span></span><br><span class="line">    <span class="keyword">let</span> isRunning = <span class="literal">false</span> <span class="comment">// 当亲是否有任务正在执行</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">done</span> (task, resolve, reject) &#123;</span><br><span class="line">        <span class="title function_">task</span>()</span><br><span class="line">            .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123; <span class="comment">// 成功</span></span><br><span class="line">            <span class="title function_">resolve</span>(res)</span><br><span class="line">        &#125;)</span><br><span class="line">            .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123; <span class="comment">// 失败</span></span><br><span class="line">            <span class="title function_">reject</span>(err)</span><br><span class="line">        &#125;)</span><br><span class="line">            .<span class="title function_">finally</span>(<span class="function">() =&gt;</span> &#123; <span class="comment">// 最终</span></span><br><span class="line">            <span class="comment">// 等待任务队列,如果队列中有任务则触发，否则设置 isRunning 为false ，表示任务处理完毕 </span></span><br><span class="line">            <span class="keyword">if</span> (awaiting.<span class="property">length</span>) &#123;</span><br><span class="line">                <span class="keyword">const</span> next = awaiting.<span class="title function_">shift</span>() <span class="comment">// 最开始进入数组的元素，肯定排在最前面</span></span><br><span class="line">                <span class="title function_">done</span>(next.<span class="property">task</span>, next.<span class="property">resolve</span>, next.<span class="property">reject</span>)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                isRunning = <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">task</span>) &#123; <span class="comment">// 接受task作为参数</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (isRunning) &#123;</span><br><span class="line">                awaiting.<span class="title function_">push</span>(&#123; task, resolve, reject &#125;)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                isRunning = <span class="literal">true</span></span><br><span class="line">                <span class="title function_">done</span>(task, resolve, reject) <span class="comment">// 执行任务</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 任务1</span></span><br><span class="line"><span class="keyword">const</span> task1 = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;task1&#x27;</span>)</span><br><span class="line">        &#125;, <span class="number">3000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 任务2</span></span><br><span class="line"><span class="keyword">const</span> task2 = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;task2&#x27;</span>)</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 任务3</span></span><br><span class="line"><span class="keyword">const</span> task3 = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&#x27;task3&#x27;</span>)</span><br><span class="line">        &#125;, <span class="number">0</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myQueue = <span class="title function_">queue</span>()</span><br><span class="line"><span class="comment">// 先完成任务1，在完成任务2</span></span><br><span class="line"><span class="title function_">myQueue</span>(task1).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(res))</span><br><span class="line"><span class="title function_">myQueue</span>(task2).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(res))</span><br><span class="line"><span class="title function_">myQueue</span>(task3).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(res))</span><br></pre></td></tr></table></figure>



<h3 id="5-4-闭包案例"><a href="#5-4-闭包案例" class="headerlink" title="5.4 闭包案例"></a>5.4 闭包案例</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span> (i) &#123;</span><br><span class="line">    <span class="keyword">var</span> i;</span><br><span class="line">    <span class="title function_">alert</span>(i);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">a</span>(<span class="number">10</span>); <span class="comment">// 弹框10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span> (i) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(i); <span class="comment">// 弹框10</span></span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">arguments</span>[<span class="number">0</span>]); <span class="comment">// 弹框10</span></span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">2</span>;</span><br><span class="line">    <span class="title function_">alert</span>(i); <span class="comment">// 弹框2</span></span><br><span class="line">    <span class="title function_">alert</span>(<span class="variable language_">arguments</span>[<span class="number">0</span>]); <span class="comment">// 弹框2</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">a</span>(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. </span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span> () &#123;</span><br><span class="line">    <span class="title function_">alert</span>(i); <span class="comment">// 弹框undefined</span></span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">2</span>;</span><br><span class="line">    <span class="title function_">alert</span>(i); <span class="comment">// 弹框2</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">a</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. </span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">a</span> () &#123;</span><br><span class="line">    <span class="title function_">alert</span>(i); <span class="comment">// 弹框10</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">b</span> () &#123;</span><br><span class="line">        <span class="keyword">var</span> i = <span class="number">2</span>;</span><br><span class="line">        <span class="title function_">alert</span>(i); <span class="comment">// 弹框2</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">b</span>();</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">a</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 5. </span></span><br><span class="line"><span class="keyword">var</span> scope = <span class="string">&quot;global scope&quot;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkscope</span> () &#123;</span><br><span class="line">    <span class="keyword">var</span> scope = <span class="string">&quot;local scope&quot;</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">f</span> () &#123;</span><br><span class="line">        <span class="keyword">return</span> scope;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">f</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">checkscope</span>(); <span class="comment">// local scope</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkscope2</span> () &#123;</span><br><span class="line">    <span class="keyword">var</span> scope = <span class="string">&quot;local scope&quot;</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">f</span> () &#123;</span><br><span class="line">        <span class="keyword">return</span> scope;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">checkscope2</span>()(); <span class="comment">// local scope</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 6. </span></span><br><span class="line"><span class="keyword">var</span> uniqueInteger = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> counter = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> counter++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;());</span><br><span class="line"><span class="title function_">uniqueInteger</span>(); <span class="comment">// 0 先返回再+1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">counter</span> () &#123;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">count</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="keyword">return</span> n++ &#125;,</span><br><span class="line">        <span class="attr">reset</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; n = <span class="number">0</span>; &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> c = <span class="title function_">counter</span>();</span><br><span class="line"><span class="keyword">var</span> d = <span class="title function_">counter</span>();</span><br><span class="line">c.<span class="title function_">count</span>(); <span class="comment">// 0</span></span><br><span class="line">d.<span class="title function_">count</span>(); <span class="comment">// 0</span></span><br><span class="line">c.<span class="title function_">reset</span>(); <span class="comment">// undefined</span></span><br><span class="line">c.<span class="title function_">count</span>(); <span class="comment">// 0</span></span><br><span class="line">d.<span class="title function_">count</span>(); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 7. </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">constfunc</span> (v) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> v;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> funcs = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    funcs[i] = <span class="title function_">constfunc</span>(i);</span><br><span class="line">&#125;</span><br><span class="line">funcs[<span class="number">5</span>]();<span class="comment">//值是多少？// 5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">constfunc</span> () &#123;</span><br><span class="line">    <span class="keyword">var</span> funcs = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">        funcs[i] = <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="keyword">return</span> i; &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> funcs;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> funcs = <span class="title function_">constfunc</span>();</span><br><span class="line">funcs[<span class="number">5</span>]();<span class="comment">// 值是多少？// 10 全局环境为10</span></span><br></pre></td></tr></table></figure>



<h2 id="6-内存泄漏"><a href="#6-内存泄漏" class="headerlink" title="6. 内存泄漏"></a>6. 内存泄漏</h2><p><code>概述</code>：<code>JS</code>创建变量时会给变量分配内存，对于不再使用的变量没有及时释放，会导致内存占用越来越高，有时候会导致进程崩溃。(全局变量、闭包、DOM元素的引用、定时器)</p>
<p><code>原因</code>：内存泄漏是指我们无法通过JS访问某个对象，而垃圾回收机制却认为该对象还在被引用，因此垃圾回收机制不会释放该对象，导致该块内存永远无法使用，积少成多，系统会越来越卡以至于崩溃。</p>
<p><code>解决</code>：避免使用全局变量，手动删除定时器和DOM、<code>removeEventListener</code>移除事件监听。</p>
<h2 id="7-垃圾回收机制"><a href="#7-垃圾回收机制" class="headerlink" title="7. 垃圾回收机制"></a>7. 垃圾回收机制</h2><p><code>概述</code>：当浏览器中不再使用的变量，浏览器就会自动将他们回收，这个过程成为垃圾回收。</p>
<p><code>标记清除法</code>：垃圾回收机制获取根节点并标记他们，然后访问并标记所有来自它们的引用，然后在访问这些对象并标记它们的引用…如此递进结束后若发现有没有标记的（不可达的）进行删除，进入执行环境的不能进行删除</p>
<p><code>引用计数法</code>：当声明一个变量并赋值时，值+1，当该值被取代时-1，为0时进行删除。</p>
<h2 id="8-浅拷贝和深拷贝"><a href="#8-浅拷贝和深拷贝" class="headerlink" title="8. 浅拷贝和深拷贝"></a>8. 浅拷贝和深拷贝</h2><p><code>浅拷贝</code>：只会拷贝第一层，若第一层的属性还是对象或者数组，也是直接拷贝地址。改变新数据会使原数据也跟着改变。</p>
<p><code>方法</code>：<code>扩展运算符... </code> <code>Object.assign()</code>  <code>Array.map()</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;jack&#x27;</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;john&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123; ...obj1 &#125;</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="keyword">var</span> obj <span class="number">2</span> = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;,obj1)\</span><br><span class="line"></span><br><span class="line">obj1.<span class="property">age</span> = <span class="number">18</span></span><br><span class="line">obj1.<span class="property">children</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;lily&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1, obj2); </span><br></pre></td></tr></table></figure>

<p><code>深拷贝</code>：在内存中重新开辟一块空间，将原数据拷贝一份存入，与原数据无关联。</p>
<p><code>方法</code>:<code>JSON.parse(JSON.stringify())</code> <code>lodash</code>的<code>_.cloneDeep()</code>  <code>递归遍历</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;jack&#x27;</span>,</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;john&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj2 = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj1)) <span class="comment">// 无法拷贝undefined,方法</span></span><br><span class="line">obj1.<span class="property">age</span> = <span class="number">18</span></span><br><span class="line">obj1.<span class="property">children</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;lily&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1, obj2);</span><br></pre></td></tr></table></figure>

<h2 id="9-堆和栈"><a href="#9-堆和栈" class="headerlink" title="9. 堆和栈"></a>9. 堆和栈</h2><p><code>概述</code>：堆和栈都是运行时内存分配的一个数据区域，两者都是临时存放数据的地方。</p>
<p><code>基本数据类型</code>：所有的值都保存在内存中，访问的方式是按值访问。</p>
<p>基本数据类型的值被复制的时候，会在栈中创建一个新值，然后把值复制到新变量分配的位置上，两个值互不影响。</p>
<p><code>引用数据类型</code>：引用数据类型的值是保存在堆内存中的，变量中保存的是一个指针，该指针放在栈中，直接复制的时候，两者互相影响。</p>
<h2 id="10-面向对象"><a href="#10-面向对象" class="headerlink" title="10. 面向对象"></a>10. 面向对象</h2><p>面向过程：以过程为中心</p>
<p>面向对象：以事物为中心</p>
<p>方法过载：在构造函数直接创建的方法，在实例化所有的对象都会拥有一个独立的方法，不同的对象的同一个方法在不同的对空间中，导致浪费内存。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方式一</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="title class_">Object</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式二</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;jack&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式三 工厂函数</span></span><br><span class="line"><span class="comment">// 每次调用工厂函数都会在内部创建一个对昂，每一个对象都是一个全新的对象，各个对象之间没有任何的关系</span></span><br><span class="line"><span class="keyword">function</span> stu（name,age) &#123;</span><br><span class="line">    <span class="keyword">let</span> obj = &#123;&#125;</span><br><span class="line">    obj.<span class="property">name</span> = name</span><br><span class="line">    obj.<span class="property">age</span> = age</span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> s1 = <span class="title function_">stu</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方式四 构造函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Stu</span> (name,age) &#123;</span><br><span class="line">    <span class="comment">// 隐藏代码：let obj = &#123;&#125;</span></span><br><span class="line">    <span class="comment">// 隐藏代码：this = obj</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">sayHi</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// return this</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> s1 = <span class="keyword">new</span> <span class="title class_">Stu</span>(<span class="string">&#x27;jack&#x27;</span>,<span class="number">18</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 原型</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Stu</span> (name,age) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Stu</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayHi</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hi&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> s1 = <span class="keyword">new</span> <span class="title class_">Stu</span>(<span class="string">&#x27;jack&#x27;</span>,<span class="number">18</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="10-1-封装"><a href="#10-1-封装" class="headerlink" title="10.1 封装"></a>10.1 封装</h3><p>概述：通过封装可以实现隐藏对象内部实现的细节，然后对外提供一致的接口</p>
<p>意义：1. 将不需要公开的数据进行私有化处理，外部就无法直接访问</p>
<pre><code>      2. 可以提供一些特权方法对属性进行访问或者处理
</code></pre>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> _age = <span class="title class_">Symbol</span>()</span><br><span class="line">    <span class="keyword">var</span> _name = <span class="title class_">Symbol</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造函数，ES5的类</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">User</span> (name, age, sex) &#123;</span><br><span class="line">        <span class="variable language_">this</span>[_name] = name <span class="comment">// 私有属性 Symbol()独一无二</span></span><br><span class="line">        <span class="variable language_">this</span>[_age] = age</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">sex</span> = sex</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">getName</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> _name</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">setName</span> = <span class="keyword">function</span> (<span class="params">newName</span>) &#123;</span><br><span class="line">            _name = newName</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title class_">User</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getAge</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">sex</span> === <span class="string">&#x27;女&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;保密&#x27;</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>[_age]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 静态属性</span></span><br><span class="line">    <span class="title class_">User</span>.<span class="property">version</span> = <span class="string">&#x27;1.0.0&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 暴露</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">User</span> = <span class="title class_">User</span></span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> u1 = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;jack&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;女&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> u2 = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;chou&#x27;</span>, <span class="number">38</span>, <span class="string">&#x27;男&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(u1.<span class="title function_">getAge</span>()); <span class="comment">// 保密</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(u2.<span class="title function_">getAge</span>()); <span class="comment">// 38</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(u2.<span class="property">name</span>); <span class="comment">// undefined</span></span><br><span class="line">u2.<span class="title function_">setName</span>(<span class="string">&#x27;曹操&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(u2.<span class="title function_">getName</span>()); <span class="comment">// 曹操</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(u1);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="10-2-继承"><a href="#10-2-继承" class="headerlink" title="10.2 继承"></a>10.2 继承</h3><p>概述：将多个构造函数中的类似代码提取出来，从而减少冗余代码的目的</p>
<p>意义：1. 子类实例化的对象必须拥有弗雷所有的属性和方法</p>
<p>​		  2. 子类实例化的对象也要属于父类</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父级构造函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Father</span> (name, age) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Father</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayHi</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27;hi&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 构造函数继承   会独享所有属性，包括引用属性（重点是函数）</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span> (name, age, className) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">className</span> = className</span><br><span class="line"></span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">// 实例化</span></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&#x27;李白&#x27;</span>, <span class="number">18</span>)</span><br><span class="line">s1.<span class="title function_">sayHi</span>() <span class="comment">// not a function</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1.<span class="property">name</span>); 李白</span><br><span class="line">    </span><br><span class="line"> <span class="comment">//2.  原型继承  类的实例共享了父类构造函数的引用属性 </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span> (name, age, className) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">className</span> = className</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Father</span>()</span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Son</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 实例化</span></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&#x27;李白&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;高三1班&#x27;</span>)</span><br><span class="line">s1.<span class="title function_">sayHi</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1); </span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 组合式继承  调用了两次父类的构造函数，造成了不必要的消耗，父类方法可以复用</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span> (name, age, className) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">className</span> = className</span><br><span class="line">    <span class="comment">// 第一步、更改this指向 实现继承父类所有的属性和方法</span></span><br><span class="line">    <span class="title class_">Father</span>.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二步、继承父类原型上的属性和方法</span></span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Father</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第三步、找回子类的构造函数</span></span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Son</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 实例化</span></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&#x27;李白&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;高三1班&#x27;</span>)</span><br><span class="line">s1.<span class="title function_">sayHi</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 寄生组合继承</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span> (name, age, course) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">course</span> = course</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 第一步 子类继承父类的所有的属性和方法</span></span><br><span class="line">    <span class="title class_">Father</span>.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二步 子类继承父类原型方法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">inheritance</span> (<span class="title class_">Child</span>, <span class="title class_">Father</span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">F</span> () &#123; &#125;</span><br><span class="line">    F.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Father</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line">    <span class="title class_">Child</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title function_">F</span>() <span class="comment">// F 是空函数 几乎不占据内存</span></span><br><span class="line">    <span class="title class_">Child</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Child</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">inheritance</span>(<span class="title class_">Son</span>, <span class="title class_">Father</span>) <span class="comment">// 调用后实现继承</span></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&#x27;jack&#x27;</span>, <span class="number">18</span>, <span class="string">&#x27;js&#x27;</span>)</span><br><span class="line">s1.<span class="title function_">sayHi</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 5. class 继承</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123; <span class="comment">// 子类继承父类</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, age, className</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(name, age) <span class="comment">// 子类构造必须调用 super , 理解为父类的构造函数</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">className</span> = className</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&#x27;lucy&#x27;</span>, <span class="number">12</span>, <span class="string">&#x27;三年级一班&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1);</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vue</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">            <span class="attr">msg</span>: <span class="string">&#x27;hi&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    get fn () &#123; <span class="comment">// 当访问实例的fn属性时，会触发该方法，必须设置返回值</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">msg</span></span><br><span class="line">    &#125;</span><br><span class="line">    set fn (newVal) &#123; <span class="comment">// 当修改实例的fn属性时，就会触发该方法</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">msg</span> = newVal</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vue = <span class="keyword">new</span> <span class="title class_">Vue</span>()</span><br><span class="line">vue.<span class="property">fn</span> = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(vue.<span class="property">fn</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="10-3-多态"><a href="#10-3-多态" class="headerlink" title="10.3 多态"></a>10.3 多态</h3><p>概述：方法可以根据传递的参数类型、参数个数等进行区别，然后返回不同的结果</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 多态</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Father</span> () &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">show</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;这是父级&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span> () &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">show</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;这是子级&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">input</span> (obj) &#123;</span><br><span class="line">    obj.<span class="title function_">show</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">input</span>(<span class="keyword">new</span> <span class="title class_">Father</span>)</span><br><span class="line"><span class="title function_">input</span>(<span class="keyword">new</span> <span class="title class_">Son</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="11-New关键字"><a href="#11-New关键字" class="headerlink" title="11. New关键字"></a>11. New关键字</h2><ul>
<li>自动创建了一个空对象</li>
<li>修改函数的上下文为空对象，其函数内部的 this 表示该空对象</li>
<li>执行函数体，为该对象添加属性及方法</li>
<li>如果没有返回其他对象，name会自动返回创建的空对象</li>
</ul>
<h2 id="12-原型"><a href="#12-原型" class="headerlink" title="12. 原型"></a>12. 原型</h2><p>概述：在<code>JS</code>中，每一个函数都有一个<code>prototype</code>属性，这个属性其实也是一个指针(地址)，会指向函数的原型对象，原型队形上所有的属性和方法都可以被实例共享。</p>
<p>作用：解决方法过载的问题，对类的功能进行扩展。</p>
<p><code>__proto___</code>：每一个实例对象都有一个该属性，会指向它的构造函数的源相对向上。</p>
<p><code>constructor</code>：每一个原型对象都有一个<code>constructor</code>属性，该属性指向构造函数</p>
<h3 id="12-1-原型链"><a href="#12-1-原型链" class="headerlink" title="12.1 原型链"></a>12.1 原型链</h3><p>概述：当访问对象属性的时候，如果对象本身不存在该属性，那么就会在原型对象上查找该属性，如果原型对象上也没有，就会在原型对象的原型上查找，如此循环，指导找到该属性或者达到顶级。对象查找属性的过程所经过的过程构成一个链条，称为原型链。</p>
<h2 id="13-this"><a href="#13-this" class="headerlink" title="13. this"></a>13. this</h2><h3 id="13-1-概述"><a href="#13-1-概述" class="headerlink" title="13.1 概述"></a>13.1 概述</h3><p>在函数被调用时，会创建一个活动记录(执行上下文)，这个记录会包含函数在哪里调用(调用栈)。函数调用的名字、函数参数等信息，而this就是这个上下文中的一个属性，会在函数执行的过程中用到，在非严格模式下总是会指向一个对象，严格模式下可以是任意值。他指向最后调用他的对象。</p>
<h3 id="13-2-this指向"><a href="#13-2-this指向" class="headerlink" title="13.2 this指向"></a>13.2 this指向</h3><h4 id="1-默认绑定"><a href="#1-默认绑定" class="headerlink" title="1. 默认绑定"></a>1. 默认绑定</h4><p>在严格模式下绑定到<code>undefined</code>，非严格模式下绑定到全局对象<code>window</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="comment">// &#x27;use strict&#x27;; // 严格模式</span></span><br><span class="line"><span class="variable language_">console</span>,<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// window</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">foo</span>() <span class="comment">// foo 函数调用者是window</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="2-隐式绑定"><a href="#2-隐式绑定" class="headerlink" title="2. 隐式绑定"></a>2. 隐式绑定</h4><p>当函数引用有上下文对象时，则会把函数中的<code>this</code>绑定到这个上下文对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">	<span class="attr">name</span>:<span class="string">&#x27;jack&#x27;</span>,</span><br><span class="line">	<span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="title function_">sayHi</span>() <span class="comment">// obj</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-构造函数的this"><a href="#3-构造函数的this" class="headerlink" title="3. 构造函数的this"></a>3. 构造函数的this</h3><p>当函数通过<code>new</code>关键字调用，函数内部的<code>this</code>指向新创建的对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Student</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="title class_">Student</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayHi</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> s = <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">      <span class="comment">// s.name</span></span><br><span class="line">      <span class="comment">// s.sayHi()</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="4-显示绑定"><a href="#4-显示绑定" class="headerlink" title="4. 显示绑定"></a>4. 显示绑定</h3><p>使用<code>call</code>、<code>bind</code>、<code>apply</code>来指定<code>this</code>指向。</p>
<h4 id="4-1-fn-calll-obj-参数1，参数2，"><a href="#4-1-fn-calll-obj-参数1，参数2，" class="headerlink" title="4.1 fn.calll(obj,参数1，参数2，...)"></a>4.1 <code>fn.calll(obj,参数1，参数2，...)</code></h4><p>将<code>fn</code>中的<code>this</code>指向<code>call</code>的第一个参数。</p>
<ul>
<li><p>会立即执行一次<code>fn</code>方法</p>
</li>
<li><p><code>fn</code>中的<code>this</code>临时性修改为<code>obj</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;周瑜&#x27;</span>,</span><br><span class="line">      <span class="title function_">phone</span>(<span class="params">h</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27;给小乔打&#x27;</span> + h + <span class="string">&#x27;个小时的电话&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// p1.phone();</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> p2 = &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;曹操&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    p1.<span class="property">phone</span>.<span class="title function_">call</span>(p2, <span class="number">10</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="4-2-fn-apply-obj-参数1，参数2，参数3"><a href="#4-2-fn-apply-obj-参数1，参数2，参数3" class="headerlink" title="4.2 fn.apply(obj,[参数1，参数2，参数3...])"></a>4.2 <code>fn.apply(obj,[参数1，参数2，参数3...])</code></h4><p>作用与call完全相同，只是传递参数的方式发生改变。</p>
<h4 id="4-3-fn-bind-obj-参数1"><a href="#4-3-fn-bind-obj-参数1" class="headerlink" title="4.3 fn.bind(obj,参数1)"></a>4.3 <code>fn.bind(obj,参数1)</code></h4><p>永久性的修改函数中<code>this</code>的指向，一般用在回调函数中。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p2 = &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;曹操&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> p1 = &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;周瑜&#x27;</span>,</span><br><span class="line">      <span class="title function_">phone</span>(<span class="params">h</span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27;给小乔打&#x27;</span> + h + <span class="string">&#x27;个小时的电话&#x27;</span>);</span><br><span class="line">        &#125;.<span class="title function_">bind</span>(p2), <span class="number">0</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    p1.<span class="title function_">phone</span>(<span class="number">1</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="4-4-总结"><a href="#4-4-总结" class="headerlink" title="4.4 总结"></a>4.4 总结</h4><ul>
<li>call、apply都是立即执行一次</li>
<li>bind被动执行</li>
<li>bind会永久性修改this指向</li>
<li>call和apply的区别在于 参数传递</li>
</ul>
<h3 id="5-箭头函数"><a href="#5-箭头函数" class="headerlink" title="5. 箭头函数"></a>5. 箭头函数</h3><p>箭头函数没有<code>this</code>的绑定，只能通过箭头函数所在的作用域来决定他的值，所以箭头函数中的<code>this</code>始终指向你定义函数时<code>this</code>的指向。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;章三&#x27;</span>,</span><br><span class="line">      <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">        &#125;, <span class="number">0</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    obj.<span class="title function_">sayHi</span>();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="14-JS的设计模式（原理）"><a href="#14-JS的设计模式（原理）" class="headerlink" title="14. JS的设计模式（原理）"></a>14. JS的设计模式（原理）</h2><h3 id="14-1-简单工厂模式"><a href="#14-1-简单工厂模式" class="headerlink" title="14.1 简单工厂模式"></a>14.1 简单工厂模式</h3><p>概述：为了解决多个类似对象声明的问题</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">UserFactory</span> (role) &#123;</span><br><span class="line">     <span class="keyword">if</span>(<span class="variable language_">this</span> <span class="keyword">instanceof</span> <span class="title class_">UserFactory</span>) &#123; <span class="comment">// 判断是否使用new关键词进行调用</span></span><br><span class="line">     <span class="keyword">if</span>(!<span class="variable language_">this</span>[role]) &#123; <span class="comment">// 参数传递是否正确</span></span><br><span class="line">     <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Erroe</span>(<span class="string">&#x27;参数错误，可选参数为 SuperAdmin,Admin,User&#x27;</span>)</span><br><span class="line">     	&#125;</span><br><span class="line">         <span class="keyword">return</span> <span class="keyword">new</span> <span class="variable language_">this</span>[role]()</span><br><span class="line">     &#125;<span class="keyword">else</span> &#123; <span class="comment">// 判断没有使用 new 关键字 那就重新 new 本身</span></span><br><span class="line">     	<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">UserFactory</span>(role)</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">UserFactory</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">SuperAdmin</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;超级管理员&#x27;</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">viewPage</span> = [<span class="string">&#x27;首页&#x27;</span>, <span class="string">&#x27;权限&#x27;</span>, <span class="string">&#x27;应用数据&#x27;</span>, <span class="string">&#x27;学生管理&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title class_">UserFactory</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">Admin</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;管理员&#x27;</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">viewPage</span> = [<span class="string">&#x27;首页&#x27;</span>, <span class="string">&#x27;应用数据&#x27;</span>, <span class="string">&#x27;学生管理&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title class_">UserFactory</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">User</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;用户&#x27;</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">viewPage</span> = [<span class="string">&#x27;首页&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 调用方式</span></span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">UserFactory</span>(<span class="string">&#x27;Admin&#x27;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">    <span class="keyword">var</span> b = <span class="title class_">UserFactory</span>(<span class="string">&#x27;Admin&#x27;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br></pre></td></tr></table></figure>

<h3 id="14-2-单例模式-vuex-modal"><a href="#14-2-单例模式-vuex-modal" class="headerlink" title="14.2 单例模式(vuex,modal)"></a>14.2 单例模式(vuex,modal)</h3><p>概述：在某些情况下，一些对象只需要一个实例，而不能创建很多个，比如全局缓存、模态框、store，如果实例已经创建，则直接返回。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 单例 只允许一个实例对象</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">SingLeton</span> = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> instance</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (instance) &#123;</span><br><span class="line">            <span class="keyword">return</span> instance</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">modal</span>()</span><br><span class="line">        <span class="keyword">return</span> instance = <span class="variable language_">this</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 单例1 - 生成模态框</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">modal</span> () &#123;</span><br><span class="line">      <span class="keyword">var</span> div = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">      div.<span class="property">style</span>.<span class="property">width</span> = <span class="string">&#x27;300px&#x27;</span></span><br><span class="line">      div.<span class="property">style</span>.<span class="property">height</span> = <span class="string">&#x27;150px&#x27;</span></span><br><span class="line">      div.<span class="property">style</span>.<span class="property">backgroundColor</span> = <span class="string">&#x27;#ccc&#x27;</span></span><br><span class="line">      <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(div)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> btn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn&#x27;</span>)</span><br><span class="line">    btn.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">SingLeton</span>()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 单例2 - 全局数据存储对象 vuex的实现</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Store</span> (state) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123; ...state &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">setState</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">getState</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> createStore = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> instance</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">state</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!(<span class="variable language_">this</span> <span class="keyword">instanceof</span> createStore)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title function_">createStore</span>(state)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (instance) &#123;</span><br><span class="line">            <span class="keyword">return</span> instance</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance = <span class="keyword">new</span> <span class="title class_">Store</span>(state)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="title function_">createStore</span>(&#123;</span><br><span class="line">    <span class="attr">num</span>: <span class="number">0</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">const</span> store1 = <span class="keyword">new</span> <span class="title function_">createStore</span>(&#123;</span><br><span class="line">    <span class="attr">msg</span>: <span class="string">&#x27;hi&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(store);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(store1);</span><br></pre></td></tr></table></figure>

<h3 id="14-3-策略模式-element表单验证"><a href="#14-3-策略模式-element表单验证" class="headerlink" title="14.3 策略模式(element表单验证)"></a>14.3 策略模式(element表单验证)</h3><p>概述：定义了一系列的算法，把它们封装起来，并且是他们可以相互的替换。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 案例一-返回今天星期几</span></span><br><span class="line"><span class="keyword">var</span> w = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getDay</span>()</span><br><span class="line"><span class="keyword">var</span> week = [<span class="string">&#x27;星期天&#x27;</span>, <span class="string">&#x27;星期一&#x27;</span>, <span class="string">&#x27;星期二&#x27;</span>, <span class="string">&#x27;星期三&#x27;</span>, <span class="string">&#x27;星期四&#x27;</span>, <span class="string">&#x27;星期五&#x27;</span>, <span class="string">&#x27;星期六&#x27;</span>,]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(week[w]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 案例二-年终奖分配</span></span><br><span class="line"><span class="keyword">var</span> reward = &#123;</span><br><span class="line"><span class="attr">A</span>: <span class="keyword">function</span> (<span class="params">salary</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> salary * <span class="number">2</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">B</span>: <span class="keyword">function</span> (<span class="params">salary</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> salary * <span class="number">1</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">C</span>: <span class="keyword">function</span> (<span class="params">salary</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">D</span>: <span class="keyword">function</span> (<span class="params">salary</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> -salary</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reward[<span class="string">&#x27;A&#x27;</span>](<span class="number">6000</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reward[<span class="string">&#x27;B&#x27;</span>](<span class="number">6000</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reward[<span class="string">&#x27;C&#x27;</span>](<span class="number">6000</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reward[<span class="string">&#x27;D&#x27;</span>](<span class="number">6000</span>));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 案例三-表单验证策略</span></span><br><span class="line"><span class="keyword">const</span> strategies = &#123;</span><br><span class="line"><span class="attr">isEmpty</span>: <span class="keyword">function</span> (<span class="params">val, err</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (val === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> err</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">minLength</span>: <span class="keyword">function</span> (<span class="params">val, len, errMsg</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (val.<span class="property">length</span> &lt; len) &#123;</span><br><span class="line"><span class="keyword">return</span> errMsg</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn&#x27;</span>).<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">var</span> user = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;user&#x27;</span>).<span class="property">value</span></span><br><span class="line"><span class="keyword">var</span> pwd = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;pwd&#x27;</span>).<span class="property">value</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> userStrategy = strategies.<span class="title function_">isEmpty</span>(user, <span class="string">&#x27;请输入账号&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> pwdStrategy = strategies.<span class="title function_">isEmpty</span>(pwd, <span class="string">&#x27;请输入密码&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> pwdLength = strategies.<span class="title function_">minLength</span>(pwd, <span class="number">6</span>, <span class="string">&#x27;密码不能小于6位&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> err = userStrategy || pwdStrategy || pwdLength</span><br><span class="line"><span class="keyword">if</span> (err) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="title function_">alert</span>(err)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="14-4-观察者模式-双向数据绑定"><a href="#14-4-观察者模式-双向数据绑定" class="headerlink" title="14.4 观察者模式(双向数据绑定)"></a>14.4 观察者模式(双向数据绑定)</h3><p>概述：观察者模式是指一个对象维持一系列依赖于它的对象，当有状态发生变更的时候，就会去通知这一系列的对象去更新。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 观察者</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Observe</span> (name) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Observe</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">update</span> = <span class="keyword">function</span> (<span class="params">msg</span>) &#123; <span class="comment">// 更新</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27;收到&#x27;</span> + msg + <span class="string">&#x27;通知了&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 主题：楼盘</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Subject</span> (name) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observes</span> = [] <span class="comment">// 收集所有关注该楼盘的对象</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Subject</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">add</span> = <span class="keyword">function</span> (<span class="params">observer</span>) &#123; <span class="comment">// 添加关注着</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observes</span>.<span class="title function_">push</span>(observer)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Subject</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">notify</span> = <span class="keyword">function</span> (<span class="params">msg</span>) &#123; <span class="comment">// 通知</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observes</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        item.<span class="title function_">update</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27;-&#x27;</span> + msg)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Subject</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">remove</span> = <span class="keyword">function</span> (<span class="params">observer</span>) &#123; <span class="comment">// 移除某一个</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">observes</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">observes</span>[i] === observer) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">observes</span>.<span class="title function_">splice</span>(i, <span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Subject</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">clear</span> = <span class="keyword">function</span> (<span class="params">observer</span>) &#123;<span class="comment">// 移除所有</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observes</span> = []</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建观察者</span></span><br><span class="line"><span class="keyword">const</span> jack = <span class="keyword">new</span> <span class="title class_">Observe</span>(<span class="string">&#x27;jack&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> lilei = <span class="keyword">new</span> <span class="title class_">Observe</span>(<span class="string">&#x27;李磊&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> lucy = <span class="keyword">new</span> <span class="title class_">Observe</span>(<span class="string">&#x27;lucy&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建主题</span></span><br><span class="line"><span class="keyword">const</span> hengda = <span class="keyword">new</span> <span class="title class_">Subject</span>(<span class="string">&#x27;恒大&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> wanda = <span class="keyword">new</span> <span class="title class_">Subject</span>(<span class="string">&#x27;万达&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 观察者关注恒大楼盘</span></span><br><span class="line">hengda.<span class="title function_">add</span>(jack)</span><br><span class="line">hengda.<span class="title function_">add</span>(lucy)</span><br><span class="line"><span class="comment">// 观察者管着万达楼盘</span></span><br><span class="line">wanda.<span class="title function_">add</span>(lilei)</span><br><span class="line">wanda.<span class="title function_">add</span>(lucy)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 发布新楼盘</span></span><br><span class="line">hengda.<span class="title function_">notify</span>(<span class="string">&#x27;破产了&#x27;</span>)</span><br><span class="line">wanda.<span class="title function_">notify</span>(<span class="string">&#x27;新楼盘&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="14-5-发布订阅者模式-V2原理，eventBus"><a href="#14-5-发布订阅者模式-V2原理，eventBus" class="headerlink" title="14.5 发布订阅者模式(V2原理，eventBus)"></a>14.5 发布订阅者模式(V2原理，eventBus)</h3><p>概述：是指希望接受通知的对象给予一个主题通过自定义事件订阅，发布事件的对象通过事件中心去通知所有的主题订阅者。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">EventBus</span> () &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">handleEvents</span> = &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">EventBus</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">on</span> = <span class="keyword">function</span> (<span class="params">type,callback</span>) &#123;</span><br><span class="line">    <span class="comment">// 订阅</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">handleEvents</span>[type]) &#123; <span class="comment">// 如果不存在事件，则初始化为一个数组</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">handleEvents</span>[type] = []</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 将回调函数添加进去</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">handleEvents</span>[type].<span class="title function_">push</span>(callback)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">EventBus</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">emit</span> = <span class="keyword">function</span> (<span class="params">type, ...args</span>) &#123; </span><br><span class="line">    <span class="comment">// 发布</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">handleEvents</span>[type]) &#123; <span class="comment">// 如果存在事件</span></span><br><span class="line">        <span class="keyword">const</span> handleEvent = <span class="variable language_">this</span>.<span class="property">handleEvents</span>[type].<span class="title function_">slice</span>() <span class="comment">// 浅拷贝</span></span><br><span class="line"></span><br><span class="line">        handleEvent.<span class="title function_">forEach</span>(<span class="function"><span class="params">callback</span> =&gt;</span> &#123;</span><br><span class="line">          callback.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args) <span class="comment">// 确保 this 指针正确</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 订阅房源消息</span></span><br><span class="line">    <span class="keyword">const</span> bus = <span class="keyword">new</span> <span class="title class_">EventBus</span>() <span class="comment">// 实践中心</span></span><br><span class="line">    bus.<span class="title function_">on</span>(<span class="string">&#x27;wanda&#x27;</span>, <span class="keyword">function</span> (<span class="params">msg</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;lucy订阅的&#x27;</span> + msg);</span><br><span class="line">    &#125;)</span><br><span class="line">    bus.<span class="title function_">on</span>(<span class="string">&#x27;wanke&#x27;</span>, <span class="keyword">function</span> (<span class="params">msg</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;jack订阅的&#x27;</span> + msg);</span><br><span class="line">    &#125;)</span><br><span class="line">    bus.<span class="title function_">on</span>(<span class="string">&#x27;hengda&#x27;</span>, <span class="keyword">function</span> (<span class="params">msg</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;乐磊订阅的&#x27;</span> + msg);</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 发布消息</span></span><br><span class="line">    bus.<span class="title function_">emit</span>(<span class="string">&#x27;wanda&#x27;</span>, <span class="string">&#x27;破产了&#x27;</span>)</span><br><span class="line">    bus.<span class="title function_">emit</span>(<span class="string">&#x27;wanke&#x27;</span>, <span class="string">&#x27;有新楼盘了&#x27;</span>)</span><br><span class="line">    bus.<span class="title function_">emit</span>(<span class="string">&#x27;hengda&#x27;</span>, <span class="string">&#x27;有新楼盘了&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="15-defineProperty"><a href="#15-defineProperty" class="headerlink" title="15. defineProperty"></a>15. defineProperty</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;jack&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 参数：劫持对象，对象属性，属性值</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;age&#x27;</span>, &#123;</span><br><span class="line">    <span class="comment">//value:18, // 属性值</span></span><br><span class="line">    <span class="comment">//writeable:true, // 是否可以被修改 默认为false,不可以</span></span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">true</span>, <span class="comment">// 是否可以被删除</span></span><br><span class="line">    <span class="attr">enumerable</span>: <span class="literal">true</span>, <span class="comment">// 是否可以枚举</span></span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="comment">// 访问 age 属性时会调用该方法，返回值就是age的值</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">20</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="comment">// 修改age的值得时候，会调用该方法</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br></pre></td></tr></table></figure>

<h3 id="15-1-单个数据劫持"><a href="#15-1-单个数据劫持" class="headerlink" title="15.1 单个数据劫持"></a>15.1 单个数据劫持</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">    <span class="attr">msg</span>: <span class="string">&#x27;Hi&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> vm = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(vm, <span class="string">&#x27;msg&#x27;</span>, &#123;</span><br><span class="line">    get () &#123;</span><br><span class="line">        <span class="keyword">return</span> data.<span class="property">msg</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 修改属性值</span></span><br><span class="line">    set (newValue) &#123;</span><br><span class="line">        <span class="keyword">if</span> (newValue === data.<span class="property">msg</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        data.<span class="property">msg</span> = newValue</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#app&#x27;</span>).<span class="property">innerHTML</span> = data.<span class="property">msg</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;) </span><br></pre></td></tr></table></figure>

<h3 id="15-2-多个数据劫持"><a href="#15-2-多个数据劫持" class="headerlink" title="15.2 多个数据劫持"></a>15.2 多个数据劫持</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">    <span class="attr">msg</span>: <span class="string">&#x27;Hi&#x27;</span>,</span><br><span class="line">    <span class="attr">num</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> vm = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Object.keys 返回对象的所有的属性</span></span><br><span class="line"><span class="comment">// Object.values 返回对象的所有的属性值</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">defineReact</span> () &#123;</span><br><span class="line">    <span class="keyword">const</span> arr = <span class="title class_">Object</span>.<span class="title function_">keys</span>(data)</span><br><span class="line">    arr.<span class="title function_">forEach</span>(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(vm, key, &#123;</span><br><span class="line">            get () &#123;</span><br><span class="line">                <span class="keyword">return</span> data[key]</span><br><span class="line">            &#125;,</span><br><span class="line">            set (newValue) &#123;</span><br><span class="line">                <span class="keyword">if</span> (newValue === data[key]) &#123;</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                &#125;</span><br><span class="line">                data[key] = newValue</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 试图更新</span></span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#app&#x27;</span>).<span class="property">innerHTML</span> = data[key]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">defineReact</span>()</span><br></pre></td></tr></table></figure>



<h1 id="ES6总结"><a href="#ES6总结" class="headerlink" title="ES6总结"></a>ES6总结</h1><h2 id="1-Symbol"><a href="#1-Symbol" class="headerlink" title="1. Symbol"></a>1. Symbol</h2><p><code>概述</code>：表示独一无二的值</p>
<p><code>特点</code>：</p>
<ul>
<li><code>Symbol()</code>函数返回值一定是<code>唯一</code>的。</li>
<li><code>Symbol()</code>可以作为对象属性的标识。</li>
<li>调用<code>Symbol()</code>函数不需要加<code>new</code></li>
<li><code>Symbol()</code>作为对象属性时，不能被for in (<code>Object.keys</code>) 访问。</li>
<li>在其它模块中，只有通过定义的Symbol变量进行访问。</li>
</ul>
<p><code>用法</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="title class_">Symbol</span>(); <span class="comment">// 每次调用该函数一定会得到不同的值</span></span><br><span class="line"><span class="keyword">var</span> s2 = <span class="title class_">Symbol</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1 == s2); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s3 = <span class="title class_">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>); <span class="comment">// 带上参数与不带参数一样</span></span><br><span class="line"><span class="keyword">var</span> s4 = <span class="title class_">Symbol</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s3 == s4); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> id = <span class="title class_">Symbol</span>();</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    [id]: <span class="string">&#x27;183910238&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>案例</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> t1 = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;jack&#x27;</span>,</span><br><span class="line"><span class="attr">age</span>: <span class="number">12</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> t2 = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;lily&#x27;</span>,</span><br><span class="line"><span class="attr">city</span>: <span class="string">&#x27;成都&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象合并时，属性相同则会发生覆盖</span></span><br><span class="line"><span class="keyword">const</span> t3 = &#123;</span><br><span class="line">...t1,</span><br><span class="line">...t2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(t3); <span class="comment">// &#123;name: &#x27;lily&#x27;, age: 12, city: &#x27;成都&#x27;&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用 Symbol 解决对象属性被覆盖的问题</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="title class_">Symbol</span>(<span class="string">&#x27;name&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> age = <span class="title class_">Symbol</span>(<span class="string">&#x27;age&#x27;</span>);</span><br><span class="line"><span class="keyword">let</span> t1 = &#123;</span><br><span class="line">[name]: <span class="string">&#x27;jack&#x27;</span>,</span><br><span class="line">[age]: <span class="number">12</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> t2 = &#123;</span><br><span class="line"><span class="attr">name</span>: <span class="string">&#x27;lily&#x27;</span>,</span><br><span class="line"><span class="attr">city</span>: <span class="string">&#x27;成都&#x27;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 对象合并时，属性相同则会发生覆盖</span></span><br><span class="line"><span class="comment">// Object.assign(&#123;&#125;, t1, t2)</span></span><br><span class="line"><span class="keyword">const</span> t3 = &#123;</span><br><span class="line">...t1,</span><br><span class="line">...t2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(t3); <span class="comment">// &#123;name: &#x27;lily&#x27;, city: &#x27;成都&#x27;, Symbol(name): &#x27;jack&#x27;, Symbol(age): 12&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="2-class"><a href="#2-class" class="headerlink" title="2. class"></a>2. class</h2><p>概述：<code>class</code>是<code>ES6</code>提出来的一个概念，更加接近传统语言中的类的写法，作为对象模板</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Father</span> () &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Father</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayHi</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Father</span>.<span class="property">version</span> = <span class="string">&#x27;1.0.0&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="title class_">Father</span>()</span><br><span class="line">p1.<span class="property">name</span></span><br><span class="line">p1.<span class="title function_">sayHi</span>()</span><br><span class="line"><span class="title class_">Father</span>.<span class="property">version</span> </span><br><span class="line">     </span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name,age</span>) &#123; <span class="comment">// 构造函数</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">sayHi</span>(<span class="params"></span>) &#123; <span class="comment">// 原型对象上的方法</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;这是ES6的class&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> version = <span class="string">&#x27;1.0.0&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p2 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;jack,18&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p2.<span class="property">name</span>) <span class="comment">// jack</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Person</span>.<span class="property">version</span>) <span class="comment">//  1.0.0</span></span><br><span class="line">p2.<span class="title function_">sayHi</span>() <span class="comment">// 这是ES6的class</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ES7</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> &#123;</span><br><span class="line">    name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">age = <span class="string">&#x27;&#x27;</span></span><br><span class="line">sayHi () &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hi&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">static</span> version = <span class="string">&#x27;1.0.0&#x27;</span></span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// class 继承</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123; <span class="comment">// 子类继承父类</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, age, className</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(name, age) <span class="comment">// 子类构造必须调用 super , 理解为父类的构造函数</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">className</span> = className</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&#x27;lucy&#x27;</span>, <span class="number">12</span>, <span class="string">&#x27;三年级一班&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简单Vue实例的实现</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vue</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">            <span class="attr">msg</span>: <span class="string">&#x27;hi&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    get fn () &#123; <span class="comment">// 当访问实例的fn属性时，会触发该方法，必须设置返回值</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">msg</span></span><br><span class="line">    &#125;</span><br><span class="line">    set fn (newVal) &#123; <span class="comment">// 当修改实例的fn属性时，就会触发该方法</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">msg</span> = newVal</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vue = <span class="keyword">new</span> <span class="title class_">Vue</span>()</span><br><span class="line">vue.<span class="property">fn</span> = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(vue.<span class="property">fn</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="JS手写题总结"><a href="#JS手写题总结" class="headerlink" title="JS手写题总结"></a>JS手写题总结</h1><h2 id="1-防抖节流"><a href="#1-防抖节流" class="headerlink" title="1. 防抖节流"></a>1. 防抖节流</h2><p>防抖：触发高频事件N秒后只会执行一次，如果N秒内事件再次触发，则会重新计时。</p>
<p>应用场景：</p>
<ul>
<li>search搜索联想，用户在不断输入值时，用房都来节约请求</li>
<li>window触发resize的时候，不断地调整浏览器窗口会不断的触发这个事件，用防抖来让其只触发一次</li>
</ul>
<p>简洁版：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">func, wait</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> timeout;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> context = <span class="variable language_">this</span>;</span><br><span class="line">        <span class="keyword">var</span> args = <span class="variable language_">arguments</span>;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timeout)</span><br><span class="line">        timeout = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            func.<span class="title function_">apply</span>(context, args)</span><br><span class="line">        &#125;, wait);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="keyword">var</span> node = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;layout&#x27;</span>)</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getUserAction</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>, e)  <span class="comment">// 分别打印：node 这个节点 和 MouseEvent</span></span><br><span class="line">    node.<span class="property">innerHTML</span> = count++;</span><br><span class="line">&#125;;</span><br><span class="line">node.<span class="property">onmousemove</span> = <span class="title function_">debounce</span>(getUserAction, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure>

<p>最终版：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 支持this event</span></span><br><span class="line"><span class="comment">// 支持立即执行 函数可能有返回值 支持取消功能</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">func, wait, immediate</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> timeout, result;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> debounced = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> context = <span class="variable language_">this</span>;</span><br><span class="line">        <span class="keyword">var</span> args = <span class="variable language_">arguments</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (timeout) <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">        <span class="keyword">if</span> (immediate) &#123;</span><br><span class="line">            <span class="comment">// 如果已经执行过，不再执行</span></span><br><span class="line">            <span class="keyword">var</span> callNow = !timeout;</span><br><span class="line">            timeout = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">                timeout = <span class="literal">null</span>;</span><br><span class="line">            &#125;, wait)</span><br><span class="line">            <span class="keyword">if</span> (callNow) result = func.<span class="title function_">apply</span>(context, args)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            timeout = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">                func.<span class="title function_">apply</span>(context, args)</span><br><span class="line">            &#125;, wait);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    debounced.<span class="property">cancel</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">        timeout = <span class="literal">null</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> debounced;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>节流：在规定的时间内，只能触发一次函数。如果这个时间内触发多次，则只会执行最后一次。</p>
<p>应用场景：</p>
<ul>
<li>鼠标不断点击触发，<code>mousedown</code>只触发一次。</li>
<li>监听滚动事件，比如是否滑到底部自动加载更多，用节流来判断</li>
</ul>
<p>简洁版：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params">func, wait</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> context, args;</span><br><span class="line">    <span class="keyword">var</span> previous = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> now = +<span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        context = <span class="variable language_">this</span>;</span><br><span class="line">        args = <span class="variable language_">arguments</span>;</span><br><span class="line">        <span class="keyword">if</span> (now - previous &gt; wait) &#123;</span><br><span class="line">            func.<span class="title function_">apply</span>(context, args);</span><br><span class="line">            previous = now;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>最终版：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 支持取消节流 传入第三个参数 控制是否立即执行以及结束调用是否还要执行一次</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params">func, wait, options</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> timeout, context, args, result;</span><br><span class="line">    <span class="keyword">var</span> previous = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (!options) options = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> later = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        previous = options.<span class="property">leading</span> === <span class="literal">false</span> ? <span class="number">0</span> : <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>();</span><br><span class="line">        timeout = <span class="literal">null</span>;</span><br><span class="line">        func.<span class="title function_">apply</span>(context, args);</span><br><span class="line">        <span class="keyword">if</span> (!timeout) context = args = <span class="literal">null</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> throttled = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>();</span><br><span class="line">        <span class="keyword">if</span> (!previous &amp;&amp; options.<span class="property">leading</span> === <span class="literal">false</span>) previous = now;</span><br><span class="line">        <span class="keyword">var</span> remaining = wait - (now - previous);</span><br><span class="line">        context = <span class="variable language_">this</span>;</span><br><span class="line">        args = <span class="variable language_">arguments</span>;</span><br><span class="line">        <span class="keyword">if</span> (remaining &lt;= <span class="number">0</span> || remaining &gt; wait) &#123;</span><br><span class="line">            <span class="keyword">if</span> (timeout) &#123;</span><br><span class="line">                <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">                timeout = <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            previous = now;</span><br><span class="line">            func.<span class="title function_">apply</span>(context, args);</span><br><span class="line">            <span class="keyword">if</span> (!timeout) context = args = <span class="literal">null</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!timeout &amp;&amp; options.<span class="property">trailing</span> !== <span class="literal">false</span>) &#123;</span><br><span class="line">            timeout = <span class="built_in">setTimeout</span>(later, remaining);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    throttled.<span class="property">cancel</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">        previous = <span class="number">0</span>;</span><br><span class="line">        timeout = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> throttled;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="2、Promise"><a href="#2、Promise" class="headerlink" title="2、Promise"></a>2、Promise</h2></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://793335974.github.io/79333">菜</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://793335974.github.io/79333/2021/01/11/JS%E7%AC%94%E8%AE%B0/">https://793335974.github.io/79333/2021/01/11/JS%E7%AC%94%E8%AE%B0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://793335974.github.io/79333" target="_blank">野菜收留所</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/79333/tags/%E7%BC%96%E7%A8%8B/">编程</a><a class="post-meta__tags" href="/79333/tags/js/">js</a><a class="post-meta__tags" href="/79333/tags/%E7%AC%94%E8%AE%B0/">笔记</a></div><div class="post_share"><div class="social-share" data-image="https://img2.imgtp.com/2024/04/15/RbohSoQn.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://npm.elemecdn.com/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://npm.elemecdn.com/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/79333/2021/01/11/CSS%E7%AC%94%E8%AE%B0/" title="CSS笔记"><img class="cover" src="https://img2.imgtp.com/2024/04/12/UByQ4M5b.jpeg" onerror="onerror=null;src='/79333/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">CSS笔记</div></div></a></div><div class="next-post pull-right"><a href="/79333/2021/01/01/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/" title="计算机基础笔记"><img class="cover" src="https://img2.imgtp.com/2024/04/12/0rVNCJRj.jpg" onerror="onerror=null;src='/79333/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">计算机基础笔记</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/79333/2021/01/18/Mysql%E7%AC%94%E8%AE%B0/" title="Mysql笔记"><img class="cover" src="https://img2.imgtp.com/2024/04/12/ZcTTKk9w.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-18</div><div class="title">Mysql笔记</div></div></a></div><div><a href="/79333/2021/05/24/TS%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/" title="TS快速上手"><img class="cover" src="https://img2.imgtp.com/2024/04/12/KeklUXen.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-05-24</div><div class="title">TS快速上手</div></div></a></div><div><a href="/79333/2021/01/11/Canvas%E7%AC%94%E8%AE%B0/" title="Canvas笔记"><img class="cover" src="https://img2.imgtp.com/2024/04/12/aCPuRH0v.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-11</div><div class="title">Canvas笔记</div></div></a></div><div><a href="/79333/2021/01/11/CSS%E7%AC%94%E8%AE%B0/" title="CSS笔记"><img class="cover" src="https://img2.imgtp.com/2024/04/12/UByQ4M5b.jpeg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-11</div><div class="title">CSS笔记</div></div></a></div><div><a href="/79333/2021/04/15/Git%E7%AC%94%E8%AE%B0/" title="Git笔记"><img class="cover" src="https://img2.imgtp.com/2024/04/15/xeTaKKlo.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-04-15</div><div class="title">Git笔记</div></div></a></div><div><a href="/79333/2021/11/21/HTML%E7%AC%94%E8%AE%B0/" title="HTML笔记"><img class="cover" src="https://img2.imgtp.com/2024/04/15/D1svuYjj.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-11-21</div><div class="title">HTML笔记</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/79333/img/avatar.jpg" onerror="this.onerror=null;this.src='/79333/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">菜</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/79333/archives/"><div class="headline">文章</div><div class="length-num">21</div></a><a href="/79333/tags/"><div class="headline">标签</div><div class="length-num">26</div></a><a href="/79333/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">太难了！！！</div></div><div class="card-widget"><div class="item-headline"><i></i><span></span></div><div class="item-content"><div class="container-width"><video class="videoPlayer" width="100%" controls loop  muted src="//api.yujn.cn/api/zzxjj.php"></video><div class="button-container"><button onclick="togglePlayPause()">播放/暂停</button><button onclick="playNextVideo()">下一个视频</button></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JS%E5%9F%BA%E7%A1%80"><span class="toc-text">JS基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%88%9D%E8%AF%86js"><span class="toc-text">一、初识js</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%B9%A6%E5%86%99%E4%BD%8D%E7%BD%AE"><span class="toc-text">1. 书写位置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%B3%A8%E9%87%8A"><span class="toc-text">2. 注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E8%AF%AD%E5%8F%A5"><span class="toc-text">3. 输入输出语句</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%8F%98%E9%87%8F"><span class="toc-text">二、变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">1. 数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E7%AE%80%E5%8D%95%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">1.1 简单数据类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-%E5%A4%8D%E6%9D%82%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">1.2 复杂数据类型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E8%BD%AC%E6%8D%A2"><span class="toc-text">2. 数据类型的转换</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">2.1 转字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-%E8%BD%AC%E6%95%B0%E5%AD%97%E5%9E%8B"><span class="toc-text">2.2 转数字型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-%E8%BD%AC%E5%B8%83%E5%B0%94%E5%9E%8B"><span class="toc-text">2.3 转布尔型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">3. 获取数据类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">三、运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">1. 算数运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">2. 比较运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">3. 逻辑运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">4. 赋值运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E4%B8%80%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">5. 一元运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-text">6. 优先级</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E9%80%89%E6%8B%A9%E7%BB%93%E6%9E%84"><span class="toc-text">四、选择结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-if"><span class="toc-text">1. if</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-if%E5%8D%95%E5%88%86%E6%94%AF"><span class="toc-text">1.1 if单分支</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-if%E5%8F%8C%E5%88%86%E6%94%AF"><span class="toc-text">1.2 if双分支</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-if%E5%A4%9A%E5%88%86%E6%94%AF"><span class="toc-text">1.3 if多分支</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-%E4%B8%89%E5%85%83%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text">1.4 三元表达式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-switch"><span class="toc-text">2. switch</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84"><span class="toc-text">五、循环结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-for"><span class="toc-text">1. for</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-while"><span class="toc-text">2. while</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-do-while"><span class="toc-text">3. do while</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-continue"><span class="toc-text">4. continue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-break"><span class="toc-text">5. break</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E6%95%B0%E7%BB%84"><span class="toc-text">六、数组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84"><span class="toc-text">1. 创建数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0"><span class="toc-text">2. 获取数组元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%95%B0%E7%BB%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">3. 数组常用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="toc-text">4. 冒泡排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%95%B0%E7%BB%84%E6%9C%80%E5%A4%A7%E5%80%BC"><span class="toc-text">5. 数组最大值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D"><span class="toc-text">6. 数组去重</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E5%8F%8D%E8%BD%AC%E6%95%B0%E7%BB%84"><span class="toc-text">7. 反转数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E9%81%8D%E5%8E%86%E6%95%B0%E7%BB%84"><span class="toc-text">8. 遍历数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-for-of"><span class="toc-text">1. for of</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-forEach"><span class="toc-text">2. forEach</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-some"><span class="toc-text">3. some</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-every"><span class="toc-text">4. every</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-map"><span class="toc-text">5. map</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-filter"><span class="toc-text">6. filter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-find"><span class="toc-text">7. find()</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E5%87%BD%E6%95%B0"><span class="toc-text">七、函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%A3%B0%E6%98%8E%E5%87%BD%E6%95%B0"><span class="toc-text">1. 声明函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%B8%A6%E5%8F%82%E6%95%B0%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-text">2. 带参数的函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%87%BD%E6%95%B0%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="toc-text">3. 函数的返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-arguments%E4%BC%AA%E6%95%B0%E7%BB%84"><span class="toc-text">4. arguments伪数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E5%AF%B9%E8%B1%A1"><span class="toc-text">八、对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%A3%B0%E6%98%8E%E5%AF%B9%E8%B1%A1"><span class="toc-text">1. 声明对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E5%AD%97%E9%9D%A2%E9%87%8F%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1"><span class="toc-text">1.1 字面量创建对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-%E5%88%A9%E7%94%A8new-Object-%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1"><span class="toc-text">1.2 利用new Object() 创建对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-%E5%88%A9%E7%94%A8%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1"><span class="toc-text">1.3 利用构造函数创建对象</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-new%E5%85%B3%E9%94%AE%E5%AD%97%E5%86%85%E9%83%A8"><span class="toc-text">2. new关键字内部</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%81%8D%E5%8E%86%E5%AF%B9%E8%B1%A1"><span class="toc-text">3. 遍历对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Date%E5%AF%B9%E8%B1%A1"><span class="toc-text">4. Date对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-for-in-%E5%92%8Cfor-of-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">5. for in 和for of 的区别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">九、字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-text">1. 字符串的常用方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E3%80%81%E6%AD%A3%E5%88%99"><span class="toc-text">十、正则</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%AD%A3%E5%88%99%E8%A7%84%E5%88%99"><span class="toc-text">1. 正则规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%AD%A3%E5%88%99%E6%AF%94%E8%BE%83"><span class="toc-text">2. 正则比较</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DOM%E6%80%BB%E7%BB%93"><span class="toc-text">DOM总结</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81-%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E6%96%B9%E5%BC%8F"><span class="toc-text">一、 获取元素方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BC%A0%E7%BB%9F%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E6%96%B9%E5%BC%8F"><span class="toc-text">1. 传统获取元素方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-H5%E6%96%B0%E5%A2%9E%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E6%96%B9%E5%BC%8F"><span class="toc-text">2. H5新增获取元素方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E4%B8%A4%E7%A7%8D%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">3. 两种获取元素的区别</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81-%E8%8A%82%E7%82%B9%E6%93%8D%E4%BD%9C"><span class="toc-text">二、 节点操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%8E%B7%E5%8F%96%E5%AD%90%E8%8A%82%E7%82%B9"><span class="toc-text">1. 获取子节点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E8%8A%82%E7%82%B9"><span class="toc-text">2. 创建节点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%88%A0%E9%99%A4%E8%8A%82%E7%82%B9"><span class="toc-text">3. 删除节点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E6%B7%BB%E5%8A%A0%E5%88%A0%E9%99%A4-class%E7%B1%BB"><span class="toc-text">4. 添加删除 class类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E6%B7%BB%E5%8A%A0%E5%B1%9E%E6%80%A7"><span class="toc-text">5. 添加属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E6%B7%BB%E5%8A%A0%E6%A0%87%E7%AD%BE"><span class="toc-text">6. 添加标签</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81DOM%E6%93%8D%E4%BD%9C"><span class="toc-text">三、DOM操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6"><span class="toc-text">四、绑定事件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BC%A0%E7%BB%9F%E6%96%B9%E6%B3%95%E7%BB%91%E5%AE%9A"><span class="toc-text">1. 传统方法绑定</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E7%8E%B0%E4%BB%A3%E6%96%B9%E6%B3%95%E7%BB%91%E5%AE%9A"><span class="toc-text">2. 现代方法绑定</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%8C%BA%E5%88%AB"><span class="toc-text">3. 区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%B8%B8%E8%A7%81%E7%9A%84%E4%BA%8B%E4%BB%B6%E7%B1%BB%E5%9E%8B"><span class="toc-text">4. 常见的事件类型</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#BOM%E6%80%BB%E7%BB%93"><span class="toc-text">BOM总结</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81location%E5%AF%B9%E8%B1%A1"><span class="toc-text">一、location对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81window%E5%AF%B9%E8%B1%A1"><span class="toc-text">二、window对象</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JS%E9%AB%98%E7%BA%A7%E6%80%BB%E7%BB%93"><span class="toc-text">JS高级总结</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-IIFE"><span class="toc-text">1. IIFE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0"><span class="toc-text">2. 递归函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%83%B0%E6%80%A7%E8%BD%BD%E5%85%A5"><span class="toc-text">3. 惰性载入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">4. 作用域</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E9%97%AD%E5%8C%85-%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-text">5. 闭包(计算属性)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E5%B0%81%E8%A3%85%E4%B8%80%E4%B8%AA%E7%BC%93%E5%AD%98%E5%B7%A5%E5%85%B7"><span class="toc-text">5.1 封装一个缓存工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7-%E7%AE%80%E6%98%93%E5%8E%9F%E7%90%86"><span class="toc-text">5.2 计算属性 简易原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-%E4%BB%BB%E5%8A%A1%E9%98%9F%E5%88%97"><span class="toc-text">5.3 任务队列</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-%E9%97%AD%E5%8C%85%E6%A1%88%E4%BE%8B"><span class="toc-text">5.4 闭包案例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F"><span class="toc-text">6. 内存泄漏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6"><span class="toc-text">7. 垃圾回收机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E6%B5%85%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="toc-text">8. 浅拷贝和深拷贝</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E5%A0%86%E5%92%8C%E6%A0%88"><span class="toc-text">9. 堆和栈</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="toc-text">10. 面向对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-%E5%B0%81%E8%A3%85"><span class="toc-text">10.1 封装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-%E7%BB%A7%E6%89%BF"><span class="toc-text">10.2 继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-3-%E5%A4%9A%E6%80%81"><span class="toc-text">10.3 多态</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-New%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">11. New关键字</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E5%8E%9F%E5%9E%8B"><span class="toc-text">12. 原型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-%E5%8E%9F%E5%9E%8B%E9%93%BE"><span class="toc-text">12.1 原型链</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-this"><span class="toc-text">13. this</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#13-1-%E6%A6%82%E8%BF%B0"><span class="toc-text">13.1 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-2-this%E6%8C%87%E5%90%91"><span class="toc-text">13.2 this指向</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E9%BB%98%E8%AE%A4%E7%BB%91%E5%AE%9A"><span class="toc-text">1. 默认绑定</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E9%9A%90%E5%BC%8F%E7%BB%91%E5%AE%9A"><span class="toc-text">2. 隐式绑定</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84this"><span class="toc-text">3. 构造函数的this</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%98%BE%E7%A4%BA%E7%BB%91%E5%AE%9A"><span class="toc-text">4. 显示绑定</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-fn-calll-obj-%E5%8F%82%E6%95%B01%EF%BC%8C%E5%8F%82%E6%95%B02%EF%BC%8C"><span class="toc-text">4.1 fn.calll(obj,参数1，参数2，...)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-fn-apply-obj-%E5%8F%82%E6%95%B01%EF%BC%8C%E5%8F%82%E6%95%B02%EF%BC%8C%E5%8F%82%E6%95%B03"><span class="toc-text">4.2 fn.apply(obj,[参数1，参数2，参数3...])</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-fn-bind-obj-%E5%8F%82%E6%95%B01"><span class="toc-text">4.3 fn.bind(obj,参数1)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-%E6%80%BB%E7%BB%93"><span class="toc-text">4.4 总结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-text">5. 箭头函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-JS%E7%9A%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%EF%BC%88%E5%8E%9F%E7%90%86%EF%BC%89"><span class="toc-text">14. JS的设计模式（原理）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#14-1-%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="toc-text">14.1 简单工厂模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-2-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F-vuex-modal"><span class="toc-text">14.2 单例模式(vuex,modal)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-3-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F-element%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81"><span class="toc-text">14.3 策略模式(element表单验证)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-4-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F-%E5%8F%8C%E5%90%91%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="toc-text">14.4 观察者模式(双向数据绑定)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-5-%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E8%80%85%E6%A8%A1%E5%BC%8F-V2%E5%8E%9F%E7%90%86%EF%BC%8CeventBus"><span class="toc-text">14.5 发布订阅者模式(V2原理，eventBus)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-defineProperty"><span class="toc-text">15. defineProperty</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-1-%E5%8D%95%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%8A%AB%E6%8C%81"><span class="toc-text">15.1 单个数据劫持</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-2-%E5%A4%9A%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%8A%AB%E6%8C%81"><span class="toc-text">15.2 多个数据劫持</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ES6%E6%80%BB%E7%BB%93"><span class="toc-text">ES6总结</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Symbol"><span class="toc-text">1. Symbol</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-class"><span class="toc-text">2. class</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JS%E6%89%8B%E5%86%99%E9%A2%98%E6%80%BB%E7%BB%93"><span class="toc-text">JS手写题总结</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E9%98%B2%E6%8A%96%E8%8A%82%E6%B5%81"><span class="toc-text">1. 防抖节流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81Promise"><span class="toc-text">2、Promise</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/79333/2024/05/03/vue%E6%8C%87%E4%BB%A4/" title="vue指令命令"><img src="https://img2.imgtp.com/2024/04/15/FRr4gpVn.webp" onerror="this.onerror=null;this.src='/79333/img/404.jpg'" alt="vue指令命令"/></a><div class="content"><a class="title" href="/79333/2024/05/03/vue%E6%8C%87%E4%BB%A4/" title="vue指令命令">vue指令命令</a><time datetime="2024-05-03T03:46:10.854Z" title="发表于 2024-05-03 11:46:10">2024-05-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/79333/2024/04/12/600%E4%B8%AA%E8%8B%B1%E8%AF%AD%E5%9B%9B%E7%BA%A7%E5%8D%95%E8%AF%8D/" title="英语四级单词"><img src="https://img2.imgtp.com/2024/04/12/5gAB4WnG.webp" onerror="this.onerror=null;this.src='/79333/img/404.jpg'" alt="英语四级单词"/></a><div class="content"><a class="title" href="/79333/2024/04/12/600%E4%B8%AA%E8%8B%B1%E8%AF%AD%E5%9B%9B%E7%BA%A7%E5%8D%95%E8%AF%8D/" title="英语四级单词">英语四级单词</a><time datetime="2024-04-12T07:28:25.000Z" title="发表于 2024-04-12 15:28:25">2024-04-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/79333/2024/04/12/%E7%94%9F%E6%B4%BB%E5%B8%B8%E7%94%A8%E8%8B%B1%E8%AF%AD%E5%8D%95%E8%AF%8D/" title="生活常用英语单词"><img src="https://img2.imgtp.com/2024/04/12/5cBWXn6V.webp" onerror="this.onerror=null;this.src='/79333/img/404.jpg'" alt="生活常用英语单词"/></a><div class="content"><a class="title" href="/79333/2024/04/12/%E7%94%9F%E6%B4%BB%E5%B8%B8%E7%94%A8%E8%8B%B1%E8%AF%AD%E5%8D%95%E8%AF%8D/" title="生活常用英语单词">生活常用英语单词</a><time datetime="2024-04-12T02:46:56.000Z" title="发表于 2024-04-12 10:46:56">2024-04-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/79333/2024/04/09/this%E6%8C%87%E5%90%91%E9%97%AE%E9%A2%98/" title="this指向问题"><img src="https://img2.imgtp.com/2024/04/15/KsZO5Jfv.jpeg" onerror="this.onerror=null;this.src='/79333/img/404.jpg'" alt="this指向问题"/></a><div class="content"><a class="title" href="/79333/2024/04/09/this%E6%8C%87%E5%90%91%E9%97%AE%E9%A2%98/" title="this指向问题">this指向问题</a><time datetime="2024-04-09T11:54:26.000Z" title="发表于 2024-04-09 19:54:26">2024-04-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/79333/2024/03/24/bulid%20bk/" title="bk"><img src="https://img2.imgtp.com/2024/04/15/bhEiRmLY.webp" onerror="this.onerror=null;this.src='/79333/img/404.jpg'" alt="bk"/></a><div class="content"><a class="title" href="/79333/2024/03/24/bulid%20bk/" title="bk">bk</a><time datetime="2024-03-24T03:41:33.000Z" title="发表于 2024-03-24 11:41:33">2024-03-24</time></div></div></div></div></div></div></main><footer id="footer" style="background: radial-gradient(circle, rgba(238,174,202,1) 0%, rgba(148,187,233,0.9884746134782038) 100%);"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 菜</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/79333/js/utils.js"></script><script src="/79333/js/main.js"></script><script src="/79333/pluginsSrc/@fancyapps/ui/dist/fancybox/fancybox.umd.js?v=5.0.33"></script><script src="https://npm.elemecdn.com/instant.page/instantpage.js" type="module"></script><script src="https://npm.elemecdn.com/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://npm.elemecdn.com/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><div class="aplayer no-destroy" data-id="9812808059" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false" data-lrctype="1"> </div><script src="https://npm.elemecdn.com/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="/79333/pluginsSrc/butterfly-extsrc/dist/click-show-text.min.js?v=1.1.3" data-mobile="true" data-text="你好,富强,民主,文明,和谐,自由,平等,公正,法治,敬业,诚信,友善" data-fontsize="15px" data-random="true" async="async"></script><link rel="stylesheet" href="https://npm.elemecdn.com/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://npm.elemecdn.com/aplayer/dist/APlayer.min.js"></script><script src="https://npm.elemecdn.com/ethan4116-blog/lib/js/theme/meting.min.js"></script><script src="https://npm.elemecdn.com/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"]):not([href="/music/"]):not([href="/no-pjax/"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/79333/404.html')
  }
})</script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/79333/js/search/local-search.js"></script></div></div></body></html>